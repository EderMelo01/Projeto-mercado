(window.webpackJsonp=window.webpackJsonp||[]).push([[51,75,141],{193:function(t,e,o){"use strict";o.d(e,"a",(function(){return r})),o.d(e,"b",(function(){return c}));var n=o(17);function r(data){return Object(n.a)({url:"/api/v1/artwork/delete",method:"post",data:data})}function c(data){return Object(n.a)({url:"/api/v1/artwork/visibility",method:"post",data:data})}},2005:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));var n=["bold","underline","italic",{key:"group-more-style",title:"···",menuKeys:["through","sub","sup","clearStyle"]},"color","bgColor","insertLink","fontSize","fontFamily","lineHeight","uploadImage"]},235:function(t,e,o){"use strict";o.d(e,"g",(function(){return r})),o.d(e,"f",(function(){return c})),o.d(e,"b",(function(){return l})),o.d(e,"a",(function(){return d})),o.d(e,"e",(function(){return f})),o.d(e,"d",(function(){return h})),o.d(e,"c",(function(){return v}));var n=o(17);function r(data){return Object(n.a)({url:"/api/v1/post/portfolio/add",method:"POST",data:data})}function c(data){return Object(n.a)({url:"/api/v1/post/video/add",method:"POST",data:data})}function l(data){return Object(n.a)({url:"api/v1/post/article/add",method:"POST",data:data})}function d(data){return Object(n.a)({url:"api/v1/post/article/edit",method:"POST",data:data})}function f(data){return Object(n.a)({url:"/api/v1/resource/pre-sign/get",method:"POST",data:data})}function h(data){return Object(n.a)({url:"/api/v1/resource/pre-sign/confirm",method:"POST",data:data})}function v(data){return Object(n.a)({url:"/api/v1/resource/pre-sign/confirmPart",method:"POST",data:data})}},282:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var n=o(3),r=(o(20),o(19),o(4),{data:function(){return{}},methods:{getVideoBasicInfo:function(t){return new Promise((function(e,o){var video=document.createElement("video");video.src=t,video.preload="auto",video.crossOrigin="Anonymous",video.addEventListener("error",(function(t){o(t)})),video.addEventListener("loadedmetadata",(function(){var t={video:video,width:video.videoWidth,height:video.videoHeight,duration:video.duration};e(t)}))}))},getVideoPosterInfo:function(t){var e=this;return new Promise((function(o){var video=t.video,n=t.width,r=t.height;video.addEventListener("canplay",(function(){var canvas=document.createElement("canvas");canvas.width=n,canvas.height=r,canvas.getContext("2d").drawImage(video,0,0,n,r);var t=e.getImageSaturation(canvas),c=canvas.toDataURL("image/png");o({posterUrl:c,saturation:t})}))}))},getImageSaturation:function(canvas){var t=this,e=canvas.getContext("2d").getImageData(0,0,canvas.width,canvas.height).data;console.log(e);var o=this.binary2rgba(e).map((function(e){return t.rgb2hsl(e.r,e.g,e.b)}));return o.reduce((function(t,e){return t+e.s}),0)/o.length},rgb2hsl:function(t,g,b){t/=255,g/=255,b/=255;var e,s,o=Math.min(t,g,b),n=Math.max(t,g,b),r=(o+n)/2,c=n-o;if(n==o)e=0,s=0;else{switch(s=r>.5?c/(2-n-o):c/(n+o),n){case t:e=(g-b)/c+(g<b?6:0);break;case g:e=2+(b-t)/c;break;case b:e=4+(t-g)/c}e=Math.round(60*e)}return{h:e,s:s=Math.round(100*s),l:r=Math.round(100*r)}},binary2rgba:function(t){for(var e=[],i=0;i<t.length;i++)if(i%4!=0){var o=e[e.length-1];i%4!=1?i%4!=2?i%4!=3||(o.a=t[i]):o.b=t[i]:o.g=t[i]}else e.push({r:t[i]});return e},getBestPoster:function(t,e){var o=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var n,r,i,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getVideoBasicInfo(t);case 2:n=e.sent,r=n.duration,i=0;case 5:if(!(i<=r)){e.next=14;break}return e.next=8,o.getVideoPosterByFrame(t,i);case 8:return c=e.sent,l=c.posterUrl,c.saturation,e.abrupt("return",{posterUrl:l,duration:r});case 11:i++,e.next=5;break;case 14:case"end":return e.stop()}}),e)})))()},getVideoPosterByFrame:function(t,e){var o=this;return this.getVideoBasicInfo(t).then((function(t){var video=t.video;t.duration;return video.currentTime=e,o.getVideoPosterInfo(t)}))}}})},3172:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var n=o(3),r=(o(7),o(10),o(19),o(36),o(14),o(89),o(4),o(29),o(20),o(235)),c={data:function(){return{uploadingStatus:"init",uploadConfig:"",fileChunk:[],worker:null,progress:0,errNum:3,waitUploadIndex:[],existObj:{name:"",url:"",open:!1},uploading:!1,reloadNum:3,file:null,pre_signs:[],chunkSize:20971520,maxSize:1073741824,uploadIndex:0}},computed:{isDisabled:function(){return"pending"===this.uploadingStatus||this.disabled}},methods:{resetStatus:function(){this.progress=0,this.uploadingStatus="init",this.uploading=!1,this.fileChunk=[],this.uploadIndex=0,this.reloadNum=3,this.result={url:"",info:""},this.file=null,this.pre_signs=[]},beforeUpload:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n,r,c,l,d,f,h,v;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.resetStatus(),!((n=t.size)>e.maxSize)){o.next=5;break}return e.$message.error(e.$t("CreativeCenterPopup12",{number:1})),o.abrupt("return");case 5:if(!e.uploading){o.next=7;break}return o.abrupt("return");case 7:return e.uploading=!0,e.uploadingStatus="pending",o.next=11,e.getUploadConfig(t);case 11:r=o.sent,c=r.data,l=c.file_id,d=c.pre_signs,f=c.chunk_size,h=void 0===f?20971520:f,e.chunkSize=h||20971520,v=n/e.chunkSize>1,t.file_id=l,e.file=t,e.pre_signs=d,e.$set(e,"file",t),v?e.cutFile(t,e.startUpload):(e.fileChunk=[{uploadStatus:!1,file:{file:t},index:0,progress:0}],e.$set(e,"fileChunk",e.fileChunk),e.startUpload());case 24:case"end":return o.stop()}}),o)})))()},cutFile:function(t,e){var o=this,n=this.chunkSize;this.worker=this.$worker.run((function(t,e){for(var o=[],n=0;n<t.size;)o.push({file:t.slice(n,n+e)}),n+=e;return o.map((function(t,e){return{uploadStatus:!1,file:t,index:e,progress:0}}))}),[t,n]).then((function(t){o.fileChunk=t,o.$set(o,"fileChunk",t),e&&e()}))},getUploadConfig:function(t){var e={file_size:t.size,file_name:t.name,content_type:"application/octet-stream",category:8};return Object(r.e)(e)},startUpload:function(){var t=this,e=this.uploadIndex,o=this.fileChunk[e];if(o){var n=new XMLHttpRequest;n.open("PUT",this.pre_signs[e]),n.setRequestHeader("Content-Type","application/octet-stream"),n.onerror=function(e){t.reloadNum--,t.reloadNum<0?t.uploadingStatus="fail":setTimeout((function(){t.startUpload()}),3e3)},n.upload.onprogress=function(e){var o=e.loaded,n=e.total,r=Math.floor(o/n*1e4),c=t.fileChunk.length,l=Math.floor(1/c*1e4);t.updateProgress(l*r/1e4)},n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){if(t.reloadNum=3,!t.fileChunk[e])return;t.fileChunk[e].uploadStatus=!0,t.chunkUploadCheck()}else 4===n.readyState&&200!==n.status&&0===t.reloadNum&&t.$message.error(t.$t("uploadError"))},n.send(o.file.file)}},updateProgress:function(t){var e=this.fileChunk.filter((function(t){return t.uploadStatus})).length,o=this.fileChunk.length,n=parseFloat((e/o*1e4).toFixed(2));n+=t,this.progress=parseFloat((n/100).toFixed(2))},chunkUploadCheck:function(){var t=this,e=this.uploadIndex,o=this.file.file_id;Object(r.c)({file_id:o,pre_sign_url:this.pre_signs[e]}).then((function(e){var n=e.data.url;if(t.uploadIndex>=t.fileChunk.length-1)return t.result.url=n,void t.confirmFileDone(o,n);t.reduceQueue()})).catch((function(e){t.uploading=!1,t.uploadingStatus="error"}))},confirmFileDone:function(t,e){var o=this,n={};n.file_id=t,Object(r.d)(n).then((function(t){var e=t.data||{},n=(e.completed,e.pre_sign_urls,e.url,e.status);[0,"0"].includes(n)?(o.progress=100,o.uploadingStatus="complete",o.url=o.result.url,o.formData.url=o.result.url,o.uploading=!1,o.result.info=t.data):(o.$message.error(o.$t("uploadVideoError")),o.uploadingStatus="fail",o.clear())})).catch((function(){o.uploading=!1,o.uploadingStatus="error"}))},reduceQueue:function(){this.uploadIndex++,this.startUpload()},refresh:function(){["fail","error"].includes(this.uploadingStatus)&&("error"!==this.uploadingStatus||this.clear())},clear:function(){this.errNum=3,this.fileChunk=[],this.uploadConfig="",this.waitUploadIndex=[],this.progress=0,this.uploadingStatus="init"}}}},3207:function(t,e,o){"use strict";var n=o(46),r=o(100),c=o(444).onFreeze,l=o(727),d=o(62),f=Object.seal;n({target:"Object",stat:!0,forced:d((function(){f(1)})),sham:!l},{seal:function(t){return f&&r(t)?f(c(t)):t}})},3208:function(t,e,o){t.exports={}},33:function(t,e,o){"use strict";o.d(e,"a",(function(){return j}));o(9),o(11),o(12);var n=o(15),r=(o(232),o(44),o(88)),c=o.n(r),l=o(2),d=(o(7),o(47),o(10),o(19),o(36),o(14),o(8),o(4),o(18),o(6),o(21)),f=o(30),h=o(1),v=o(42);function _(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function m(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?_(Object(o),!0).forEach((function(e){Object(l.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):_(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var j={data:function(){return{isCollecting:!1,followLoading:!1,likeLoading:!1,isAppealLoading:!1}},computed:m(m(m(m({},Object(h.e)("user",["collectData","followData","likeData","portfolioData","WaterFallDeleteLits","likeDataIds","collectDataIds"])),Object(h.c)("user",["isLoggedIn"])),Object(h.e)("payment",["productLevel"])),{},{setCollectData:function(){var t=this.collectData,e=this.collectDataIds;return function(o){if(t&&t.ids&&t.ids.includes(o.id)){var n,r,c;if(null!=t&&null!==(n=t.collect)&&void 0!==n&&n.collection_id&&(null==t||null===(r=t.collect)||void 0===r||!r.id))return"icon-collect_selected";this.$set(o,"collect",t.collect);var l=9===o.obj_type?null===(c=o.character)||void 0===c?void 0:c.stat:o.stat;t.num_of_collection>=0&&l&&this.$set(l,"num_of_collection",t.num_of_collection)}return this.isLoggedIn&&(o.collect||e.includes(o.id))?"icon-collect_selected":"icon-collect-gpt"}},setFollowData:function(){var t=this.followData;return function(e){return t.id==e.id&&this.$set(e.author,"is_follow",t.is_follow),this.isLoggedIn&&e.author.is_follow?"followed":"follow"}},setlikeData:function(){var t=this.likeData,e=this.likeDataIds;return function(o){return t.id==o.id&&(this.$set(o,"liked",t.liked),t.num_of_like>=0&&(o.stat&&this.$set(o.stat,"num_of_like",t.num_of_like),(o.num_of_praise||0==o.num_of_praise)&&this.$set(o,"num_of_praise",t.num_of_like))),this.isLoggedIn&&(o.liked||e.includes(o.id))?"icon-like_selected":"icon-like"}},setPortfolioList:function(){var t=this.portfolioData;return function(e,o){return e.forEach((function(element){var e,o;element&&t.ids&&t.ids.includes(element.id)&&(null!=t&&null!==(e=t.folder_no)&&void 0!==e&&e.collection_id?null!=element&&null!==(o=element.folder_no)&&void 0!==o&&o.collection_id&&(element.folder_no.collection_id=t.folder_no.collection_id,t.folder_no.collection_name&&(element.folder_no.collection_name=t.folder_no.collection_name)):element.folder_no=null)})),"all"==o?e.filter((function(t){return t})):e.filter((function(t){return t.folder_no&&t.folder_no.collection_id==o}))}},setCollectList:function(){var t=this.collectData;return function(e,o){return e.forEach((function(element){var e,o,n;element&&t.ids&&t.ids.includes(element.id)&&(null!=t&&null!==(e=t.collect)&&void 0!==e&&e.collection_id?null!=element&&null!==(o=element.collect)&&void 0!==o&&o.collection_id?(element.collect.collection_id=t.collect.collection_id||"default",null!==(n=t.collect)&&void 0!==n&&n.collection_name&&(element.collect.collection_name=t.collect.collection_name)):element.collect=t.collect:element.collect=null)})),"all"==o?e.filter((function(t){return t.collect})):e.filter((function(t){return t.collect&&t.collect.collection_id==o}))}}}),methods:m(m({},Object(h.d)("user",["changeCollectData","changeFollowData","changeLikeData","changePortfolioData","setWaterFallDeleteLits","changeLikeDataIds","changeCollectDataIds"])),{},{setCollect:function(t,e){var o,n,r=this;if(console.log("点击收藏",t,e,this.isLoggedIn),!this.isLoggedIn)return this.$logEvent("log_actions",{operation:"register_popup",behavior_info:"click_collect",behavior_info_sub:(null==this||null===(o=this.dotReportInfo)||void 0===o?void 0:o.view_domain)||""}),void(null!==(n=this.$route)&&void 0!==n&&null!==(n=n.name)&&void 0!==n&&n.includes("aiChat")?this.$EventBus.$emit("openLoginDialog",{callBack:function(){return r.$emit("newChat")}}):this.$EventBus.$emit("openLoginDialog"));var c=t.collect&&t.collect.id,l=t.id,d=t.obj_type,f=t.ai_video,h=t.pt;d=f?d+"_"+(null==f?void 0:f.video_type):d,this.$logEvent("log_actions",{operation:(c?"cancel_":"")+"collect",obj_type:d,behavior_info:l,behavior_info_sub:h}),c?this.unFavorite(t,e):this.addFavorite(t,e)},setResourceAppeal:function(t){var e=this;this.isAppealLoading||(this.isAppealLoading=!0,Object(d.cb)(t).then((function(t){c()({message:e.$t("appealSuccess"),type:"success",duration:5e3}),e.appealShow=!1})).finally((function(){t.remark&&(t.remark=""),e.isAppealLoading=!1,e.appealShow=!1})))},addFavorite:function(t,e,o,n){var r=this,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5?arguments[5]:void 0;if(console.log("收藏",t,e),this.$emit("addFavorite"),!this.isCollecting){this.isCollecting=!0;var h={collection_no:o?o.id:null};"artwork"==e&&(h.artwork_no=t.id,this.$logEvent("log_actions",{operation:"quick_collect",behavior_info:"click_collect_icon",behavior_info_sub:t.id})),"model"==e&&(h.art_model_no=t.id,this.$logEvent("log_actions",{operation:"collect_model",behavior_info:t.id})),"lookbook"!=e&&"gallery"!=e||(h.post_no=t.id,this.$logEvent("log_actions",{operation:"click_collect_post_button"})),"palette"==e&&(h.tpl_no=t.id),"swtft_app"!=e&&"workflow"!=e||(h.comfy_ui_no=t.id),"character"===e&&(h.character_no=(null==t?void 0:t.id)||"",this.$logEvent("log_actions",{operation:"click_collect",behavior_info:"on_tavern_page"})),"ai_video"===e&&(h.video_no=t.id),"ai_audio"===e&&(h.timbre_no=(null==t?void 0:t.id)||"",this.$logEvent("log_actions",{operation:"click_collect",behavior_info:"on_ai_audio_waterfall_flow",behavior_info_sub:null==t?void 0:t.id}));var v=this.getDotInfo(t,e,"collection");Object(d.f)(h).then((function(c){var d;if(1e4==c.status.code){Object(f.g)({items:[v]});var h={ids:[t.id],collect:{collection_id:o?o.id:"default",collection_name:o?o.name:"default",id:c.data.id}},_=9===t.obj_type&&(null===(d=t.character)||void 0===d?void 0:d.stat)||t.stat;if(_){var m=_.num_of_collection;m++,h.num_of_collection=m,_.num_of_collection=m}r.changeCollectData(h),r.changeCollectDataIds({id:t.id,type:"add"}),r.isCollecting=!1,"function"==typeof n&&n(c.data),l||r.$EventBus.$emit("setCollectMsgBox",t,e,v)}})).catch((function(t){"function"==typeof c&&c(t),r.isCollecting=!1}))}},unFavorite:function(t,e){var o=this;if(console.log("取消收藏",t,e),!this.isCollecting){this.isCollecting=!0;var n=this.getDotInfo(t,e,"cancel_collection");Object(d.h)({id:t.collect.id}).then((function(r){var c;if(1e4==r.status.code){o.$emit("unFavorite",t),Object(f.g)({items:[n]});var l={ids:[t.id],collect:null},d=9===t.obj_type&&(null===(c=t.character)||void 0===c?void 0:c.stat)||t.stat;if(d){var h=d.num_of_collection;h--,l.num_of_collection=h,d.num_of_collection=h}o.changeCollectData(l),o.changeCollectDataIds({id:t.id,type:"del"}),o.isCollecting=!1,"character"===e?(formData.character_no=(null==t?void 0:t.id)||"",o.$logEvent("log_actions",{operation:"click_cancel_collect",behavior_info:"on_tavern_page"})):o.$logEvent("log_actions",{operation:"model"==e?"cancel_collect_model":"cancel_collect_image",behavior_info:t.id})}})).catch((function(t){o.isCollecting=!1}))}},unBatchFavorite:function(t,e,o){var r=this;this.isCollecting||(this.isCollecting=!0,Object(d.g)({ids:e?t.folderNos:t.collectIds,category:e?2:null}).then((function(c){if(1e4==c.status.code){var l=Object(n.a)(t.ids),d={};e?(d={ids:l,folder_no:null},r.changePortfolioData(d)):(d={ids:l,collect:null},r.changeCollectData(d)),r.isCollecting=!1,"function"==typeof o&&o(c.data)}})).catch((function(t){r.isCollecting=!1})))},moveFavorite:function(t,e,o,r){var c=this,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!this.isCollecting){this.isCollecting=!0;var f={folder_no:e?e.id:null,ids:o?t.folderNos:t.collectIds,category:o?2:null};Object(d.i)(f).then((function(l){if(1e4==l.status.code){var d=Object(n.a)(t.ids),f={};o?(f={ids:d,folder_no:{collection_id:e?e.id:"default",collection_name:e?e.name:"default"}},c.changePortfolioData(f)):(f={ids:d,collect:{collection_id:e?e.id:"default",collection_name:e?e.name:"default"}},c.changeCollectData(f)),c.isCollecting=!1,"function"==typeof r&&r(l.data)}})).catch((function(t){"function"==typeof l&&l(t),c.isCollecting=!1}))}},setFollow:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!this.followLoading){this.followLoading=!0;var n={follow_account_no:t.author.id};t.author.is_follow?Object(d.w)(n).then((function(n){1e4==n.status.code&&(e.$logEvent("log_actions",{operation:"unfollow",behavior_info:o||t.author.id}),e.changeFollowData({id:t.id,is_follow:!1}),e.followLoading=!1)})):Object(d.v)(n).then((function(n){1e4==n.status.code&&(e.$logEvent("log_actions",{operation:"follow",behavior_info:o||t.author.id}),e.changeFollowData({id:t.id,is_follow:!0}),e.followLoading=!1)}))}},setLike:function(t,e,o){var n=this,r={artwork:1,model:2,account:3,gallery:4,post:4,lookbook:5,character:9,palette:11,swtft_app:13,workflow:13,ai_video:15,ai_audio:16};if(!Object(v.l)()){var c;this.$logEvent("log_actions",{operation:"register_popup",behavior_info:"click_like",behavior_info_sub:(null==this||null===(c=this.dotReportInfo)||void 0===c?void 0:c.view_domain)||""});var l={};return"ai_video_detail"==o&&(l={callBack:function(){location.reload()}}),void this.$EventBus.$emit("openLoginDialog",l)}var d=t.id,h=t.obj_type,_=t.ai_video,m=t.pt;if(h=_?h+"_"+(null==_?void 0:_.video_type):h,this.$logEvent("log_actions",{operation:(t.liked?"cancel_":"")+"like",obj_type:h,behavior_info:d,behavior_info_sub:m}),4==r[e])this.$logEvent("log_actions",{operation:"like_post",behavior_info:this.$route.path,behavior_info_sub:("lookbook"==e?"video":e)+","+t.id});else if(5==r[e]){var j,k,w;this.$logEvent("log_actions",{operation:(t.liked?"cancel_like_":"like_")+e,behavior_info:null!=t&&null!==(j=t.author)&&void 0!==j&&j.id?null==t||null===(k=t.author)||void 0===k?void 0:k.id:null==t||null===(w=t.portfolio)||void 0===w?void 0:w.id})}else{var y,O,x;this.$logEvent("log_actions",{operation:(t.liked?"cancel_like_":"like_")+e,behavior_info:null!=t&&null!==(y=t.author)&&void 0!==y&&y.id?null==t||null===(O=t.author)||void 0===O?void 0:O.id:null==t||null===(x=t.portfolio)||void 0===x?void 0:x.id})}if(!this.likeLoading){this.likeLoading=!0;var C=this.getDotInfo(t,e,t.liked?"dislike":"like");Object(f.g)({items:[C]}).then((function(e){var o;if(1e4==(null==e||null===(o=e.status)||void 0===o?void 0:o.code)){var r={id:t.id,liked:!t.liked};if(t.stat){var c=t.stat.num_of_like;t.liked?c--:c++,r.num_of_like=c}if(t.num_of_praise||0==t.num_of_praise){var l=t.num_of_praise;t.liked?l--:l++,r.num_of_like=l}n.changeLikeData(r),n.changeLikeDataIds({id:r.id,type:!0===r.liked?"add":"del"})}else{var d;n.$message({message:(null==e||null===(d=e.status)||void 0===d?void 0:d.msg)||n.$t("ServerError"),type:"error"})}})).finally((function(){n.likeLoading=!1}))}},reportArtwork:function(t){var e=this;Object(f.o)({id:t}).then((function(t){1e4==t.status.code&&c()({message:e.$t("ReportSuccess"),type:"success",duration:5e3})}))},getDotInfo:function(t,e,o){var n,r=[],c={artwork:1,model:2,account:3,gallery:4,post:4,lookbook:5,character:9,palette:11,swtft_app:13,workflow:13,ai_video:15,ai_audio:16};if(this.list){var l=this.list.findIndex((function(i){return i.id===t.id}));r=(l<10?this.list.slice(0,l):this.list.slice(l-10,l)).map((function(t){return t.id})).filter((function(t){return"banner"!=t&&"ai_tool"!=t}))}var d=m({action:o,obj_no:t.id,obj_type:c[e]?c[e]:e,negative_ids:r,batch_id:null==t?void 0:t.pt,stat:null==t?void 0:t.stat},this.productLevel&&{vip:this.productLevel});return d=this.dotReportInfo&&null!==(n=Object.keys(this.dotReportInfo))&&void 0!==n&&n.length?m(m({},this.dotReportInfo),d):m(m({},d),{},{category:"default",view_domain:"",batch_id:""})}})}},3355:function(t,e,o){var n=o(3360),r=o(3362);t.exports=function(source,t,object,e){var o=!object;object||(object={});for(var c=-1,l=t.length;++c<l;){var d=t[c],f=e?e(object[d],source[d],d,object,source):void 0;void 0===f&&(f=source[d]),o?r(object,d,f):n(object,d,f)}return object}},3356:function(t,e,o){var n=o(3413),r=o(3381),c=o(3407);t.exports=function(object){return c(object)?n(object,!0):r(object)}},3357:function(t,e,o){var n=o(3418);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},3360:function(t,e,o){var n=o(3362),r=o(3401),c=Object.prototype.hasOwnProperty;t.exports=function(object,t,e){var o=object[t];c.call(object,t)&&r(o,e)&&(void 0!==e||t in object)||n(object,t,e)}},3362:function(t,e,o){var n=o(3412);t.exports=function(object,t,e){"__proto__"==t&&n?n(object,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):object[t]=e}},3363:function(t,e,o){var n=o(3404),r=o(3364),c=o(3377),l=o(3415),d=Object.getOwnPropertySymbols?function(object){for(var t=[];object;)n(t,c(object)),object=r(object);return t}:l;t.exports=d},3364:function(t,e,o){var n=o(3414)(Object.getPrototypeOf,Object);t.exports=n},3378:function(t,e,o){var n=o(3409),r=o(3411),c=o(3360),l=o(3379),d=o(3380),f=o(3383),h=o(3403),v=o(3384),_=o(3385),m=o(3416),j=o(3386),k=o(3361),w=o(3387),y=o(3388),O=o(3393),x=o(3400),C=o(3410),D=o(3394),I=o(3370),S=o(3396),$=o(3374),L=o(3356),P="[object Arguments]",E="[object Function]",A="[object Object]",F={};F[P]=F["[object Array]"]=F["[object ArrayBuffer]"]=F["[object DataView]"]=F["[object Boolean]"]=F["[object Date]"]=F["[object Float32Array]"]=F["[object Float64Array]"]=F["[object Int8Array]"]=F["[object Int16Array]"]=F["[object Int32Array]"]=F["[object Map]"]=F["[object Number]"]=F[A]=F["[object RegExp]"]=F["[object Set]"]=F["[object String]"]=F["[object Symbol]"]=F["[object Uint8Array]"]=F["[object Uint8ClampedArray]"]=F["[object Uint16Array]"]=F["[object Uint32Array]"]=!0,F["[object Error]"]=F[E]=F["[object WeakMap]"]=!1,t.exports=function t(e,o,U,M,object,B){var R,T=1&o,z=2&o,N=4&o;if(U&&(R=object?U(e,M,object,B):U(e)),void 0!==R)return R;if(!I(e))return e;var V=x(e);if(V){if(R=w(e),!T)return h(e,R)}else{var H=k(e),W=H==E||"[object GeneratorFunction]"==H;if(C(e))return f(e,T);if(H==A||H==P||W&&!object){if(R=z||W?{}:O(e),!T)return z?_(e,d(R,e)):v(e,l(R,e))}else{if(!F[H])return object?e:{};R=y(e,H,T)}}B||(B=new n);var J=B.get(e);if(J)return J;B.set(e,R),S(e)?e.forEach((function(n){R.add(t(n,o,U,n,e,B))})):D(e)&&e.forEach((function(n,r){R.set(r,t(n,o,U,r,e,B))}));var Q=V?void 0:(N?z?j:m:z?L:$)(e);return r(Q||e,(function(n,r){Q&&(n=e[r=n]),c(R,r,t(n,o,U,r,e,B))})),R}},3379:function(t,e,o){var n=o(3355),r=o(3374);t.exports=function(object,source){return object&&n(source,r(source),object)}},3380:function(t,e,o){var n=o(3355),r=o(3356);t.exports=function(object,source){return object&&n(source,r(source),object)}},3381:function(t,e,o){var n=o(3370),r=o(3376),c=o(3382),l=Object.prototype.hasOwnProperty;t.exports=function(object){if(!n(object))return c(object);var t=r(object),e=[];for(var o in object)("constructor"!=o||!t&&l.call(object,o))&&e.push(o);return e}},3382:function(t,e){t.exports=function(object){var t=[];if(null!=object)for(var e in Object(object))t.push(e);return t}},3383:function(t,e,o){(function(t){var n=o(3399),r=e&&!e.nodeType&&e,c=r&&"object"==typeof t&&t&&!t.nodeType&&t,l=c&&c.exports===r?n.Buffer:void 0,d=l?l.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var o=t.length,n=d?d(o):new t.constructor(o);return t.copy(n),n}}).call(this,o(1927)(t))},3384:function(t,e,o){var n=o(3355),r=o(3377);t.exports=function(source,object){return n(source,r(source),object)}},3385:function(t,e,o){var n=o(3355),r=o(3363);t.exports=function(source,object){return n(source,r(source),object)}},3386:function(t,e,o){var n=o(3417),r=o(3363),c=o(3356);t.exports=function(object){return n(object,c,r)}},3387:function(t,e){var o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&o.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},3388:function(t,e,o){var n=o(3357),r=o(3389),c=o(3390),l=o(3391),d=o(3392);t.exports=function(object,t,e){var o=object.constructor;switch(t){case"[object ArrayBuffer]":return n(object);case"[object Boolean]":case"[object Date]":return new o(+object);case"[object DataView]":return r(object,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return d(object,e);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(object);case"[object RegExp]":return c(object);case"[object Symbol]":return l(object)}}},3389:function(t,e,o){var n=o(3357);t.exports=function(t,e){var o=e?n(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}},3390:function(t,e){var o=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,o.exec(t));return e.lastIndex=t.lastIndex,e}},3391:function(t,e,o){var n=o(3402),r=n?n.prototype:void 0,c=r?r.valueOf:void 0;t.exports=function(symbol){return c?Object(c.call(symbol)):{}}},3392:function(t,e,o){var n=o(3357);t.exports=function(t,e){var o=e?n(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}},3393:function(t,e,o){var n=o(3408),r=o(3364),c=o(3376);t.exports=function(object){return"function"!=typeof object.constructor||c(object)?{}:n(r(object))}},3394:function(t,e,o){var n=o(3395),r=o(3373),c=o(3375),l=c&&c.isMap,d=l?r(l):n;t.exports=d},3395:function(t,e,o){var n=o(3361),r=o(3371);t.exports=function(t){return r(t)&&"[object Map]"==n(t)}},3396:function(t,e,o){var n=o(3397),r=o(3373),c=o(3375),l=c&&c.isSet,d=l?r(l):n;t.exports=d},3397:function(t,e,o){var n=o(3361),r=o(3371);t.exports=function(t){return r(t)&&"[object Set]"==n(t)}},35:function(t,e,o){var n=o(3378);t.exports=function(t){return n(t,5)}},47:function(t,e,o){"use strict";var n=o(46),r=o(164).findIndex,c=o(568),l="findIndex",d=!0;l in[]&&Array(1)[l]((function(){d=!1})),n({target:"Array",proto:!0,forced:d},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),c(l)},53:function(t,e,o){"use strict";o.d(e,"e",(function(){return r})),o.d(e,"a",(function(){return c})),o.d(e,"g",(function(){return l})),o.d(e,"f",(function(){return d})),o.d(e,"b",(function(){return f})),o.d(e,"c",(function(){return h})),o.d(e,"d",(function(){return v}));var n=o(15);o(16),o(19),o(439),o(361),o(362),o(300),o(4),o(50),o(386),o(363),o(364),o(365),o(366),o(367),o(368),o(369),o(370),o(371),o(372),o(373),o(374),o(375),o(376),o(377),o(378),o(379),o(380),o(381),o(382),o(383),o(384),o(385),o(301),o(302),o(303),o(304),o(305),o(306),o(307),o(308),o(309),o(310),o(311),o(312),o(313),o(48);function r(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",map=new Map(t.map((function(t){return[t[o],!0]})));return e.reduce((function(t,e){return map.has(e[o])?t:[].concat(Object(n.a)(t),[e])}),[])}function c(t){for(var e=atob(t.split(",")[1]),o=t.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(e.length),r=new Uint8Array(n),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return new Blob([n],{type:o})}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0,n=t/e;return"width"===(t>e?"width":"height")?(t=o,e=Math.round(t/n)):(e=o,t=Math.round(e*n)),{width:t,height:e}}function d(t,e,o){var n=t/e;return{width:o,height:Math.round(o/n)}}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return new Promise((function(o,n){var img=new Image;img.onload=function(){var canvas=document.createElement("canvas");canvas.width=img.width,canvas.height=img.height;var t=canvas.getContext("2d");t.drawImage(img,0,0,img.width,img.height);for(var n=t.getImageData(0,0,canvas.width,canvas.height),data=n.data,i=0;i<data.length/4;i++){var r=4*i,c=data[r],g=data[r+1],b=data[r+2];data[r+3];data[r+3]=Math.max(c,g,b),0===c&&0===g&&0===b&&(data[r+3]=0)}t.putImageData(n,0,0);var l=canvas.toDataURL("image/png",.1);e&&e(l),o()},img.onerror=function(){o()},img.setAttribute("crossOrigin","anonymous"),img.src="".concat(t,"?t=").concat(Date.now())}))}function h(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Math.floor(2147483643*Math.random())+1:Math.floor(4294967294*Math.random())+1}function v(){return{v5:1,v6:2,midjourney:3,4:1,sdxl:5,hy21:6,2:2,5:5,6:6,7:7,studio:7,11:7}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]||1}},671:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var n=o(17);function r(data){return Object(n.a)({url:"/api/v1/post/article/detail",method:"POST",data:data})}},79:function(t,e,o){"use strict";o.d(e,"j",(function(){return c})),o.d(e,"f",(function(){return l})),o.d(e,"s",(function(){return d})),o.d(e,"r",(function(){return f})),o.d(e,"t",(function(){return h})),o.d(e,"v",(function(){return v})),o.d(e,"q",(function(){return _})),o.d(e,"g",(function(){return m})),o.d(e,"e",(function(){return j})),o.d(e,"h",(function(){return k})),o.d(e,"o",(function(){return w})),o.d(e,"d",(function(){return y})),o.d(e,"i",(function(){return O})),o.d(e,"k",(function(){return x})),o.d(e,"a",(function(){return C})),o.d(e,"p",(function(){return D})),o.d(e,"l",(function(){return I})),o.d(e,"m",(function(){return S})),o.d(e,"n",(function(){return $})),o.d(e,"u",(function(){return L})),o.d(e,"c",(function(){return P})),o.d(e,"b",(function(){return E}));var n=o(17),r="/api/v1/square";function c(data){return Object(n.a)({url:"/api/v1/tag/suggest",method:"POST",data:data})}function l(data){return Object(n.a)({url:"/api/v1/tag/v2/hot",method:"POST",data:data})}function d(data){return Object(n.a)({url:"/api/v1/model/tag/edit",method:"post",data:data})}function f(data){return Object(n.a)({url:"/api/v1/artwork/tag/edit",method:"post",data:data})}function h(data){return Object(n.a)({url:"/api/v1/portfolio/tag/edit",method:"post",data:data})}function v(data){return Object(n.a)({url:"/api/v1/lookbook/tag/edit",method:"post",data:data})}function _(data){return Object(n.a)({url:"/api/v1/ai-video/tag/edit",method:"post",data:data})}function m(data){return Object(n.a)({url:"/api/v1/model/tag",method:"post",data:data})}function j(data){return Object(n.a)({url:"/api/v1/artwork/tag",method:"post",data:data})}function k(data){return Object(n.a)({url:"/api/v1/portfolio/tag",method:"post",data:data})}function w(data){return Object(n.a)({url:"/api/v1/lookbook/tag",method:"post",data:data})}function y(data){return Object(n.a)({url:"/api/v1/ai-video/tag",method:"post",data:data})}function O(data){return Object(n.a)({url:"/api/v1/square/model/list",method:"post",data:data})}function x(data){return Object(n.a)({url:"/api/v1/tag/detail",method:"post",data:data})}function C(data){return Object(n.a)({url:"/api/v1/collect-v2/add",method:"post",data:data})}function D(data){return Object(n.a)({url:"/api/v1/collect-v2/remove",method:"post",data:data})}function I(data){return Object(n.a)({url:r+"/tag/explore",method:"post",data:data})}function S(data){return Object(n.a)({url:r+"/tag/model",method:"post",data:data})}function $(data){return Object(n.a)({url:r+"/tag/post",method:"post",data:data})}function L(data){return Object(n.a)({url:r+"/post/tag/audit",method:"post",data:data})}function P(data){return Object(n.a)({url:r+"/tag/ai-video",method:"post",data:data})}function E(data){return Object(n.a)({url:r+"/timbre/list",method:"post",data:data})}}}]);