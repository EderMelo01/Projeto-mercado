(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1008:function(t,e,o){t.exports={}},1011:function(t,e,o){t.exports={}},1017:function(t,e,o){t.exports={}},1020:function(t,e,o){t.exports={}},1026:function(t,e,o){t.exports={}},1048:function(t,e,o){t.exports={}},1051:function(t,e,o){t.exports={}},1052:function(t,e,o){t.exports={}},1068:function(t,e,o){t.exports={}},107:function(t,e,o){"use strict";var n={props:["value","min","max","label","step","tips","disabled","showTooltip","precision"],data:function(){return{}},methods:{changeConfig:function(t){this.$emit("change",t)}}},r=(o(2823),o(0)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"slider-item"},[e("div",{staticClass:"slider-label"},[e("p",[t._v(t._s(t.label)+"\n      "),t.tips?e("el-tooltip",{attrs:{"popper-class":"custom-tips-popper",effect:"light",content:t.tips,placement:"top-start"}},[e("span",{staticClass:"el-icon-warning custom-tips"})]):t._e()],1),t._v(" "),e("el-input-number",{attrs:{value:t.value,controls:!1,min:t.min,max:t.max,precision:t.precision,step:t.step,disabled:t.disabled},on:{change:t.changeConfig}})],1),t._v(" "),e("el-slider",{attrs:{value:t.value,min:t.min,max:t.max,step:t.step,disabled:t.disabled,"show-tooltip":t.showTooltip},on:{input:t.changeConfig}})],1)}),[],!1,null,"ff13fe0e",null);e.a=component.exports},1075:function(t,e,o){t.exports={}},1079:function(t,e,o){t.exports={}},1084:function(t,e,o){t.exports={}},1085:function(t,e,o){t.exports={}},1087:function(t,e,o){t.exports={}},1088:function(t,e,o){t.exports={}},1121:function(t,e,o){t.exports={}},1146:function(t,e,o){t.exports={}},1147:function(t,e,o){t.exports={}},1148:function(t,e,o){t.exports={}},1149:function(t,e,o){t.exports={}},115:function(t,e,o){"use strict";var n={props:{value:{type:Boolean,default:!1}},data:function(){return{}},watch:{value:{handler:function(t){this.$emit("input",t),this.$emit("change")}}}},r=(o(2315),o(0)),component=Object(r.a)(n,(function(){return(0,this._self._c)("div",{staticClass:"checkBox",style:{border:this.value?"2px solid #27b670":null}})}),[],!1,null,"60c4e74e",null);e.a=component.exports},1150:function(t,e,o){t.exports={}},1151:function(t,e,o){t.exports={}},1156:function(t,e,o){t.exports={}},1157:function(t,e,o){t.exports={}},1158:function(t,e,o){t.exports={}},1159:function(t,e,o){t.exports={}},1160:function(t,e,o){t.exports={}},1162:function(t,e,o){t.exports={}},1163:function(t,e,o){t.exports={}},1164:function(t,e,o){t.exports={}},1165:function(t,e,o){t.exports={}},1166:function(t,e,o){t.exports={}},1167:function(t,e,o){t.exports={}},1168:function(t,e,o){t.exports={}},1169:function(t,e,o){t.exports={}},1182:function(t,e,o){t.exports={}},1187:function(t,e,o){t.exports={}},1193:function(t,e,o){t.exports={}},1194:function(t,e,o){t.exports={}},1204:function(t,e,o){t.exports={}},1205:function(t,e,o){t.exports={}},1206:function(t,e,o){t.exports={}},1207:function(t,e,o){t.exports={}},127:function(t,e,o){"use strict";o(16),o(10),o(14),o(18),o(232),o(44);var n=o(88),r=o.n(n),l=o(2),c=o(15),d=(o(7),o(47),o(70),o(19),o(9),o(36),o(43),o(28),o(11),o(12),o(8),o(4),o(23),o(49),o(118),o(76),o(71),o(6),o(29),o(5)),h=o(87),f=o(35),v=o.n(f),m=o(39),_=o(1),y=o(30),w=o(33),C=o(56),k=o(193),O=o(21),x=o(115),P=o(82),j=o(106),$=o(74),L=o(92),I=o(13),S=o(109);function D(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}var T={props:{tags:{type:Array,default:function(){return[]}}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?D(Object(o),!0).forEach((function(e){Object(l.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):D(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(_.e)("user",["cdnHost"]))},F=T,A=(o(2382),o(0)),N=Object(A.a)(F,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"tag-item"},t._l(t.tags,(function(o,i){return e("a",{key:"tag_"+i,style:{backgroundImage:"url(https://".concat(t.cdnHost,"/").concat(o.cover,")")},attrs:{href:t.localePath("/tagInfo/".concat(o.id))}},[e("span",[t._v(t._s(o.title))])])})),0)}),[],!1,null,"07633d25",null).exports,E=o(206),M=o(73),R=o(136);function B(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function U(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?B(Object(o),!0).forEach((function(e){Object(l.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):B(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var V={artwork:1,model:2},W={mixins:[w.a],components:{CollectPopover:C.a,listCheckbox:x.a,modelPayNum:P.a,AdminTag:j.a,ImgWaterFall:L.a,STagItem:N,ShareDialog:E.a,auditDialog:R.a},props:{list:{type:Array,default:function(){return[]}},filterImgType:{type:Array,default:function(){return[]}},containerForImg:{type:Object,default:null},container:{type:String,require:!0},gap:{type:Number,default:16},lazy:{type:Boolean,default:!1},type:{type:String,default:""},actived:{type:Boolean,default:!0},cols:{type:Number,default:7},fromPage:{type:String,default:""},isFromRelated:{type:Boolean,default:!1},isShowNullRelatedImg:{type:Boolean,default:!1},alreadyNoMoreData:{type:Boolean,default:!1},noSearchData:{type:Boolean,default:!1},isCheck:{type:Boolean,default:!1},isFilterNSFW:{type:Boolean,default:!1},dislikeShow:{type:Boolean,default:!1},hidethumbup:{type:Boolean,default:!1},hidecollect:{type:Boolean,default:!1},hoverShow:{type:Boolean,default:!1},imgQuality:{type:String,default:"low"},isTiemRow:{type:Boolean,default:!1},openWin:{type:Boolean,default:!1},checkMax:{type:Number,default:-1},category:{type:Boolean,default:!1},dotReportInfo:{type:Object,default:function(){return{category:"default",view_domain:"",batch_id:""}}},needGridSource:{type:Boolean,default:!1},setTag:{type:Array,default:function(){return[]}}},data:function(){var t=this;return{needConfirmation:!0,formatNumberForeign:d.i,copyTextToClipboard:d.d,saveImg:d.z,width:0,heights:[],dataList:this.list,resizeListener:Object(h.a)((function(){return t.resize(t.dataList)}),500),selfCols:4,isCollecting:!1,imagePopoverVisible:!1,reportLoading:!1,openWatch:!0,isDelete:!1,sharevisible:!1,popTime:0,itemShow:!1,itemShowId:"",checkList:{ids:[],collectIds:[],folderNos:[],url:[]},isCheckAll:!1,scrollTop:0,lastTime:null,appeaData:{obj_no:"",obj_type:1,remark:""},appealShow:!1,collectDotReportInfo:{},cntShow:[],startIndex:0,lastScrollTop:0,isServer:!0,openWaterFall:!1,workfolwAppLoading:!1,resizeObserver:null}},watch:{appealShow:{handler:function(t){t||(this.appeaData={obj_no:"",obj_type:1,remark:""})}},isCheck:{handler:function(t){this.isCheckAll=!1,this.dataList.forEach((function(t){t.isCheck=!1})),this.checkList={ids:[],collectIds:[],folderNos:[],url:[]},this.$emit("getChecList",this.checkList)}},list:{handler:function(t){var e=this.openWatch,o=this.width;if(e){o&&0!=o||(this.width=this.getWidth());var n=v()(t);if(this.dataList.length<100)this.updateDataList(n,!1);else if(n.length>this.dataList.length){var r=v()(Object(c.a)(n.slice(this.dataList.length)));this.updateDataList(r,!0)}else n.length<this.dataList.length&&(this.dataList=[],this.startIndex=0,this.updateDataList(n,!1))}}},WaterFallDeleteLits:{handler:function(t){this.isDelete=!0}},"userInfo.settings.nsfw_plus":{handler:function(t){var e=this;this.dataList.forEach((function(o){o.NSFWSHOW&&e.$set(o.banner,"is_nsfw_plus",2==t)}))},immediate:!0},renderList:function(t){var e=this;this.$nextTick((function(){e.isServer=!1}))}},computed:U(U(U({},Object(_.c)("user",["isLoggedIn","accountSettingsData"])),Object(_.e)("user",["userInfo","accountData","adminOff"])),{},{isMine:function(){var t=this;return function(e){var o,n;return(null==e||null===(o=e.author)||void 0===o?void 0:o.id)==(null===(n=t.userInfo)||void 0===n?void 0:n.id)}},isArtwork:function(){return"artwork"===this.type},inviteCode:function(){var t;return(null===(t=this.userInfo)||void 0===t?void 0:t.invite_user_code)||""},isPC:function(){return"PC"===localStorage.getItem("visitFrom")},tagType:function(){return{artwork:1,model:2,gallery:3}[this.type]},setNsfwPlus:function(){return function(t){var e;return null==t||null===(e=t.banner)||void 0===e?void 0:e.is_nsfw_plus}},renderList:function(){var t=this.containerForImg||this.$parent.$refs[this.container];if(!t)return this.dataList;var e=this.scrollTop-t.offsetTop,o=e-window.innerHeight,n=e+window.innerHeight+1e3;if(e>this.lastScrollTop)for(;this.startIndex<this.dataList.length&&(null===(r=this.dataList[this.startIndex])||void 0===r?void 0:r.top)<=o;){var r;this.startIndex++}else for(;this.startIndex>0&&(null===(l=this.dataList[this.startIndex])||void 0===l?void 0:l.top)>=o;){var l;this.startIndex--}for(var c=this.startIndex;c<this.dataList.length&&(null===(d=this.dataList[c])||void 0===d?void 0:d.top)<=n;){var d;c++}return this.lastScrollTop=e,this.dataList.slice(this.startIndex,c)},enableNsfwMode:function(){var t;return![2,"2"].includes(null==this||null===(t=this.userInfo)||void 0===t||null===(t=t.settings)||void 0===t?void 0:t.nsfw_plus)}}),activated:function(){var t=this;this.openWatch=!0,this.isDelete&&(this.resizeListener(),this.isDelete=!1),this.resizeObserver=new ResizeObserver((function(){t.resizeListener()}));var e=document.querySelector("#container");e&&this.resizeObserver.observe(e),this.lazy&&window.addEventListener("scroll",Object($.throttle)(this.lazyLoad,200)),this.$nextTick((function(){window.scrollTo(0,t.scrollTop)}));var video=this.$refs.mainVideo;video&&video.length&&video.forEach((function(t){t.play()}))},deactivated:function(){var t=this;this.openWatch=!1,this.resizeObserver=new ResizeObserver((function(){t.resizeListener()}));var e=document.querySelector("#container");e&&this.resizeObserver.observe(e),window.removeEventListener("scroll",Object($.throttle)(this.lazyLoad,200))},mounted:function(){var t=this;this.resizeObserver=new ResizeObserver((function(){t.resizeListener()}));var e=document.querySelector("#container");e&&this.resizeObserver.observe(e),this.lazy&&window.addEventListener("scroll",Object($.throttle)(this.lazyLoad,200))},beforeDestroy:function(){var t=document.querySelector("#content");t&&this.resizeObserver.unobserve(t),window.removeEventListener("scroll",Object($.throttle)(this.lazyLoad,200))},methods:U(U(U({},Object(_.b)("user",["getAccountInfo"])),Object(_.d)("user",["SET_USER_INFO"])),{},{handleClickNSFW:function(t){var e,o=this,n=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(o.needConfirmation=e,!e){var data=v()(o.userInfo);data.is_audit=1,o.SET_USER_INFO(data)}t.banner.is_nsfw_plus=!t.banner.is_nsfw_plus};this.enableNsfwMode||1===(null===(e=this.userInfo)||void 0===e?void 0:e.is_audit)?this.applyNsfw(n,!1):this.$refs.auditDialog.showDialog(n)},applyNsfw:function(t){var e=this;if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var o={};o.nsfw_plus=this.enableNsfwMode?2:1,o.mode=1,o.age_confirm=!0,Object(M.b)(o).then((function(t){var o=(t||{}).status.code;["10000",1e4].includes(void 0===o?"":o)&&e.$message.success(e.$t(e.enableNsfwMode?"ClosedSuccessfully":"OpenedSuccessfully"))})).finally((function(){t&&"function"==typeof t&&t()}))}else t&&"function"==typeof t&&t()},goWorkfolwApp:function(t){var e=this;this.isLoggedIn?this.workfolwAppLoading||(this.workfolwAppLoading=!0,Object(S.g)({artwork_id:t.id}).then((function(o){1e4==o.status.code&&e.$router.push("/workFlowAppDetail/".concat(o.data.id,"?task=mix-").concat(t.id))})).finally((function(){e.workfolwAppLoading=!1}))):this.$EventBus.$emit("openLoginDialog")},isShowRemix:function(t){var e=this.type;return"comfyui"===t.channel||("comfyui"!=t.channel&&"artwork"==e&&3!=t.type||"comfyui"!=t.channel&&"artwork"!=e&&1==t.status&&"gallery"!==e&&"activity"!==e)},toPath:function(t){var e=null==t?void 0:t.id,path="";switch(this.type){case"model":path="/models/detail/";break;case"gallery":path="/artWorkDetail/";break;default:path="/explore/detail/"}return this.localePath(path+e)},setDeffBoxShow:function(t){return 2==t.status||5==t.status||((t.author&&t.author.id)!=this.userInfo.id&&"personal"!=this.fromPage?"artwork"==this.type&&1==t.primary:void 0)},handleMouseUp:function(t,e){if(2===t.which||1===t.button){var o=this.list.findIndex((function(i){return i.id===e.id})),n=(o<10?this.list.slice(0,o):this.list.slice(o-10,o)).map((function(t){return t.id})).filter((function(t){return"banner"!=t&&"ai_tool"!=t}));Object(y.g)({items:[U(U({},this.dotReportInfo),{},{negative_ids:n,action:"view",obj_no:e.id,obj_type:this.isArtwork?1:2})]})}},goToDetail:function(t){t.name?window.open("/models/detail/".concat(t.id),"_blank"):window.open("/explore/detail/".concat(t.id),"_blank")},goToPersonal:function(t){var e;if(this.isLoggedIn){var o=t.author.id,n=null===(e=this.userInfo)||void 0===e?void 0:e.id,path="/user/"+encodeURIComponent(o);n==o&&(path="/personal"),window.open(path,"_blank")}else this.$EventBus.$emit("openLoginDialog")},getItemTime:function(t){var e=new Date(t),o=e.getFullYear(),n=(e.getMonth()+1).toString().padStart(2,"0");return"".concat(o,"-").concat(n)},processTimeGroups:function(t){for(var i=0;i<t.length;i++){var e,o,n,r=t[i],l=null!=r&&null!==(e=r.folder_no)&&void 0!==e&&e.collect_at?null==r||null===(o=r.folder_no)||void 0===o?void 0:o.collect_at:null==r||null===(n=r.collect)||void 0===n?void 0:n.collect_at;l&&this.getItemTime(l)!==this.lastTime&&(t.splice(i,0,{timeItem:this.getItemTime(l)}),this.lastTime=this.getItemTime(l))}return t},updateDataList:function(t,e){var o=this,n=this.dataList,r=this.isCheckAll,l=this.checkList,c=this.WaterFallDeleteLits,h=this.width;t.forEach((function(t){n.forEach((function(e){t.id==e.id&&(t.collect=e.collect,t.isCheck=e.isCheck,t.liked=e.liked)}))}));var f,v,_=t.filter((function(t){return!c.includes(t.id)})).filter((function(t){return!o.filterImgType.includes(t.type)}));this.isFilterNSFW&&(_=_.filter((function(t){var e;return 1!==(null===(e=t.banner)||void 0===e?void 0:e.nsfw)}))),this.isTiemRow&&(e||(this.lastTime=null),this.processTimeGroups(_));for(var i=0;i<_.length;i++){var y,w,C,k=_[i];if(this.category,this.$set(k,"NSFWSHOW",!!this.category&&((null==k||null===(y=k.banner)||void 0===y?void 0:y.is_nsfw_plus)&&(null===(w=this.userInfo)||void 0===w?void 0:w.enable_nsfw_plus))),k.NSFWSHOW)this.$set(k.banner,"is_nsfw_plus",2==(null===(C=this.userInfo)||void 0===C||null===(C=C.settings)||void 0===C?void 0:C.nsfw_plus));if(k.stat&&(this.$set(k.stat,"num_of_like",k.stat.num_of_like>0?Object(d.i)(k.stat.num_of_like):0),this.$set(k.stat,"num_of_collection",k.stat.num_of_collection>0?Object(d.i)(k.stat.num_of_collection):0)),this.$set(k,"deffBoxShow",this.setDeffBoxShow(k)),k.timeItem)k.waterWidth=h,k.waterHeight=30;else{var O,x,P,j,$;if(this.$set(k,"hoverd",!1),this.$set(k,"propS",!1),this.$set(k,"rowIndex",-1),!r&&l.ids.includes(k.id)?this.$set(k,"isCheck",l.ids.includes(k.id)):this.$set(k,"isCheck",!!r),r&&!l.ids.includes(k.id))l.ids.push(k.id),null!=k&&null!==(P=k.collect)&&void 0!==P&&P.id&&l.collectIds.push(k.collect.id),null!=k&&null!==(j=k.folder_no)&&void 0!==j&&j.id&&l.folderNos.push(k.folder_no.id),null!=k&&null!==($=k.banner)&&void 0!==$&&$.url&&l.url.push(k.banner.url);k.timeDiff=Object(m.c)(k.created_at,Date.now()),k.waterWidth=h,this.isTiemRow||"gallery"===this.type?k.waterHeight=h:"TAG"===k.type?k.waterHeight=540:(f=k.banner&&k.banner.width?k.banner.width:308,v=k.banner&&k.banner.height?k.banner.height:308,k.waterHeight=parseInt(v*h/f),isNaN(k.waterHeight)&&(k.waterHeight=320)),null===(O=k.banner)||void 0===O||!O.url||null!==(x=k.banner)&&void 0!==x&&x.replaceUrl||(k.banner.replaceUrl=Object(d.x)(k.banner.url,this.imgQuality||"low")),k.errorTime=0}}e?_.forEach((function(t){o.dataList.push(t)})):this.dataList=_,this.waterfall()},checkAll:function(){var t=this;if(this.isCheck){var e=this.dataList.filter((function(t){return!t.timeItem}));this.checkList.ids.length<e.length?(e.forEach((function(e){e.isCheck=!0,t.checkChange(e)})),this.isCheckAll=!0):(e.forEach((function(e){e.isCheck=!1,t.checkChange(e)})),this.isCheckAll=!1)}},clearCheck:function(t){var e=this;t.forEach((function(t){e.dataList.forEach((function(e){t==e.id&&(e.isCheck=!1)})),e.checkList.ids.forEach((function(o,n){t!==o&&t.id!==o||(e.checkList.ids.splice(n,1),e.checkList.collectIds.splice(n,1),e.checkList.folderNos.splice(n,1),e.checkList.url.splice(n,1))}))})),this.$emit("getChecList",this.checkList)},checkChange:function(t){if(t.isCheck){var e,o,n;if(!this.checkList.ids.includes(t.id))this.checkList.ids.push(t.id),null!=t&&null!==(e=t.collect)&&void 0!==e&&e.id&&this.checkList.collectIds.push(t.collect.id),null!=t&&null!==(o=t.folder_no)&&void 0!==o&&o.id&&this.checkList.folderNos.push(t.folder_no.id),null!=t&&null!==(n=t.banner)&&void 0!==n&&n.url&&this.checkList.url.push(t.banner.url)}else{var r,l,c;if(-1==this.checkList.ids.indexOf(t.id))return;this.checkList.ids.splice(this.checkList.ids.indexOf(t.id),1),null!=t&&null!==(r=t.collect)&&void 0!==r&&r.id&&this.checkList.collectIds.splice(this.checkList.collectIds.indexOf(t.collect.id),1),null!=t&&null!==(l=t.folder_no)&&void 0!==l&&l.id&&this.checkList.folderNos.splice(this.checkList.folderNos.indexOf(t.folder_no.id),1),null!=t&&null!==(c=t.banner)&&void 0!==c&&c.url&&this.checkList.url.splice(this.checkList.url.indexOf(t.banner.url),1)}this.$emit("getChecList",this.checkList)},changeItemShow:function(t){this.itemShow=t.show,this.itemShowId=t.id,this.handleCollectPopoverClick(t)},moreActions:function(t,e){var o,n,r=this,l=(null==V?void 0:V[this.type])||1;switch(t){case"flag":this.reportArtwork(e.id);break;case"save":this.downloadImg(e);break;case"share":this.$logEvent("log_actions",{operation:"click_share",behavior_info:"on_personal_center",behavior_info_sub:l}),this.sharevisible=!0,this.popTime=setTimeout((function(){r.sharevisible=!1}),1e3);var path="".concat(window.location.origin,"/")+"explore/detail/".concat(e.id,"?source=share_link")+(this.inviteCode?"&u_code=".concat(this.inviteCode):""),image=(null==e||null===(o=e.banner)||void 0===o?void 0:o.replaceUrl)||(null==e||null===(n=e.banner)||void 0===n?void 0:n.url)||"";this.$refs.shareDialog.show(path,image,"share","waterfall_flow");break;case"delete":this.$logEvent("log_actions",{operation:"click_delete",behavior_info:"on_personal_center",behavior_info_sub:l}),this.handleWorkDelete(e);break;case"not_interested":Object(y.g)({items:[{action:"not_interested",obj_no:e.id,obj_type:1}]}).then((function(t){var o,n;1e4==(null==t||null===(o=t.status)||void 0===o?void 0:o.code)?(r.$message({message:r.$t("reduceWork"),type:"success"}),e.propS=!1,r.setWaterFallDeleteLits(e.id),r.resizeListener()):r.$message({message:(null==t||null===(n=t.status)||void 0===n?void 0:n.msg)||r.$t("ServerError"),type:"error"})}));break;case"setBg":Object(O.s)({id:e.id}).then((function(t){var o;if(1e4==(null==t||null===(o=t.status)||void 0===o?void 0:o.code))r.$message({message:r.$t("SetSuccess"),type:"success"}),e.propS=!1,r.getAccountInfo();else{var n,l,c=r.$t("ServerError");if(20309==(null==t||null===(n=t.status)||void 0===n?void 0:n.code))c=r.$t("SetBgLimit");else c=null==t||null===(l=t.status)||void 0===l?void 0:l.msg;r.$message({message:c,type:"error"})}}));break;case"appeal":this.appeaData.obj_no=e.id,this.appealShow=!0;break;case"pinOrNot":this.$logEvent("log_actions",{operation:"click_top_to_overview",behavior_info:"on_personal_center",behavior_info_sub:l});var c={obj_id:e.id,obj_type:l};null!=e&&e.isTop&&(c.up_type="down"),Object(O.I)(c).then((function(t){var o;1e4==(null==t||null===(o=t.status)||void 0===o?void 0:o.code)&&(r.$message({message:r.$t(null!=e&&e.isTop?"UnpinSuccess":"PinSuccess"),type:"success"}),r.$set(e,"isTop",!e.isTop))}))}},downloadImg:function(t){var e=this.getImageExtensionFromUrl(t.banner.url),o=(t.author?t.id:"image")+"".concat(e);this.saveImg(t.banner.url,o)},getImageExtensionFromUrl:function(t){var e=t.match(/\/([^/]+)$/);return e&&e[1].includes(".")?"."+e[1].split(".").pop().toLowerCase():".jpeg"},handleWorkDelete:function(t){var e=this;this.$confirm(this.$t("canvas_delete_tips"),this.$t("Tip"),{confirmButtonText:this.$t("Confirm"),cancelButtonText:this.$t("Cancel"),type:"warning",customClass:"custom-confirm"}).then((function(){var o={id:t.id};e.globalLoading=!0,Object(k.a)(o).then((function(o){var n,r;1e4==(null==o||null===(n=o.status)||void 0===n?void 0:n.code)?(e.$message({message:e.$t("deleteSuccess"),type:"success"}),e.setWaterFallDeleteLits(t.id),e.resizeListener()):e.$message({message:(null==o||null===(r=o.status)||void 0===r?void 0:r.msg)||e.$t("ServerError"),type:"error"})})).finally((function(){e.globalLoading=!1}))})).catch((function(t){console.log("err",t)}))},handleContextMenu:function(t,e){1===e.nsfw&&t.preventDefault()},reportArtwork:function(t){var e=this;this.reportLoading||(this.reportLoading=!0,Object(y.o)({id:t}).then((function(t){var code=t&&t.status?t.status.code:"";[1e4].includes(code)&&r()({message:e.$t("ReportSuccess"),type:"success",duration:5e3})})).finally((function(){e.reportLoading=!1})))},handleClick:function(t,e,o){if(this.isLoggedIn){var n,r;if("comfyui"===(null==t?void 0:t.channel)&&"创作"==e)return null!=t&&null!==(n=t.creativity)&&void 0!==n&&n.id?this.$router.push({path:"/workFlowAppDetail/".concat(null==t||null===(r=t.creativity)||void 0===r?void 0:r.id,"?task=mix-").concat(t.id)}):this.goWorkfolwApp(t);var l=this.list.findIndex((function(i){return i.id===t.id})),c=(l<10?this.list.slice(0,l):this.list.slice(l-10,l)).map((function(t){return t.id})).filter((function(t){return"banner"!=t&&"ai_tool"!=t}));switch(e){case"创作":Object(y.g)({items:[U(U({},this.dotReportInfo),{},{negative_ids:c,action:"task",obj_no:t.id,obj_type:1})]});var d=Object.assign({},t);"model"===this.type&&["explore","personal"].includes(this.fromPage)&&(d.taskSource=1),this.isArtwork&&this.needGridSource&&(d.taskSource=4),d.logEventSource=Object(I.E)(this.$route.name),this.$EventBus.$emit("openGenerate",{action:6==d.type?24:1,data:{source:d}});break;case"收藏":this.setCollect(t,o)}}else this.$EventBus.$emit("openLoginDialog")},handleCollectPopoverClick:function(t){var e=this.list.findIndex((function(i){return i.id===t.id})),o=(e<10?this.list.slice(0,e):this.list.slice(e-10,e)).map((function(t){return t.id})).filter((function(t){return"banner"!=t&&"ai_tool"!=t}));this.collectDotReportInfo=U(U({},this.dotReportInfo),{},{negative_ids:o,action:"collection",obj_no:t.id,obj_type:{artwork:1,model:2}[this.type]})},handleDetail:function(t,e){var o;if(null===(o=e.banner)||void 0===o||!o.is_nsfw_plus||!this.$route.name.startsWith("Personal")){if(this.isCheck)return-1==this.checkMax||this.checkList.ids.length<this.checkMax||e.isCheck?(this.checkList.ids.length==this.dataList.length&&(this.isCheckAll=!0),e.isCheck&&(this.isCheckAll=!1),e.isCheck=!e.isCheck):this.$message({message:this.$t("已超过最大选择上限"),type:"warning"}),!1;if(this.$logEvent("log_actions",{operation:{artwork:"click_image",model:"click_model",gallery:"click_gallery"}[this.type],behavior_info:e.id}),"activity"!==this.type){var n=this.list.findIndex((function(i){return i.id===e.id})),r=(n<10?this.list.slice(0,n):this.list.slice(n-10,n)).map((function(t){return t.id})).filter((function(t){return"banner"!=t&&"ai_tool"!=t}));if("IMG"!==t.target.tagName&&"cltpop"!==t.target.className&&"img-content"!==t.target.className&&"img-content bg-nsfw"!==t.target.className&&"statusZg"!==t.target.className&&"ImgWaterFall"!==t.target.className&&"workInfo"!==t.target.className||"model"!==this.type)if("IMG"!==t.target.tagName&&"VIDEO"!==t.target.tagName&&"cltpop"!==t.target.className&&"img-content"!==t.target.className&&"statusZg"!==t.target.className&&"workInfo"!==t.target.className&&"img-content bg-nsfw"!==t.target.className&&"ImgWaterFall"!==t.target.className&&"green-mode-div"!==t.target.className||!this.isArtwork)"IMG"!==t.target.tagName&&"img-content"!==t.target.className&&"statusZg"!==t.target.className&&"workInfo"!==t.target.className||"gallery"!==this.type||(Object(y.g)({items:[{action:"view",obj_no:e.id,obj_type:4}]}),this.$router.push(this.localePath("/artWorkDetail/"+e.id)));else{if(1===e.nsfw&&!this.$route.path.split("/").pop().includes("personal"))return void this.$message.warning(this.$t("workErrTip"));if(this.checkGreen(e))return void this.$EventBus.$emit("openLoginDialog",{redirect:"/explore/detail/"+e.id});Object(y.g)({items:[U(U({},this.dotReportInfo),{},{negative_ids:r,action:"view",obj_no:e.id,obj_type:1})]}),this.openWin?window.open("/explore/detail/"+e.id,"_blank"):this.$router.push(this.localePath("/explore/detail/"+e.id))}else{if(this.checkGreen(e))return void this.$EventBus.$emit("openLoginDialog",{redirect:"/models/detail/"+e.id});Object(y.g)({items:[U(U({},this.dotReportInfo),{},{negative_ids:r,action:"view",obj_no:e.id,obj_type:2})]}),3==e.status||4==e.status?this.$router.push({path:"/models/detail/".concat(e.id),query:{type:"other"}}):this.$router.push("/models/detail/".concat(e.id))}}}},imgError:function(t){t.errorTime++,t.errorTime>=2||(this.$refs[t.id][0].src=t.banner.url)},waterfall:function(){var t=this;try{this.openWaterFall=!1,this.heights=[];for(var e=function(){var e=t.dataList[i],o=e.waterHeight,n="artwork"==t.type?40:70;if("gallery"===t.type&&(n=0),e.timeItem){e.left=0;var r=t.getMaxIndex(t.heights);e.top=r>-1?t.heights[r]+t.gap:0,t.heights.forEach((function(n,r){t.heights[r]=e.top+o}))}else if(t.heights.length<t.selfCols)if(t.dataList[i-1]&&t.dataList[i-1].timeItem)if(e.left=0,e.top=t.dataList[i-1].top+t.dataList[i-1].waterHeight+t.gap,t.heights[0]){var l=t.heights[0]+o+n;t.heights=[l+t.gap]}else t.heights.push(e.top+o+n);else e.top=t.dataList[i-1]?t.dataList[i-1].top:0,e.left=t.heights.length*(t.width+t.gap),t.heights.push(e.top+o+n);else{var c=t.getMinIndex(t.heights),d=t.heights[c]+t.gap;e.top=d,e.left=c*(t.width+t.gap),t.heights[c]=d+o+n}},i=0;i<this.dataList.length;i++)e();this.setWaterFallRect(),this.$nextTick((function(){t.openWaterFall=!0}))}catch(t){}},getWidth:function(){var t;this.selfCols=this.cols,"userPage"==this.fromPage&&(this.selfCols=6);var e=this.containerForImg?this.containerForImg.offsetWidth:null===(t=this.$parent.$refs[this.container])||void 0===t?void 0:t.offsetWidth;if(e){e<1700&&(this.selfCols=6),e<1500&&(this.selfCols=5),e<1240&&(this.selfCols=4),e<980&&(this.selfCols=3),e<730&&(this.selfCols=2),e<500&&this.isPC&&(this.selfCols=1);var o=~~((e-this.selfCols*this.gap-this.gap+32)/this.selfCols);return this.isPC?o>233?o:233:o>176?o:176}},setWaterFallRect:function(){var t=this.containerForImg||this.$parent.$refs[this.container],e=Math.max.apply(null,this.heights);this.list.length||this.noSearchData?(t.style.height=e+"px",t.style.marginBottom="130px"):t.style.height="0px"},getMinIndex:function(t){var e=Math.min.apply(null,t);return t.indexOf(e)},getMaxIndex:function(t){var e=Math.max.apply(null,t);return t.indexOf(e)},resize:function(t){var e=this;if(this.openWatch){var o;if(this.containerForImg){if(this.containerForImg.offsetWidth<600)return}else if((null===(o=this.$parent.$refs[this.container])||void 0===o?void 0:o.offsetWidth)<600)return;this.dataList=v()(t).filter((function(t){return!e.WaterFallDeleteLits.includes(t.id)})).filter((function(t){return!e.filterImgType.includes(t.type)})),this.width=this.getWidth(),this.dataList.forEach((function(t){if(t.timeItem)t.waterWidth=e.width,t.waterHeight=30;else{var o;if(e.$set(t,"hoverd",!1),t.timeDiff=Object(m.c)(t.created_at,Date.now()),t.waterWidth=e.width,e.isTiemRow||"gallery"===e.type)t.waterHeight=e.width;else if("TAG"===t.type)t.waterHeight=540;else{var n;null!=t&&null!==(n=t.banner)&&void 0!==n&&n.width&&(t.waterHeight=parseInt(e.width/(t.banner.width/t.banner.height))),isNaN(t.waterHeight)&&(t.waterHeight=320)}null!=t&&null!==(o=t.banner)&&void 0!==o&&o.replaceUrl&&(t.banner.replaceUrl=Object(d.x)(t.banner.url,e.imgQuality||"low")),t.errorTime=0}})),this.waterfall()}},lazyLoad:function(){if(this.actived&&this.openWatch){var t=document.documentElement.scrollHeight,e=window.innerHeight;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset,t-this.scrollTop-e<1.5*e&&this.$emit("load")}},initials:function(t){return t.split(" ").map((function(t){return t[0]})).join("")},otherUser:function(t,e){var path=e?"/user/"+encodeURIComponent(t.author.id)+"?type=gather":"/user/"+encodeURIComponent(t.author.id);this.userInfo.id==t.author.id&&(path="/personal?tab=gather"),this.openWin?window.open(path,"_blank"):this.$router.push(path)},getPersonalInfoUrl:function(t){var path="/user/"+encodeURIComponent(t.author.id);return this.userInfo.id==t.author.id&&(path="/personal"),path},checkGreen:function(t){return!this.isLoggedIn&&!(null==t||!t.green||![2,"2"].includes(t.green))},tagChange:function(t){this.setWaterFallDeleteLits(t),this.resizeListener()},handleType:function(t){var e=t.type,o=t.channel;return 2===e&&"sdxl"===o||4===e&&"sdxl"===o?"/cell":6===e?"/animate":"/upscale"},handlePopoverShow:function(t){var e=this;"userPage"===this.fromPage&&Object(O.M)({obj_id:t.id,obj_type:V[this.type]||1}).then((function(o){var n,r;1e4===(null==o||null===(n=o.status)||void 0===n?void 0:n.code)&&e.$set(t,"isTop",null==o||null===(r=o.data)||void 0===r?void 0:r.is_top)}))}})},H=W,z=(o(2385),o(2386),Object(A.a)(H,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"waterfall-container",class:{"server-list":t.isServer},attrs:{id:"container"}},[t._l(t.renderList,(function(o,n){var r,l,c,d,h,f,v,m,_,y,w,C,k,O,x,P,j;return["TAG"!==o.type?e("a",{key:o.top+","+o.left,staticClass:"waterfall-item",class:{"waterfall-dialog":t.containerForImg},style:{transform:t.openWaterFall?"translateX(".concat(o.left,"px) translateY(").concat(o.top,"px)"):null},attrs:{href:t.toPath(o),target:"_blank"},on:{click:function(e){return e.preventDefault(),t.handleDetail(e,o)},mouseup:function(e){return t.handleMouseUp(e,o)},contextmenu:function(e){return t.handleContextMenu(e,o)},mouseover:function(e){t.isCheck?t.cntShow=[]:t.cntShow.push(o.id)}}},[o.deffBoxShow?e("div",{staticClass:"deffBox",style:{width:o.waterWidth+"px",height:o.waterHeight+"px"}},[e("div",[t._v(t._s(t.$t("PictureInvalid")))]),t._v(" "),e("div",[e("i",{staticClass:"el-icon-warning-outline"}),t._v(" "),e("span",[t._v(t._s(t.$t("PictureHidden")))])]),t._v(" "),t.isCheck&&o?e("listCheckbox",{on:{change:function(e){return t.checkChange(o)}},model:{value:o.isCheck,callback:function(e){t.$set(o,"isCheck",e)},expression:"item.isCheck"}}):t._e()],1):o.timeItem?e("div",{staticClass:"timeRow",style:{width:o.waterWidth+"px",height:o.waterHeight+"px"}},[t._v("\n      "+t._s(o.timeItem)+"\n    ")]):e("div",{staticClass:"listCnt marking-item"},[2!==(null===(r=t.accountData)||void 0===r||null===(r=r.settings)||void 0===r?void 0:r.green_mode)?e("div",[![2,"2"].includes(o.green)||["/personal"].includes(t.$route.path)||["/collectiondetail"].includes(t.$route.path)&&!t.$route.query.account_no?t._e():e("div",{staticClass:"green-mode-div",staticStyle:{"backdrop-filter":"blur(19px) saturate(160%)",position:"absolute",left:"0",top:"0"},style:{width:o.waterWidth+"px",height:o.waterHeight+"px"}})]):t._e(),t._v(" "),e("div",{staticClass:"img-content",class:1==(null===(l=o.banner)||void 0===l?void 0:l.nsfw)?"bg-nsfw":"",style:{width:o.waterWidth+"px",height:o.waterHeight+"px"}},[o.NSFWSHOW?e("div",{staticClass:"NSFWSHOW",style:{right:o.banner.is_nsfw_plus?"10px":"75px",opacity:o.banner.is_nsfw_plus?1:0},on:{click:function(e){return t.handleClickNSFW(o)}}},[e("i",{staticClass:"iconfont",class:null!=o&&null!==(c=o.banner)&&void 0!==c&&c.is_nsfw_plus?"icon-work-show":"icon-work-hide"})]):t._e(),t._v(" "),6==o.type&&1!=(null===(d=o.banner)||void 0===d?void 0:d.nsfw)?e("video",{ref:"mainVideo",refInFor:!0,staticClass:"cntVideo",style:{filter:t.setNsfwPlus(o)?"blur(19px) saturate(160%)":""},attrs:{src:null===(h=o.banner)||void 0===h?void 0:h.url,autoplay:"",loop:"",muted:"",controls:!1},domProps:{muted:!0}}):1!=(null===(f=o.banner)||void 0===f?void 0:f.nsfw)?e("ImgWaterFall",{style:{transform:o.isCheck?"scale(0.85)":null,filter:t.setNsfwPlus(o)?"blur(19px) saturate(160%)":""},attrs:{item:o,isLazyload:!1}}):t._e()],1),t._v(" "),t.isCheck&&o?e("listCheckbox",{on:{change:function(e){return t.checkChange(o)}},model:{value:o.isCheck,callback:function(e){t.$set(o,"isCheck",e)},expression:"item.isCheck"}}):t._e(),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:1!=(null===(v=o.banner)||void 0===v?void 0:v.nsfw)&&!(null!=o&&null!==(m=o.banner)&&void 0!==m&&m.is_nsfw_plus&&null!==(_=t.userInfo)&&void 0!==_&&_.enable_nsfw_plus),expression:"\n          item.banner?.nsfw == 1\n            ? false\n            : !(item?.banner?.is_nsfw_plus && userInfo?.enable_nsfw_plus)\n        "}]},[3==o.status||4==o.status?e("div",{staticClass:"statusCnt"},[e("div",{staticClass:"statusZg"}),t._v(" "),e("div",{staticClass:"statusBox",style:{color:4==o.status?"#EF3B3B":"#ffffff"}},[e("i",{staticClass:"iconfont icon-statusBox"}),t._v(" "),e("div",[t._v("\n              "+t._s(4==o.status?t.$t("notApproved"):t.$t("underReview"))+"\n            ")])])]):t.cntShow.includes(o.id)?e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"shade"},[e("p",[t._v(t._s(t.$t("NotPass"))+" "+t._s(t.$t("Auditing")))])]),t._v(" "),t.isShowRemix(o)?e("div",{staticClass:"waterfall-hover-try",class:{"prompt-show":!t.isLoggedIn},on:{click:function(e){return e.preventDefault(),t.handleClick(o,"创作")}}},[t._v("\n            "+t._s(t.$t("Remix"))+"\n          ")]):t._e(),t._v(" "),t.isLoggedIn&&1==o.status&&"gallery"!==t.type&&"activity"!==t.type?e("CollectPopover",{staticClass:"CollectPop",attrs:{type:t.type,folder:o,dotReportInfo:t.collectDotReportInfo,from:"waterfall"},on:{showChaneg:t.changeItemShow}}):t._e(),t._v(" "),t.isLoggedIn&&1==o.status&&"gallery"!==t.type&&"activity"!==t.type?e("div",{staticClass:"cltpop",style:{opacity:t.itemShow&&t.itemShowId==o.id?1:0}}):t._e(),t._v(" "),o.waterHeight>200?e("div",[e("div",{staticClass:"waterfall-hover-photo"},[e("div",{staticClass:"hoverTop"},[e("span",[t._v(t._s(t.handleType(o)))]),t._v(" "),o?e("div",{staticClass:"moreEdit"},[t.isLoggedIn?[e("el-popover",{key:n,ref:"myPopover",refInFor:!0,attrs:{placement:"top-end","popper-class":"water-fall-popover","append-to-body":!1,"visible-arrow":!1,"popper-options":{boundariesElement:"body"},width:"100",trigger:"click"},on:{show:function(e){return t.handlePopoverShow(o)}},model:{value:o.propS,callback:function(e){t.$set(o,"propS",e)},expression:"item.propS"}},[e("div",{staticClass:"pop-btns flex"},["userPage"==t.fromPage&&t.isMine(o)?e("button",{on:{click:function(e){return e.preventDefault(),t.moreActions("pinOrNot",o)}}},[t._v("\n                          "+t._s(t.$t(null!=o&&o.isTop?"UnpinOverview":"PinOverview"))+"\n                        ")]):t._e(),t._v(" "),e("button",{on:{click:function(e){return e.preventDefault(),t.moreActions("flag",o)}}},[t._v("\n                          "+t._s(t.$t("Report"))+"\n                        ")]),t._v(" "),t.isArtwork?e("button",{on:{click:function(e){return e.preventDefault(),t.moreActions("save",o)}}},[t._v("\n                          "+t._s(t.$t("Download"))+"\n                        ")]):t._e(),t._v(" "),t.isArtwork?e("button",{on:{click:function(e){return e.preventDefault(),t.moreActions("share",o)}}},[t._v("\n                          "+t._s(t.$t("ShareLink"))+"\n                        ")]):t._e(),t._v(" "),!t.dislikeShow||o.author&&o.author.id==t.userInfo.id||!t.isArtwork?t._e():e("button",{on:{click:function(e){return e.preventDefault(),t.moreActions("not_interested",o)}}},[t._v("\n                          "+t._s(t.$t("dislike"))+"\n                        ")]),t._v(" "),o.author&&o.author.id==t.userInfo.id&&o.banner.a_a&&t.isArtwork?e("button",{on:{click:function(e){return e.preventDefault(),t.moreActions("appeal",o)}}},[t._v("\n                          "+t._s(t.$t("appeal"))+"\n                        ")]):t._e(),t._v(" "),t.isMine(o)?e("button",{on:{click:function(e){return e.preventDefault(),t.moreActions("delete",o)}}},[t._v("\n                          "+t._s(t.$t("Delete"))+"\n                        ")]):t._e()]),t._v(" "),e("div",{class:{"login-waterFall-btn-icon":t.isLoggedIn,"noLogin-waterFall-collect-icon prompt-show":!t.isLoggedIn},attrs:{slot:"reference"},slot:"reference"},[e("i",{staticClass:"iconfont icon-more"})])])]:t._e()],2):t._e()]),t._v(" "),3!=o.type?e("div",{staticClass:"hoverMiddle"},[t._v("\n                "+t._s(o.prompt)+"\n              ")]):t._e(),t._v(" "),t._m(0,!0)])]):e("div",[o?e("div",{staticClass:"short-more-edit"},[t.isLoggedIn?[e("el-popover",{key:n,ref:"myPopover",refInFor:!0,attrs:{placement:"top-end","popper-class":"water-fall-popover","append-to-body":!1,"visible-arrow":!1,"popper-options":{boundariesElement:"body"},width:"100",trigger:"click"},on:{show:function(e){return t.handlePopoverShow(o)}},model:{value:o.propS,callback:function(e){t.$set(o,"propS",e)},expression:"item.propS"}},[e("div",{staticClass:"pop-btns flex"},["userPage"==t.fromPage&&t.isMine(o)?e("button",{on:{click:function(e){return e.preventDefault(),t.moreActions("pinOrNot",o)}}},[t._v("\n                      "+t._s(t.$t(null!=o&&o.isTop?"UnpinOverview":"PinOverview"))+"\n                    ")]):t._e(),t._v(" "),e("button",{on:{click:function(e){return e.preventDefault(),t.moreActions("flag",o)}}},[t._v("\n                      "+t._s(t.$t("Report"))+"\n                    ")]),t._v(" "),t.isArtwork?e("button",{on:{click:function(e){return e.preventDefault(),t.moreActions("save",o)}}},[t._v("\n                      "+t._s(t.$t("Download"))+"\n                    ")]):t._e(),t._v(" "),t.isArtwork?e("button",{on:{click:function(e){return e.preventDefault(),t.moreActions("share",o)}}},[t._v("\n                      "+t._s(t.$t("ShareLink"))+"\n                    ")]):t._e(),t._v(" "),!t.dislikeShow||o.author&&o.author.id==t.userInfo.id||!t.isArtwork?t._e():e("button",{on:{click:function(e){return e.preventDefault(),t.moreActions("not_interested",o)}}},[t._v("\n                      "+t._s(t.$t("dislike"))+"\n                    ")]),t._v(" "),o.author&&o.author.id==t.userInfo.id&&o.banner.a_a&&t.isArtwork?e("button",{on:{click:function(e){return e.preventDefault(),t.moreActions("appeal",o)}}},[t._v("\n                      "+t._s(t.$t("appeal"))+"\n                    ")]):t._e(),t._v(" "),t.isMine(o)?e("button",{on:{click:function(e){return e.preventDefault(),t.moreActions("delete",o)}}},[t._v("\n                      "+t._s(t.$t("Delete"))+"\n                    ")]):t._e()]),t._v(" "),e("div",{class:{"login-waterFall-btn-icon":t.isLoggedIn,"noLogin-waterFall-collect-icon prompt-show":!t.isLoggedIn},attrs:{slot:"reference"},slot:"reference"},[e("i",{staticClass:"iconfont icon-more"})])])]:t._e()],2):t._e()]),t._v(" "),"model"===t.type&&o.base_model.includes("SDXL")?e("div",{staticClass:"modelPoint"},[t._v("\n            "+t._s((null==o?void 0:o.type)+" | XL ")+"\n          ")]):"model"===t.type?e("div",{staticClass:"modelPoint"},[t._v("\n            "+t._s(null==o?void 0:o.type)+"\n          ")]):t._e()],1):t._e(),t._v(" "),"gallery"===t.type?e("div",{staticClass:"galleryBox"},[e("div",{staticClass:"imgNum"},[e("i",{staticClass:"iconfont icon-imgNum"}),t._v(" "),e("span",[t._v(t._s(o.num_of_item))])]),t._v(" "),e("div",{staticClass:"infoBar"},[e("div",{staticClass:"infoBarUser",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.otherUser(o,t.type)}}},[null!=o&&null!==(y=o.author)&&void 0!==y&&y.head?e("img",{directives:[{name:"webp",rawName:"v-webp",value:t.$imgL,expression:"$imgL"}],staticClass:"infoBarUserAvator",attrs:{decoding:"async",loading:"lazy",src:null==o||null===(w=o.author)||void 0===w?void 0:w.head,alt:""}}):o.author?e("div",{staticClass:"infoBarUserAvator"},[t._v("\n                "+t._s(t.initials((null==o||null===(C=o.author)||void 0===C?void 0:C.name)||(null==o||null===(k=o.author)||void 0===k?void 0:k.id)))+"\n              ")]):t._e(),t._v(" "),e("span",{staticClass:"infoBarUserText"},[t._v(t._s(o.name))])]),t._v(" "),e("div",{staticClass:"infoNum"},[e("div",{staticClass:"numBox",on:{click:function(e){return e.preventDefault(),t.setLike(o,"gallery")}}},[e("i",{staticClass:"iconfont",class:t.setlikeData(o),staticStyle:{"margin-top":"-1px"}}),t._v(" "),e("span",[t._v(t._s(t.formatNumberForeign(o.num_of_praise)))])]),t._v(" "),e("div",{staticClass:"numBox",staticStyle:{"margin-left":"16px"}},[e("i",{staticClass:"iconfont icon-browse"}),t._v(" "),e("span",[t._v(t._s(t.formatNumberForeign(o.num_of_browse)))])])])])]):t._e(),t._v(" "),"activity"===t.type?e("div",{staticClass:"activity",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.goToDetail(o)}}},[o.name?e("div",{staticClass:"top-container"},[e("div",{staticClass:"name"},[t._v(t._s(o.name))]),t._v(" "),e("div",{staticClass:"collect-num",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.handleClick(o,"收藏","model")}}},[e("i",{staticClass:"iconfont",class:t.setCollectData(o)}),t._v("\n              "+t._s(t.formatNumberForeign(o.stat.num_of_collection))+"\n            ")])]):t._e(),t._v(" "),e("div",{staticClass:"personal-info"},[e("div",{staticClass:"left-info",style:{width:o.name?"100%":"calc(100% - 68px)"}},[o.author.head?e("img",{directives:[{name:"webp",rawName:"v-webp",value:t.$imgL,expression:"$imgL"}],staticClass:"avatorClass",attrs:{decoding:"async",loading:"lazy",src:o.author.head,alt:""},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.goToPersonal(o)}}}):e("div",{staticClass:"avatorClass",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.goToPersonal(o)}}},[t._v("\n                "+t._s(t.initials(o.author.name||o.author.id))+"\n              ")]),t._v(" "),e("span",{staticClass:"ellipsis-text",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.goToPersonal(o)}}},[t._v("\n                "+t._s(o.author.name||o.author.id)+"\n              ")])]),t._v(" "),o.name?t._e():e("div",{staticClass:"like-num",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.setLike(o,"artwork","waterfall")}}},[e("i",{staticClass:"iconfont",class:t.setlikeData(o)}),t._v(" "),o.stat&&o.stat.num_of_like>0?e("span",[t._v(t._s(t.formatNumberForeign(o.stat.num_of_like)))]):t._e()])])]):t._e()]),t._v(" "),e("admin-tag",{attrs:{id:o.id,type:t.tagType,item:o},on:{change:t.tagChange}})],1),t._v(" "),"model"!==t.type||o.timeItem?t._e():e("div",{staticClass:"waterfall-hover-model"},[e("span",{staticClass:"ellipsis-text modelName"},[t._v(t._s(o.name))]),t._v(" "),e("div",{staticClass:"hoverBottom"},[o.author?e("div",{staticClass:"flex-center",staticStyle:{"max-width":"50%"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.otherUser(o)}}},[o.author.head?e("img",{directives:[{name:"webp",rawName:"v-webp",value:t.$imgL,expression:"$imgL"}],staticClass:"avatorClass",attrs:{decoding:"async",loading:"lazy",src:o.author.head,alt:""}}):o.author?e("div",{staticClass:"avatorClass"},[t._v("\n            "+t._s(t.initials(o.author.name||o.author.id))+"\n          ")]):t._e(),t._v(" "),e("span",{staticClass:"ellipsis-text"},[t._v(t._s(o.author.name))])]):e("div"),t._v(" "),1==o.status?e("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[1==o.status?e("div",{staticClass:"login-waterFall-btn-icon-model",staticStyle:{"margin-right":"18px"},on:{click:function(e){return e.preventDefault(),t.handleClick(o,"创作")}}},[e("i",{staticClass:"iconfont icon-play"}),t._v(" "),e("div",{staticStyle:{"font-size":"12px","margin-left":"4px","line-height":"20px"}},[t._v("\n              "+t._s(t.formatNumberForeign(o.stat.num_of_task))+"\n            ")])]):t._e(),t._v(" "),t.cntShow.includes(o.id)?e("div",{class:{"login-waterFall-btn-icon-model":t.isLoggedIn,"noLogin-waterFall-collect-icon-model prompt-show":!t.isLoggedIn},on:{click:function(e){return e.preventDefault(),t.handleClick(o,"收藏","model")}}},[e("i",{staticClass:"iconfont",class:t.setCollectData(o)}),t._v(" "),e("div",{staticStyle:{"font-size":"12px","margin-left":"4px","line-height":"20px"}},[t._v("\n              "+t._s(o.stat.num_of_collection)+"\n            ")])]):e("div",{class:{"login-waterFall-btn-icon-model":t.isLoggedIn,"noLogin-waterFall-collect-icon-model prompt-show":!t.isLoggedIn}},[e("i",{staticClass:"iconfont",class:o.collect?"icon-collect_selected":"icon-collect"}),t._v(" "),e("div",{staticStyle:{"font-size":"12px","margin-left":"4px","line-height":"20px"}},[t._v("\n              "+t._s(o.stat.num_of_collection)+"\n            ")])])]):t._e()])]),t._v(" "),"artwork"!==t.type||o.timeItem?t._e():e("div",{staticClass:"workInfo"},[o.author?e("div",{directives:[{name:"lazyload",rawName:"v-lazyload"}],staticClass:"flex-center flex-center-image",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.otherUser(o)}}},[o.author.head?e("img",{staticClass:"avatorClass",attrs:{"data-src":o.author.head,alt:""}}):e("div",{staticClass:"avatorClass"},[t._v("\n          "+t._s(t.initials(o.author.name||o.author.id))+"\n        ")]),t._v(" "),e("span",{staticClass:"ellipsis-text",style:{"max-width":t.containerForImg?"3rem":""}},[t._v(t._s(o.author.name||o.author.id))])]):e("div"),t._v(" "),t.cntShow.includes(o.id)?e("div",{staticClass:"numInfo",class:{"hover-show":t.hoverShow}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.hidethumbup,expression:"!hidethumbup"}],staticClass:"numItem",staticStyle:{"margin-right":"18px"},on:{click:function(e){return e.preventDefault(),t.setLike(o,"artwork","waterfall")}}},[e("i",{staticClass:"iconfont",class:t.setlikeData(o)}),t._v(" "),null!==(O=o.stat)&&void 0!==O&&O.num_of_like?e("span",[t._v(t._s(o.stat.num_of_like))]):t._e()]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.hidecollect,expression:"!hidecollect"}],staticClass:"numItem",on:{click:function(e){return e.preventDefault(),t.handleClick(o,"收藏","artwork")}}},[e("i",{staticClass:"iconfont",class:t.setCollectData(o)}),t._v(" "),null!==(x=o.stat)&&void 0!==x&&x.num_of_collection?e("span",[t._v(t._s(o.stat.num_of_collection))]):t._e()])]):e("div",{staticClass:"numInfo",class:{"hover-show":t.hoverShow}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.hidethumbup,expression:"!hidethumbup"}],staticClass:"numItem",staticStyle:{"margin-right":"18px"}},[e("i",{staticClass:"iconfont",class:o.liked?"icon-like_selected":"icon-like"}),t._v(" "),null!==(P=o.stat)&&void 0!==P&&P.num_of_like?e("span",[t._v(t._s(o.stat.num_of_like))]):t._e()]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.hidecollect,expression:"!hidecollect"}],staticClass:"numItem"},[e("i",{staticClass:"iconfont",class:o.collect?"icon-collect_selected":"icon-collect"}),t._v(" "),null!==(j=o.stat)&&void 0!==j&&j.num_of_collection?e("span",[t._v(t._s(o.stat.num_of_collection))]):t._e()])])])]):e("s-tag-item",{key:o.top+","+o.left,style:{width:o.waterWidth+"px",height:o.waterHeight+"px",transform:t.openWaterFall?"translateX(".concat(o.left,"px) translateY(").concat(o.top,"px)"):null},attrs:{tags:o.tagList}})]})),t._v(" "),t.isShowNullRelatedImg?e("div",{staticClass:"null-data-container"},[e("img",{staticClass:"null-image",attrs:{src:o(289),alt:"null_related_image"},on:{load:function(e){return t.$emit("solveScrollbarStyle")}}}),t._v(" "),e("div",{staticClass:"null-tips"},[t._v(t._s(t.$t("NoRelatedWorks")))])]):t._e(),t._v(" "),t.alreadyNoMoreData?e("div",{staticClass:"at-bottom"},[e("div",{staticClass:"dashed-line"}),t._v(" "),e("div",{staticClass:"tips"},[t._v(t._s(t.$t("NoMoreData")))]),t._v(" "),e("div",{staticClass:"dashed-line"})]):t._e(),t._v(" "),t.noSearchData?e("div",{staticClass:"no-search-data-container"},[e("img",{staticClass:"no-search-image",attrs:{src:o(290),alt:"no search data"}}),t._v(" "),e("div",{staticClass:"null-tips"},[t._v(t._s(t.$t("NoSearchData")))])]):t._e(),t._v(" "),e("el-dialog",{attrs:{title:t.$t("appeal"),visible:t.appealShow,width:"500px","modal-append-to-body":!1,"close-on-click-modal":!1,"custom-class":"SaDialog"},on:{"update:visible":function(e){t.appealShow=e}}},[e("div",{staticClass:"appealCnt"},[e("el-input",{attrs:{type:"textarea",placeholder:t.$t("enterAppealCnt"),maxlength:"50","show-word-limit":""},model:{value:t.appeaData.remark,callback:function(e){t.$set(t.appeaData,"remark",e)},expression:"appeaData.remark"}})],1),t._v(" "),e("div",{staticClass:"bntitem",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.appealShow=!1}}},[t._v(t._s(t.$t("Cancel")))]),t._v(" "),e("el-button",{attrs:{loading:t.isAppealLoading},on:{click:function(e){return t.setResourceAppeal(t.appeaData)}}},[t._v(t._s(t.$t("Submit")))])],1)]),t._v(" "),e("ShareDialog",{ref:"shareDialog",attrs:{type:"artwork"}}),t._v(" "),e("auditDialog",{ref:"auditDialog",on:{confirm:t.applyNsfw}})],2)}),[function(){var t=this._self._c;return t("div",{staticClass:"hoverBottom"},[t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}})])}],!1,null,"5559f5d1",null));e.a=z.exports},1276:function(t,e,o){t.exports={}},1277:function(t,e,o){t.exports={}},1278:function(t,e,o){t.exports={}},1279:function(t,e,o){t.exports={}},1280:function(t,e,o){t.exports={}},1281:function(t,e,o){t.exports={}},1282:function(t,e,o){t.exports={}},1283:function(t,e,o){t.exports={}},1284:function(t,e,o){t.exports={}},1285:function(t,e,o){t.exports={}},1303:function(t,e,o){t.exports={}},1335:function(t,e,o){t.exports={}},1338:function(t,e,o){t.exports={}},134:function(t,e,o){"use strict";o(16),o(9),o(7),o(11),o(12),o(8);var n=o(3),r=o(2),l=(o(20),o(10),o(70),o(19),o(14),o(28),o(4),o(49),o(18),o(76),o(6),o(30)),c=o(1),d=o(33),h=o(56),f=o(5),v=o(1928);function m(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function _(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?m(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):m(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var y={name:"cmtComments",mixins:[d.a],props:{infos:{type:Object,default:function(){}},type:{type:Number,default:1},dotReportInfo:{type:Object,default:function(){return{view_domain:"",batch_id:"",action:"",obj_no:"",obj_type:1,negative_ids:[],category:"default"}}},naturalScroll:{type:Boolean,default:!1},inputPosition:{type:String,default:"bottom"},isReverseLoad:{type:Boolean,default:!1}},components:{CollectPopover:h.a},data:function(){return{formatNumberForeign:f.i,commListData:{obj_id:"",obj_type:1,page:1,sort:"like"},commList:[],commTotal:0,pubTxt:"",replyTxt:"",isReplyId:"",loading:!1,noMoreData:!1,pubLoading:!1,repMorLoading:!1,likeLoading:!1,typeKey:""}},computed:_(_(_({},Object(c.c)("user",["isLoggedIn"])),Object(c.e)("user",["userInfo"])),{},{isAuthor:function(){var t=this;return function(e){var o;return e.user_id===(null===(o=t.infos.author)||void 0===o?void 0:o.id)}}}),watch:{commTotal:{handler:function(t){this.$emit("updateCountNum",t||0)},immediate:!0}},created:function(){switch(this.type){case 1:this.typeKey="artwork";break;case 2:this.typeKey="model";break;case 4:this.typeKey="gallery";break;case 5:this.typeKey="lookbook";break;case 9:this.typeKey="character";break;case 11:this.typeKey="palette";break;case 13:this.typeKey="workflow";break;case 15:this.typeKey="ai_video"}this.commListData.obj_id=this.infos.id,this.commListData.obj_type=this.type},mounted:function(){if(this.getCommentList(),this.naturalScroll){var t=this.isReverseLoad?this.reverseLoadFn:this.checkLoadMoreAll;window.addEventListener("scroll",t)}else this.$refs.list&&this.$refs.list.addEventListener("scroll",this.checkLoadMore)},beforeDestroy:function(){if(this.naturalScroll){var t=this.isReverseLoad?this.reverseLoadFn:this.checkLoadMoreAll;window.removeEventListener("scroll",t)}else this.$refs.list&&this.$refs.list.removeEventListener("scroll",this.checkLoadMore)},methods:{clickTransBtn:function(t){null!=t&&t.showTranslation?this.$set(t,"showTranslation",!1):(this.$logEvent("log_actions",{operation:"view_translation",behavior_info:this.type,behavior_info_sub:this.infos.id}),null!=t&&t.translationTxt?this.$set(t,"showTranslation",!0):this.translateContent(t))},translateContent:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n,r,l,c,text;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n=t.content,r=localStorage.getItem("translate_language")||e.$i18n.locale,r=(null==(l={zhCN:"zh-cn",zhTW:"zh-tw"})?void 0:l[r])||r,e.$set(t,"isLoading",!0),o.next=8,Object(v.a)(n,{to:r});case 8:c=o.sent,text=c.text,e.$set(t,"isLoading",!1),text&&(e.$set(t,"translationTxt",text),e.$set(t,"showTranslation",!0)),o.next=20;break;case 14:throw o.prev=14,o.t0=o.catch(0),e.$set(t,"isLoading",!1),localStorage.removeItem("translate_".concat(e.sessionId)),console.error("谷歌翻译报错",o.t0),new o.t0("谷歌翻译报错",o.t0);case 20:case"end":return o.stop()}}),o,null,[[0,14]])})))()},handleMark:function(){this.isLoggedIn?this.setCollectData(this.infos).includes("collect_selected")?(this.$refs.collectPopover.visible=!1,this.setCollect(this.infos,this.typeKey)):this.$refs.collectPopover.visible=!0:this.$EventBus.$emit("openLoginDialog")},setTiem:function(t){var e=t?new Date(t):new Date,o=new Date;if(e.toDateString()===o.toDateString())return"".concat(this.$t("today")," ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"));var n=new Date;return n.setDate(o.getDate()-1),e.toDateString()===n.toDateString()?"".concat(this.$t("yesterday")," ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0")):e.getFullYear()===o.getFullYear()?"".concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0")):"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0"))},onLike:function(t,e,o){var n,r=this;if(this.isLoggedIn){if(!this.likeLoading){this.likeLoading=!0;var c=1;t.is_like&&(c=0),Object(l.d)({comment_id:t.id,obj_id:this.infos.id,obj_type:this.type,type:c}).then((function(n){1e4==n.status.code&&(o||0==o?(r.commList[e].children[o].is_like=!t.is_like,0==c?r.commList[e].children[o].like_count>0&&r.commList[e].children[o].like_count--:r.commList[e].children[o].like_count++):(r.commList[e].is_like=!t.is_like,0==c?r.commList[e].like_count>0&&r.commList[e].like_count--:r.commList[e].like_count++))})).finally((function(t){r.likeLoading=!1}))}}else null!==(n=this.$route)&&void 0!==n&&null!==(n=n.name)&&void 0!==n&&n.includes("aiChat")?this.$EventBus.$emit("openLoginDialog",{callBack:function(){return r.$emit("newChat")}}):this.$EventBus.$emit("openLoginDialog")},openPub:function(){this.$refs.commTitle&&(this.$refs.commTitle.scrollIntoView({behavior:"smooth",block:"center"}),this.$refs.pubInput.focus())},openReply:function(t){var e=this;this.replyTxt="",this.isReplyId===t?this.isReplyId="":this.isReplyId=t,this.$nextTick((function(){e.$refs.replyInput[0]&&(e.$refs.replyInput[0].scrollIntoView({behavior:"smooth",block:"center"}),e.$refs.replyInput[0].focus())}))},onkeyRep:function(t,e,o,n){13==n.keyCode&&this.replyComm(t,e,o)},replyComm:function(t,e,o){var n,r=this;if(this.isLoggedIn){if(this.replyTxt&&!this.pubLoading){this.pubLoading=!0;var c,d={content:this.replyTxt,obj_id:this.infos.id,obj_type:this.type,root_id:o?t.root_id:t.id,parent_id:t.id};if(9===this.type)d.author_id=(null==this||null===(c=this.infos)||void 0===c||null===(c=c.author)||void 0===c?void 0:c.id)||"";Object(l.c)(d).then((function(n){if(1e4==n.status.code){var l={user_info:{avatar:r.userInfo.head,user_id:r.userInfo.id,username:r.userInfo.name,is_author:r.userInfo.id==r.infos.author.id?1:0},like_count:0,replies_count:0,content:r.replyTxt,id:n.data.comment_id,root_id:o?t.root_id:t.id};o&&(l.target=t.user_info),[null,"",void 0].includes(r.commList[e].children)&&(r.commList[e].children=[]),r.commList[e].children.unshift(l),r.replyTxt="",r.isReplyId="",r.commTotal++;r.$logEvent("log_actions",{operation:"comment_image",behavior_info:["作品","模型","作品集","视频"][r.type-1]}),r.$emit("onCommentEnd",_(_({},n.data),{},{commTotal:r.commTotal}))}})).finally((function(t){r.pubLoading=!1}))}}else null!==(n=this.$route)&&void 0!==n&&null!==(n=n.name)&&void 0!==n&&n.includes("aiChat")?this.$EventBus.$emit("openLoginDialog",{callBack:function(){return r.$emit("newChat")}}):this.$EventBus.$emit("openLoginDialog")},onkeyPub:function(t){13===t.keyCode&&this.onPub()},onPub:function(){var t,e=this;if(this.isLoggedIn){if(this.pubTxt&&!this.pubLoading){this.pubLoading=!0;var o,n={content:this.pubTxt,obj_id:this.infos.id,obj_type:this.type};if(9===this.type)n.author_id=(null==this||null===(o=this.infos)||void 0===o||null===(o=o.author)||void 0===o?void 0:o.id)||"";Object(l.c)(n).then((function(t){if(1e4===t.status.code){var o={user_info:{avatar:e.userInfo.head,user_id:e.userInfo.id,username:e.userInfo.name,is_author:e.userInfo.id==e.infos.author.id?1:0},like_count:0,replies_count:0,children:[],content:e.pubTxt,id:t.data.comment_id};e.commList.unshift(o),e.commTotal++,e.pubTxt="";e.$logEvent("log_actions",{operation:"comment_image",behavior_info:["作品","模型","作品集","视频"][e.type-1]}),e.$emit("onCommentEnd",_(_({},t.data),{},{commTotal:e.commTotal}))}})).finally((function(t){e.pubLoading=!1}))}}else null!==(t=this.$route)&&void 0!==t&&null!==(t=t.name)&&void 0!==t&&t.includes("aiChat")?this.$EventBus.$emit("openLoginDialog",{callBack:function(){return e.$emit("newChat")}}):this.$EventBus.$emit("openLoginDialog")},initials:function(t){return t.split(" ").map((function(t){return t[0]})).join("")},goToPersonal:function(t){var e,o=t.user_info.user_id,n=null===(e=this.userInfo)||void 0===e?void 0:e.id,path="/user/"+encodeURIComponent(o);n==o&&(path="/personal"),window.open(this.localePath(path),"_blank")},checkLoadMore:function(){var t=this.$refs.list,e=t.scrollTop,o=t.scrollHeight;e+t.clientHeight>=o-600&&this.getCommentList()},checkLoadMoreAll:function(){(window.pageYOffset||document.documentElement.scrollTop)+window.innerHeight>=document.documentElement.scrollHeight&&this.getCommentList()},reverseLoadFn:function(){var t=document.querySelector("#reverseLoadDiv"),e=t&&t.getBoundingClientRect(),o=window.innerHeight;t&&e.top<o&&this.getCommentList()},onRepMor:function(t,e){var o=this;console.log(t),this.repMorLoading||(this.repMorLoading=!0,Object(l.e)({obj_id:this.infos.id,obj_type:this.type,root_id:t.id,page:t.replyPage,sort:"like"}).then((function(n){1e4==n.status.code&&(1==t.replyPage?o.commList[e].children=n.data.items||[]:o.commList[e].children=o.commList[e].children.concat(n.data.items||[]),o.commList[e].replyPage++)})).finally((function(t){o.repMorLoading=!1})))},getCommentList:function(){var t=this;this.loading||this.noMoreData||(this.loading=!0,Object(l.e)(this.commListData).then((function(e){1e4==e.status.code&&(e.data.items.forEach((function(e){e.replies_count>3&&t.$set(e,"replyPage",1)})),t.commList=t.commList.concat(e.data.items||[]),t.commTotal=e.data.total,t.commListData.page++,e.data.items&&0!=e.data.items.length||(t.noMoreData=!0))})).finally((function(e){t.loading=!1})))}}},w=(o(2412),o(0)),component=Object(w.a)(y,(function(){var t,e,n,r=this,l=r._self._c;return l("div",{directives:[{name:"loading",rawName:"v-loading",value:r.loading,expression:"loading"}],staticClass:"cmtComments",class:r.naturalScroll&&"natural-view"},["top"===r.inputPosition?l("div",{staticClass:"inputBox"},[l("input",{directives:[{name:"model",rawName:"v-model",value:r.pubTxt,expression:"pubTxt"}],ref:"pubInput",attrs:{type:"text",maxlength:"300",placeholder:r.$t("saySom")},domProps:{value:r.pubTxt},on:{focus:function(t){r.isReplyId=""},keyup:r.onkeyPub,input:function(t){t.target.composing||(r.pubTxt=t.target.value)}}}),r._v(" "),l("div",{directives:[{name:"loading",rawName:"v-loading",value:r.pubLoading,expression:"pubLoading"}]},[l("img",{attrs:{src:o(396),alt:""},on:{click:r.onPub}})])]):r._e(),r._v(" "),l("div",{ref:"list",staticClass:"commMain"},[r._t("cmtInner"),r._v(" "),l("div",{staticClass:"commCnt"},[l("div",{ref:"commTitle",staticClass:"commNum"},[r._v("\n        "+r._s(r.$t("commNumTotal",{number:r.commTotal}))+"\n      ")]),r._v(" "),l("div",{staticClass:"list"},r._l(r.commList,(function(t,e){return l("div",{key:e,staticClass:"commItem"},[l("div",{staticClass:"avatar",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),r.goToPersonal(t)}}},[t.user_info.avatar?l("img",{staticClass:"avatarHead",attrs:{decoding:"async",loading:"lazy",src:t.user_info.avatar,alt:""}}):l("div",{staticClass:"avatarHead"},[r._v("\n              "+r._s(r.initials(t.user_info.username||t.user_info.user_id))+"\n            ")]),r._v(" "),l("div",{staticClass:"avatarName"},[l("span",[r._v(r._s(t.user_info.username||t.user_info.user_id))]),r._v(" "),r.isAuthor(t.user_info.user_id)?l("div",{staticClass:"isAuthor"},[r._v("\n                "+r._s(r.$t("author"))+"\n              ")]):r._e()])]),r._v(" "),l("div",{staticClass:"commListCnt"},[l("div",{staticClass:"commTxt"},[r._v(r._s(null!=t&&t.showTranslation?(null==t?void 0:t.translationTxt)||"":t.content))]),r._v(" "),l("div",{staticClass:"translate",on:{click:function(e){return r.clickTransBtn(t)}}},[l("span",{directives:[{name:"loading",rawName:"v-loading",value:null==t?void 0:t.isLoading,expression:"item?.isLoading"}]},[r._v(r._s(r.$t(null!=t&&t.showTranslation?"ViewOriginal":"ViewTranslation")))])]),r._v(" "),l("div",{staticClass:"txtFunBar"},[l("div",{staticClass:"commDate"},[r._v(r._s(r.setTiem(t.create_at)))]),r._v(" "),l("div",{staticClass:"txtFunBarRight"},[l("div",{staticClass:"funNum",on:{click:function(o){return r.onLike(t,e)}}},[l("i",{staticClass:"iconfont",class:[t.is_like?"icon-like_selected":"icon-like"]}),r._v(" "),t.like_count>0?l("span",[r._v(r._s(r.formatNumberForeign(t.like_count)))]):r._e()]),r._v(" "),l("div",{staticClass:"funNum",on:{click:function(e){return r.openReply(t.id)}}},[l("i",{staticClass:"el-icon-chat-dot-round"}),r._v(" "),t.replies_count>0?l("span",[r._v(r._s(r.formatNumberForeign(t.replies_count)))]):r._e()])])]),r._v(" "),r.isReplyId==t.id?l("div",{staticClass:"inputBox"},[l("input",{directives:[{name:"model",rawName:"v-model",value:r.replyTxt,expression:"replyTxt"}],ref:"replyInput",refInFor:!0,attrs:{type:"text",maxlength:"300",placeholder:"".concat(r.$t("replyTo")," @").concat(t.user_info.username||t.user_info.user_id)},domProps:{value:r.replyTxt},on:{keyup:function(o){return r.onkeyRep(t,e,!1,o)},input:function(t){t.target.composing||(r.replyTxt=t.target.value)}}}),r._v(" "),l("div",{directives:[{name:"loading",rawName:"v-loading",value:r.pubLoading,expression:"pubLoading"}]},[l("img",{attrs:{src:o(396),alt:""},on:{click:function(o){return r.replyComm(t,e,!1)}}})])]):r._e(),r._v(" "),r._l(t.children,(function(t,n){var c,d;return l("div",{key:n,staticClass:"replies"},[l("div",{staticClass:"avatar",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),r.goToPersonal(t)}}},[t.user_info.avatar?l("img",{staticClass:"avatarHead",attrs:{decoding:"async",loading:"lazy",src:t.user_info.avatar,alt:""}}):l("div",{staticClass:"avatarHead"},[r._v("\n                  "+r._s(r.initials(t.user_info.username||t.user_info.user_id))+"\n                ")]),r._v(" "),l("div",{staticClass:"avatarName"},[l("span",[r._v(r._s(t.user_info.username||t.user_info.user_id))]),r._v(" "),r.isAuthor(t.user_info.user_id)?l("div",{staticClass:"isAuthor"},[r._v("\n                    "+r._s(r.$t("author"))+"\n                  ")]):r._e()])]),r._v(" "),l("div",{staticClass:"commListCnt"},[null!==(c=t.target)&&void 0!==c&&c.username?l("div",{staticClass:"commTxt"},[r._v("\n                  "+r._s(r.$t("reply"))+" "),l("span",[r._v(r._s(null===(d=t.target)||void 0===d?void 0:d.username)+":")]),r._v("\n                  "+r._s(null!=t&&t.showTranslation?(null==t?void 0:t.translationTxt)||"":t.content)+"\n                ")]):l("div",{staticClass:"commTxt"},[r._v(r._s(null!=t&&t.showTranslation?(null==t?void 0:t.translationTxt)||"":t.content))]),r._v(" "),l("div",{staticClass:"translate",on:{click:function(e){return r.clickTransBtn(t)}}},[l("span",{directives:[{name:"loading",rawName:"v-loading",value:null==t?void 0:t.isLoading,expression:"ele?.isLoading"}]},[r._v(r._s(r.$t(null!=t&&t.showTranslation?"ViewOriginal":"ViewTranslation")))])]),r._v(" "),l("div",{staticClass:"txtFunBar"},[l("div",{staticClass:"commDate"},[r._v(r._s(r.setTiem(t.create_at)))]),r._v(" "),l("div",{staticClass:"txtFunBarRight"},[l("div",{staticClass:"funNum",on:{click:function(o){return r.onLike(t,e,n)}}},[l("i",{staticClass:"iconfont",class:[t.is_like?"icon-like_selected":"icon-like"]}),r._v(" "),t.like_count>0?l("span",[r._v(r._s(r.formatNumberForeign(t.like_count)))]):r._e()]),r._v(" "),l("div",{staticClass:"funNum",on:{click:function(e){return r.openReply(t.id)}}},[l("i",{staticClass:"el-icon-chat-dot-round"})])])]),r._v(" "),r.isReplyId==t.id?l("div",{staticClass:"inputBox"},[l("input",{directives:[{name:"model",rawName:"v-model",value:r.replyTxt,expression:"replyTxt"}],ref:"replyInput",refInFor:!0,attrs:{type:"text",maxlength:"300",placeholder:"".concat(r.$t("reply")," @").concat(t.user_info.username||t.user_info.user_id)},domProps:{value:r.replyTxt},on:{keyup:function(o){return r.onkeyRep(t,e,!0,o)},input:function(t){t.target.composing||(r.replyTxt=t.target.value)}}}),r._v(" "),l("div",{directives:[{name:"loading",rawName:"v-loading",value:r.pubLoading,expression:"pubLoading"}]},[l("img",{attrs:{src:o(396),alt:""},on:{click:function(o){return r.replyComm(t,e,!0)}}})])]):r._e()])])})),r._v(" "),t.replies_count>3&&t.children.length<t.replies_count?l("div",{staticClass:"morRep",on:{click:function(o){return r.onRepMor(t,e)}}},[r._v("\n              "+r._s(r.$t("loadReplies"))+"\n            ")]):r._e()],2)])})),0)])],2),r._v(" "),"bottom"===r.inputPosition?l("div",{staticClass:"commInput",style:r.infos.style||{}},[l("div",{staticClass:"commFunBar"},[l("div",{staticClass:"funBarBnt"},[l("div",{directives:[{name:"show",rawName:"v-show",value:"model"!==r.typeKey,expression:"typeKey !== 'model'"}],staticClass:"commFunNum",on:{click:function(t){return r.setLike(r.infos,r.typeKey)}}},[l("i",{staticClass:"iconfont",class:r.setlikeData(r.infos)}),r._v(" "),l("span",[r._v(r._s(r.formatNumberForeign(4!=r.type?null===(t=r.infos.stat)||void 0===t?void 0:t.num_of_like:r.infos.num_of_praise)))])]),r._v(" "),l("div",{on:{click:function(t){return t.preventDefault(),r.handleMark.apply(null,arguments)}}},[l("client-only",[l("CollectPopover",{ref:"collectPopover",attrs:{triggerMode:"click",hideBtn:!0,type:r.typeKey,folder:r.infos,dotReportInfo:r.dotReportInfo}},[l("div",{staticClass:"commFunNum"},[l("i",{staticClass:"iconfont",class:r.setCollectData(r.infos)}),r._v(" "),l("span",[r._v(r._s(r.formatNumberForeign(null===(e=r.infos.stat)||void 0===e?void 0:e.num_of_collection)))])])])],1)],1),r._v(" "),l("div",{staticClass:"commFunNum"},[l("i",{staticClass:"iconfont icon-work-show"}),r._v(" "),l("span",[r._v(r._s(r.formatNumberForeign(null===(n=r.infos.stat)||void 0===n?void 0:n.num_of_view)))])]),r._v(" "),l("div",{staticClass:"commFunNum",on:{click:r.openPub}},[l("i",{staticClass:"el-icon-chat-dot-round"}),r._v(" "),l("span",[r._v(r._s(r.commTotal))])])]),r._v(" "),l("div",{staticClass:"commFunBarRight flex"},[r._t("cmtMore")],2)]),r._v(" "),l("div",{staticClass:"inputBox"},[l("input",{directives:[{name:"model",rawName:"v-model",value:r.pubTxt,expression:"pubTxt"}],ref:"pubInput",attrs:{type:"text",maxlength:"300",placeholder:r.$t("saySom")},domProps:{value:r.pubTxt},on:{focus:function(t){r.isReplyId=""},keyup:r.onkeyPub,input:function(t){t.target.composing||(r.pubTxt=t.target.value)}}}),r._v(" "),l("div",{directives:[{name:"loading",rawName:"v-loading",value:r.pubLoading,expression:"pubLoading"}]},[l("img",{attrs:{src:o(396),alt:""},on:{click:r.onPub}})])])]):r._e(),r._v(" "),l("div",{attrs:{id:"reverseLoadDiv"}})])}),[],!1,null,"09dcbb9e",null);e.a=component.exports},139:function(t,e,o){"use strict";var n={name:"NoData"},r=(o(2484),o(0)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"no-data"},[e("img",{attrs:{src:"https://image.cdn2.seaart.ai/static/upload/20240625/6fec9192-794d-4160-8e17-10c11c7abc49.webp",alt:"empty"}}),t._v(" "),e("div",{staticClass:"desc"},[t._v(t._s(t.$t("OverviewNoData")))])])}),[],!1,null,"72aa6710",null);e.a=component.exports},1476:function(t,e,o){t.exports={}},1493:function(t,e,o){t.exports={}},152:function(t,e,o){"use strict";o(16),o(14),o(9),o(11),o(12),o(8);var n=o(2),r=(o(7),o(10),o(19),o(28),o(4),o(18),o(6),o(21)),l=o(5),c=o(35),d=o.n(c),h=o(1),f=o(33),v=o(214),m=o(86),_=o(68);function y(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function w(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?y(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var C={name:"SaveTo",mixins:[f.a],props:{showArrowIcon:{type:Boolean,default:!0},popperClass:{type:String,default:"folderList save-to-popover"},width:{type:Number,default:309},disabled:{type:Boolean,default:!1},placement:{type:String,default:"bottom-start"},visibleArrow:{type:Boolean,default:!1},title:{type:String,default:""},trigger:{type:String,default:"click"},category:{type:Boolean,default:!0},type:{type:String,default:"artwork"},checkList:{type:Object,default:function(){return{ids:[],collectIds:[]}}},message:{type:Object,default:function(){}},operateNumber:{type:Number,default:1},isBatchSave:{type:Boolean,default:!1},batchSaveParams:{type:Array,default:function(){return[]}},allowCreateCollect:{type:Boolean,default:!0},isColorBtn:{type:Boolean,default:!1}},components:{CollectionCreate:v.a},data:function(){return{replaceImageType:l.x,dialogVisible:!1,isLoding:!1,keyword:"",onloading:!1,folderlist:[],createShow:!1}},computed:w(w({},Object(h.e)("user",["userInfo"])),{},{filteredList:function(){var t=this;return this.folderlist.filter((function(e){return e.name.includes(t.keyword)&&"all"!=e.id&&"default"!=e.id&&e.name!==t.$route.query.name}))},getBannerUrl:function(){var t=this.message.img_uris,e=(void 0===t?[]:t)[this.operateNumber-1].url;return(void 0===e?"":e)||""}}),watch:{dialogVisible:{handler:function(t){this.keyword="",t?(this.onloading=!0,this.getCollectionList()):this.folderlist=[]}}},methods:{openModal:function(){this.dialogVisible=!0},handleClose:function(){this.dialogVisible=!1},doShow:function(){try{this.$refs.popover.doShow()}catch(t){}},handleClickCreate:function(){var t;this.createShow=!0,null!==(t=this.batchSaveParams)&&void 0!==t&&t.length&&this.isColorBtn&&this.$logEvent("log_actions",{operation:"click_create_folder",behavior_info:"on_new_create_flow_page"})},getCollectionList:function(){var t=this;Object(r.B)({type:1,category:2}).then((function(e){t.onloading=!1;var o=d()(e.data.items);o.forEach((function(element){element.imgList=[];var e=element.artwork_items?element.artwork_items:null;if(e){var o={url:1==e.status&&(2==e.primary||e.account_no==t.userInfo.id)&&e.banner&&e.banner.url?e.banner.url:null,nsfw:e.nsfw,id:e.id};element.imgList.push(o)}})),t.folderlist=o}))},moveCollect:function(t){var e=this;if(this.isBatchSave)this.batchMoveCollect(t);else{this.isLoding=!0;var o=this.message,n=o.id,r=void 0===n?"":n,l=o.img_uris,c=(void 0===l?[]:l)[this.operateNumber-1].index,d=void 0===c?"":c;Object(m.a)({folder_no:(null==t?void 0:t.id)||"default",id:r,index:d}).then((function(){e.$emit("saveSuccess"),["",null,void 0].includes(t.name)?e.$message.success(e.$t("SaveSuccess")):e.$message.success(e.$t("collectCreate5",{name:null==t?void 0:t.name}))})).finally((function(){e.isLoding=!1}))}},batchMoveCollect:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isLoding=!0;var o={};o.items=(this.batchSaveParams||[]).map((function(t){return{folder_no:(null==e?void 0:e.id)||"default",id:null==t?void 0:t.id,index:null==t?void 0:t.index}})),Object(_.c)(o).then((function(){t.$emit("saveSuccess"),["",null,void 0].includes(e.name)?t.$message.success(t.$t("SaveSuccess")):t.$message.success(t.$t("collectCreate5",{name:null==e?void 0:e.name}))})).finally((function(){t.isLoding=!1}))},newCreate:function(t){this.dialogVisible=!1,this.moveCollect(t),this.$emit("newCreate")}}},k=C,O=(o(2341),o(0)),component=Object(O.a)(k,(function(){var t=this,e=t._self._c;return e("el-popover",{ref:"popover",attrs:{"popper-class":"".concat(t.popperClass," ").concat(t.createShow?"display_none":""),width:t.width,disabled:t.disabled,placement:t.placement,"visible-arrow":t.visibleArrow,title:t.title,trigger:t.trigger},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[e("div",{staticClass:"cltpop-cent"},[e("div",{staticStyle:{padding:"0 10px"}},[e("div",{staticClass:"search"},[e("i",{staticClass:"iconfont icon-folder-search"}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:t.$t("Search")},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),t._v(" "),t.onloading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.onloading,expression:"onloading"}],staticClass:"loadbox"}):t._e(),t._v(" "),e("div",{staticClass:"list"},[e("div",{staticClass:"popTitle"},[t._v(t._s(t.$t("collectCreate1")))]),t._v(" "),e("div",{staticClass:"itembox",on:{click:function(e){return t.moveCollect()}}},[e("div",{staticClass:"itemboxinfo"},[e("div",{staticClass:"itemboxinfoleft"},[e("i",{staticClass:"iconfont icon-deff-mycollect"})]),t._v(" "),e("span",[t._v(t._s(t.$t("DefaultFolder")))])]),t._v(" "),e("el-button",{attrs:{loading:t.isLoding}},[t._v(t._s(t.$t("Save")))])],1),t._v(" "),e("div",{staticClass:"popTitle"},[t._v(t._s(t.$t("collectCreate3")))]),t._v(" "),t._l(t.filteredList,(function(o,n){return e("div",{key:n,staticClass:"itembox",on:{click:function(e){return t.moveCollect(o)}}},[e("div",{staticClass:"itemboxinfo"},[e("div",{staticClass:"itemboxinfoleft"},[o.imgList&&o.imgList[0]&&o.imgList[0].url?e("img",{attrs:{decoding:"async",loading:"lazy",src:t.replaceImageType(o.imgList[0].url,"high")}}):e("i",{staticClass:"iconfont icon-deff-collect"})]),t._v(" "),e("span",[t._v(t._s(o.name))])]),t._v(" "),e("el-button",{attrs:{loading:t.isLoding}},[t._v(t._s(t.$t("Save")))])],1)}))],2)]),t._v(" "),t.allowCreateCollect?e("div",{staticClass:"create"},[e("div",{staticClass:"itembox",on:{click:t.handleClickCreate}},[e("div",{staticClass:"itemboxinfo"},[e("div",{staticClass:"itemboxinfoleft"},[e("i",{staticClass:"el-icon-plus"})]),t._v(" "),e("span",[t._v(t._s(t.$t("createPortfolio")))])])])]):t._e()]),t._v(" "),e("div",{staticClass:"save-to-btn",attrs:{slot:"reference"},slot:"reference"},[t._t("default"),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showArrowIcon,expression:"showArrowIcon"}],staticClass:"el-icon-arrow-down",style:{transform:t.dialogVisible?"rotate(180deg)":null}})],2),t._v(" "),t.allowCreateCollect?e("collection-create",{attrs:{category:t.category,width:"718px",checkList:t.checkList,type:t.type,banner:t.getBannerUrl,"from-page":"saveModal",isColorBtn:!0},on:{create:t.newCreate},model:{value:t.createShow,callback:function(e){t.createShow=e},expression:"createShow"}}):t._e()],1)}),[],!1,null,null,null);e.a=component.exports},1531:function(t,e,o){t.exports={}},1539:function(t,e,o){t.exports={}},1548:function(t,e,o){t.exports={}},1549:function(t,e,o){t.exports={}},1602:function(t,e,o){t.exports={}},1603:function(t,e,o){t.exports={}},1604:function(t,e,o){t.exports={}},1605:function(t,e,o){t.exports={}},1606:function(t,e,o){t.exports={}},1607:function(t,e,o){t.exports={}},1608:function(t,e,o){t.exports={}},1609:function(t,e,o){t.exports={}},1610:function(t,e,o){t.exports={}},1611:function(t,e,o){t.exports={}},1612:function(t,e,o){t.exports={}},1613:function(t,e,o){t.exports={}},1614:function(t,e,o){t.exports={}},1615:function(t,e,o){t.exports={}},1616:function(t,e,o){t.exports={}},1617:function(t,e,o){t.exports={}},1618:function(t,e,o){t.exports={}},1619:function(t,e,o){t.exports={}},1620:function(t,e,o){t.exports={}},1621:function(t,e,o){t.exports={}},1622:function(t,e,o){t.exports={}},1644:function(t,e,o){t.exports={}},1789:function(t,e,o){t.exports={}},1790:function(t,e,o){t.exports={}},1791:function(t,e,o){t.exports={}},1792:function(t,e,o){t.exports={}},1793:function(t,e,o){t.exports={}},1794:function(t,e,o){t.exports={}},1795:function(t,e,o){t.exports={}},1796:function(t,e,o){t.exports={}},1797:function(t,e,o){t.exports={}},1798:function(t,e,o){t.exports={}},1799:function(t,e,o){t.exports={}},1814:function(t,e,o){t.exports={}},1815:function(t,e,o){t.exports={}},1829:function(t,e,o){t.exports={}},1830:function(t,e,o){t.exports={}},187:function(t,e,o){"use strict";o(16),o(10),o(14),o(9),o(11),o(12),o(6);var n=o(2),r=(o(7),o(70),o(19),o(28),o(8),o(4),o(23),o(18),o(37),o(1)),l=o(30),c=o(22),d=o(13);function h(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function f(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?h(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var v={props:{meta:{type:Object,require:!0,default:function(){return{}}},sourceFrom:{type:String,default:""},model:{type:String,default:""},modelName:{type:String,default:""},category:{type:[String,Number],default:1},msgId:{type:String,default:""},loraModels:{type:Object,default:function(){}},showCreate:{type:Boolean,default:!0}},data:function(){return{intLoraModel:[],loading:!1}},computed:f(f(f(f({},Object(r.c)("user",["isLoggedIn"])),Object(r.e)("creation",["generateViewShow"])),Object(r.c)("creation",["studioStyle","lab_styles"])),{},{isSdModel:function(){return[5,"5","sdxl"].includes(null==this?void 0:this.category)},isStudioFlux:function(){return this.isStudioModel&&this.model===d.h},isStudioModel:function(){return[7,"7","studio",11].includes(null==this?void 0:this.category)},studioRenderList:function(){var t=this;return(this.lab_styles||[]).map((function(e){var o="labStyle_".concat(e.value.replace(/\s/g,""));return{label:t.$t(o)||e.value,id:e.value}}))},getStudioStyle:function(){var t,e=(null===(t=this.meta)||void 0===t||null===(t=t.lab_base)||void 0===t?void 0:t.style_selections)||[];return(this.studioRenderList||[]).filter((function(t){return e.includes(t.id)})).map((function(t){return t.label})).join("、")||""}}),mounted:function(){this.msgId&&this.getMsgInfo()},methods:{getMsgInfo:function(){var t=this;this.loading=!0;var e=0===Object.keys(this.loraModels).length,o=["",null,void 0].includes(this.modelName),n=![this.loraModels&&this.loraModels[this.msgId]];[e,o,n].some((function(t){return t}))?Object(c.h)({id:this.msgId}).then((function(o){var n,r;if(1e4===o.status.code){t.intLoraModel=(null===(n=o.data.meta)||void 0===n?void 0:n.lora_models)||[];var l=(null==o||null===(r=o.data)||void 0===r?void 0:r.art_model_name)||"",c={};c[t.msgId]=t.intLoraModel,["",null,void 0].includes(t.modelName)&&t.$emit("updateModelName",l),e&&t.$emit("setLoraModel",c)}})).finally((function(){t.loading=!1})):this.loading=!1,this.intLoraModel&&!this.intLoraModel.length&&(this.intLoraModel=this.loraModels[this.msgId]||[])},handleClick:function(){this.$emit("copyGenerationData",{model:this.model,meta:this.meta})},openLora:function(t){window.open("/models/detail/"+t.art_model.id)},handleJumpDetail:function(){if(!["",null,void 0].includes(this.model)){var t={action:"view",obj_no:this.model,obj_type:2,category:"default",batch_id:"",negative_ids:[],view_domain:"details_model"};Object(l.g)({items:[t]}),this.$emit("close"),this.generateViewShow&&this.$EventBus.$emit("closeGenerateModal"),this.$logEvent("log_actions",{operation:"click_model",behavior_info:this.model}),"imageDetail"===this.sourceFrom?window.open("/models/detail/".concat(this.model)):this.$router.push("/models/detail/".concat(this.model))}}}},m=(o(2408),o(0)),component=Object(m.a)(v,(function(){var t,e,o,n,r,l,c,d,h,f,v,m,_=this,y=_._self._c;return y("div",{staticClass:"tooltipWraper"},[y("div",[_._v(_._s(_.$t("Prompt")))]),_._v(" "),y("div",{staticClass:"promptDesc"},[_._v("\n      "+_._s(null===(t=_.meta)||void 0===t?void 0:t.prompt)+"\n    ")]),_._v(" "),_.isStudioModel?_._e():y("div",{staticClass:"negativeTitle"},[_._v("\n      "+_._s([3,"3","midjourney"].includes(_.category)?_.$t("metaExtraParams"):_.$t("NegativePrompts"))+"\n    ")]),_._v(" "),_.isStudioModel?_._e():y("div",{staticClass:"promptDesc"},[[3,"3","midjourney"].includes(_.category)?[_._v(_._s((null===(o=_.meta)||void 0===o?void 0:o.extra_prompt)||""))]:[_._v(_._s(null===(e=_.meta)||void 0===e?void 0:e.negative_prompt))]],2),_._v(" "),[3,"3","midjourney"].includes(_.category)?_._e():[y("div",{directives:[{name:"show",rawName:"v-show",value:!_.isStudioFlux,expression:"!isStudioFlux"}],staticClass:"flex-center flex-wrpaer"},[y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter"},[_._v(_._s(_.$t("CFGScale")))]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s(_.isStudioFlux?"":null===(n=_.meta)||void 0===n?void 0:n.cfg_scale))])]),_._v(" "),y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter",staticStyle:{"text-align":"right","margin-right":"10px"}},[_._v("\n            "+_._s(_.$t("Steps"))+"\n          ")]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s(_.isStudioFlux?"":null===(r=_.meta)||void 0===r?void 0:r.steps))])])]),_._v(" "),y("div",{directives:[{name:"show",rawName:"v-show",value:!_.isStudioFlux,expression:"!isStudioFlux"}],staticClass:"flex-center flex-wrpaer"},[y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter"},[_._v(_._s(_.$t("Sampler")))]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s(_.isStudioFlux?"":null===(l=_.meta)||void 0===l?void 0:l.sampler_name))])]),_._v(" "),y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter",staticStyle:{"text-align":"right","margin-right":"10px"}},[_._v("\n            "+_._s(_.$t("Seed"))+"\n          ")]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s(null===(c=_.meta)||void 0===c?void 0:c.seed))])])]),_._v(" "),_.isStudioModel?_._e():y("div",{staticClass:"flex-center flex-wrpaer"},[y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter"},[_._v(_._s(_.$t("clipSkip")))]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s((null===(d=_.meta)||void 0===d?void 0:d.clip_skip)||""))])]),_._v(" "),y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter"},[_._v(_._s(_.$t("imageDimensions")))]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s("".concat(_.meta.width," X ").concat(_.meta.height)))])])]),_._v(" "),!_.isStudioModel&&null!==(h=_.meta)&&void 0!==h&&h.denoising_strength?y("div",{staticClass:"flex-center flex-wrpaer"},[y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter"},[_._v("\n            "+_._s(_.$t("DenoisingStrength"))+"\n          ")]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v("\n            "+_._s((null===(f=_.meta)||void 0===f?void 0:f.denoising_strength)||"")+"\n          ")])])]):_._e(),_._v(" "),_.isStudioModel?y("div",{staticClass:"flex-center flex-wrpaer"},[_.isStudioFlux?y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter"},[_._v("\n            "+_._s(_.$t("Seed"))+"\n          ")]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s(null===(v=_.meta)||void 0===v?void 0:v.seed))])]):y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter"},[_._v(_._s(_.$t("studio20")))]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s(_.isStudioFlux?"":(null===(m=_.meta)||void 0===m||null===(m=m.lab_base)||void 0===m?void 0:m.scheduler)||""))])]),_._v(" "),y("div",{staticClass:"flex-center"},[y("div",{staticClass:"parameter"},[_._v(_._s(_.$t("imageDimensions")))]),_._v(" "),y("div",{staticClass:"scaleClass"},[_._v(_._s("".concat(_.meta.width," X ").concat(_.meta.height)))])])]):_._e(),_._v(" "),y("div",{directives:[{name:"show",rawName:"v-show",value:!_.loading,expression:"!loading"}],staticClass:"flex-center",staticStyle:{"margin-top":"14px","justify-content":"flex-start"}},[y("div",{staticClass:"parameter"},[_._v(_._s(_.$t("Model")))]),_._v(" "),y("div",{staticClass:"scale-link-class",on:{click:_.handleJumpDetail}},[_._v("\n          "+_._s(_.modelName||_.model)+"\n        ")])])],_._v(" "),_.intLoraModel.length>0?y("div",{staticClass:"flex-center",staticStyle:{"margin-top":"14px","flex-wrap":"wrap","justify-content":"flex-start","align-items":"self-start"}},[y("div",{staticClass:"parameter"},[_._v("Lora")]),_._v(" "),y("div",{staticClass:"scaleBox"},_._l(_.intLoraModel,(function(t){return y("div",{key:t.id,staticClass:"scale-link-class",on:{click:function(e){return _.openLora(t)}}},[_._v("\n          "+_._s(t.art_model.name)+"\n        ")])})),0)]):_._e(),_._v(" "),_.showCreate?y("div",{staticClass:"copyClass",on:{click:_.handleClick}},[_._v("\n      "+_._s(_.$t("Generate"))+"\n    ")]):_._e()],2)}),[],!1,null,"267776f8",null);e.a=component.exports},1888:function(t,e,o){"use strict";o(10),o(9),o(7),o(11),o(12),o(8),o(4),o(6);var n=o(2),r=(o(16),o(1)),l=o(104),c=o(2964),d=o(557),h=o(558),f=o(31),v={model:{prop:"subChannel",event:"onChange"},props:{subChannel:{type:Array,default:function(){return[]}}},data:function(){return{typeArr:[{key:"Graphics",value:"picture"},{key:"Article",value:"article"}]}},computed:{actVal:function(){var t=Object(f.a)(this.subChannel,1)[0];return void 0===t?"":t}},methods:{handleFilter:function(t){this.$emit("onChange",[t.value])},filterReset:function(){this.$emit("onChange",[])}}},m=(o(2965),o(0)),_=Object(m.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"post-filter-box"},[e("el-popover",{attrs:{placement:"bottom","popper-class":"waterfull-filter",trigger:"hover"}},[e("div",{staticClass:"filter-content"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("Type")))]),t._v(" "),e("div",{staticClass:"filter"},t._l(t.typeArr,(function(o){return e("div",{key:o.value,staticClass:"item-filter",class:{active:t.actVal==o.value},on:{click:function(e){return t.handleFilter(o)}}},[t.actVal==o.value?e("i",{staticClass:"el-icon-check"}):t._e(),t._v("\n          "+t._s(t.$t(o.key))+"\n        ")])})),0),t._v(" "),e("div",{staticClass:"filter-reset",on:{click:t.filterReset}},[t._v("\n        "+t._s(t.$t("resetSelection"))+"\n      ")])]),t._v(" "),e("div",{staticClass:"filter-box",attrs:{slot:"reference"},slot:"reference"},[e("div",[e("i",{staticClass:"iconfont icon-a-filterIcon"}),t._v(" "),e("span",[t._v(t._s(t.$t("Filter")))])]),t._v(" "),e("i",{staticClass:"el-icon-arrow-down"})])])],1)}),[],!1,null,"0088aebb",null).exports,y=(o(18),o(19),o(43),o(13)),w={data:function(){return{soundAttrSelectAll:[],filterQueryParams:{genders:[],ages:[],languages:[],tones:[]},soundsTypeInfo:y.T}},methods:{getParamsForAttr:function(){var t=this,e={styles:"genders",model_types:"ages",list_b:"languages",list_a:"tones"},o=this.soundsTypeInfo.reduce((function(o,n){var r=n.paramsKey,l=e[r];if(l){var c=n.value.filter((function(e){return t.soundAttrSelectAll.includes(e.value)})).map((function(t){return t.value}));c.length>0&&(o[l]=c)}return o}),{});return this.filterQueryParams=o,this.filterQueryParams},handleFilterChange:function(t){-1!==this.soundAttrSelectAll.indexOf(t)?this.soundAttrSelectAll.splice(this.soundAttrSelectAll.indexOf(t),1):this.soundAttrSelectAll.push(t),this.getParamsForAttr(),this.$emit("onChange",this.filterQueryParams)},handleFilterReset:function(){this.soundAttrSelectAll=[],this.filterQueryParams.tones=[],this.filterQueryParams.languages=[],this.filterQueryParams.genders=[],this.filterQueryParams.ages=[],this.$emit("onChange",this.filterQueryParams)}}},C=(o(2966),Object(m.a)(w,(function(){var t,e,o=this,n=o._self._c;return n("div",[n("el-popover",{attrs:{placement:"bottom","popper-class":"homeFilter",trigger:"hover"}},[n("div",{staticClass:"filterCnt"},[o._l(o.soundsTypeInfo,(function(t,e){return n("div",{key:e},[n("div",{staticClass:"filterTit",staticStyle:{"margin-top":"16px"}},[o._v("\n          "+o._s(o.$t(t.i18Key))+"\n        ")]),o._v(" "),n("div",{staticClass:"filterList"},o._l(t.value,(function(e,r){return n("div",{key:r,staticClass:"filterItem",class:{AfilterItem:o.soundAttrSelectAll.includes(t)},on:{click:function(t){return o.handleFilterChange(e.value)}}},[o.soundAttrSelectAll.includes(e.value)?n("i",{staticClass:"el-icon-check"}):o._e(),o._v(" "),n("span",[o._v(o._s(o.$t(e.i18Key)))])])})),0)])})),o._v(" "),n("div",{staticClass:"filterReset graBorder",on:{click:function(t){return o.handleFilterReset(!1)}}},[o._v("\n        "+o._s(o.$t("resetSelection"))+"\n      ")])],2),o._v(" "),n("el-badge",{staticClass:"item",attrs:{slot:"reference",value:null===(t=o.soundAttrSelectAll)||void 0===t?void 0:t.length,hidden:0==(null===(e=o.soundAttrSelectAll)||void 0===e?void 0:e.length)},slot:"reference"},[n("div",{staticClass:"filter-box"},[n("div",[n("i",{staticClass:"iconfont icon-a-filterIcon"}),o._v(" "),n("span",{staticClass:"ai-audio-filter-label"},[o._v(o._s(o.$t("Filter")))])]),o._v(" "),n("i",{staticClass:"el-icon-arrow-down"})])])],1)],1)}),[],!1,null,"0e77575a",null).exports),k={data:function(){return{modelTypes:y.J,baseModels:y.a,modelTypeSelect:[],baseModelSelect:[]}},computed:{thePage:function(){return this.$route.params.ptype}},methods:{onFilter:function(t,e){var o=this;1==e?this.modelTypeSelect.includes(t)?this.modelTypeSelect.forEach((function(e,n){e==t&&o.modelTypeSelect.splice(n,1)})):this.modelTypeSelect.push(t):this.baseModelSelect.includes(t)?this.baseModelSelect.forEach((function(e,n){e==t&&o.baseModelSelect.splice(n,1)})):this.baseModelSelect.push(t);var n={model_types:this.modelTypeSelect,base_models:this.baseModelSelect};this.$emit("onChange",n)},onFilterReset:function(){this.modelTypeSelect=[],this.baseModelSelect=[];var t={model_types:this.modelTypeSelect,base_models:this.baseModelSelect};this.$emit("onChange",t)}}},O=(o(2967),Object(m.a)(k,(function(){var t,e,o,n,r=this,l=r._self._c;return l("div",[l("el-popover",{attrs:{placement:"bottom","popper-class":"homeFilter",trigger:"hover"}},[l("div",{staticClass:"filterCnt"},["model"===r.thePage?l("div",[l("div",{staticClass:"filterTit"},[r._v("\n          "+r._s(r.$t("ModelType"))+"\n        ")]),r._v(" "),l("div",{staticClass:"filterList"},r._l(r.modelTypes,(function(t,e){return l("div",{key:e,staticClass:"filterItem",class:{AfilterItem:r.modelTypeSelect.includes(t.value)},on:{click:function(e){return r.onFilter(t.value,1)}}},[r.modelTypeSelect.includes(t.value)?l("i",{staticClass:"el-icon-check"}):r._e(),r._v(" "),l("span",[r._v(r._s(t.label))])])})),0)]):r._e(),r._v(" "),l("div",{staticClass:"filterTit",staticStyle:{"margin-top":"16px"}},[r._v("\n        "+r._s(r.$t("BaseModel"))+"\n      ")]),r._v(" "),l("div",{staticClass:"filterList"},r._l(r.baseModels,(function(t,e){return l("div",{key:e,staticClass:"filterItem",class:{AfilterItem:r.baseModelSelect.includes(t)},on:{click:function(e){return r.onFilter(t,2)}}},[r.baseModelSelect.includes(t)?l("i",{staticClass:"el-icon-check"}):r._e(),r._v(" "),l("span",[r._v(r._s(t))])])})),0),r._v(" "),l("div",{staticClass:"filterReset graBorder",on:{click:r.onFilterReset}},[r._v("\n        "+r._s(r.$t("resetSelection"))+"\n      ")])]),r._v(" "),l("el-badge",{staticClass:"item",attrs:{slot:"reference",value:(null===(t=r.modelTypeSelect)||void 0===t?void 0:t.length)+(null===(e=r.baseModelSelect)||void 0===e?void 0:e.length),hidden:(null===(o=r.modelTypeSelect)||void 0===o?void 0:o.length)+(null===(n=r.baseModelSelect)||void 0===n?void 0:n.length)==0},slot:"reference"},[l("div",{staticClass:"filterBox"},[l("div",[l("i",{staticClass:"iconfont icon-a-filterIcon"}),r._v(" "),l("span",[r._v(r._s(r.$t("Filter")))])]),r._v(" "),l("i",{staticClass:"el-icon-arrow-down"})])])],1)],1)}),[],!1,null,"e8fd3a12",null).exports),x=o(129),P={data:function(){return{fliterLoading:!1,nodeList:[],intNodeList:[],queryParam:{nodes_type:[],run_available:0}}},mounted:function(){this.getConfit()},methods:{getConfit:function(){var t=this;this.fliterLoading||(this.fliterLoading=!0,Object(x.b)().then((function(e){1e4!==!e.status.code&&(t.nodeList=e.data.nodes,t.intNodeList=e.data.nodes)})).finally((function(){t.fliterLoading=!1})))},remoteMethod:function(t){var e=this;t?(this.fliterLoading=!0,Object(x.e)({keyword:t}).then((function(t){1e4!==!t.status.code&&(e.nodeList=t.data.nodes)})).finally((function(){e.fliterLoading=!1}))):this.nodeList=this.intNodeList},changeRun:function(){this.$emit("onChange",this.queryParam)},nodeListChange:function(t){this.$emit("onChange",this.queryParam)},onWorkfolwFilterReset:function(){this.queryParam.nodes_type=[],this.queryParam.run_available=0,this.$emit("onChange",this.queryParam)}}},j=(o(2968),Object(m.a)(P,(function(){var t=this,e=t._self._c;return e("div",[e("el-popover",{attrs:{placement:"bottom","popper-class":"comfyFilter",trigger:"hover"}},[e("div",{staticClass:"filterCnt"},[e("el-checkbox",{attrs:{"false-label":0,"true-label":1},on:{change:t.changeRun},model:{value:t.queryParam.run_available,callback:function(e){t.$set(t.queryParam,"run_available",e)},expression:"queryParam.run_available"}},[t._v(t._s(t.$t("comfyFilter1")))]),t._v(" "),e("div",{staticClass:"filterTit"},[t._v(t._s(t.$t("comfyFilter3")))]),t._v(" "),e("el-select",{staticClass:"filterSelect",attrs:{"popper-class":"custom-select comfyFilter",filterable:"",remote:"",multiple:"",placeholder:t.$t("Pls_select"),"popper-append-to-body":!1,"remote-method":t.remoteMethod,loading:t.fliterLoading},on:{change:t.nodeListChange},model:{value:t.queryParam.nodes_type,callback:function(e){t.$set(t.queryParam,"nodes_type",e)},expression:"queryParam.nodes_type"}},t._l(t.nodeList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1),t._v(" "),e("div",{staticClass:"filterReset graBorder",on:{click:t.onWorkfolwFilterReset}},[t._v("\n        "+t._s(t.$t("resetSelection"))+"\n      ")])],1),t._v(" "),e("div",{staticClass:"filterBox",attrs:{slot:"reference"},slot:"reference"},[e("div",[e("i",{staticClass:"iconfont icon-a-filterIcon"}),t._v(" "),e("span",[t._v(t._s(t.$t("Filter")))])]),t._v(" "),e("i",{staticClass:"el-icon-arrow-down"})])])],1)}),[],!1,null,"13597200",null).exports);function $(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function L(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?$(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):$(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var I={inject:["homePageApp"],components:{PreferenceSelect:d.a,TimerSelect:h.a,PostFilter:_,AiAudioFilter:C,ModelFilter:O,WorkflowFilter:j},data:function(){return{pageObj:{page:1,page_size:35,offset:0},formData:{timeType:"All",order_by:"new",order_by_time:"",time_from:void 0,time_to:void 0,sub_channel:[],tones:[],languages:[],genders:[],ages:[],model_types:[],base_models:[],run_available:0,nodes_type:[],source_types:[]}}},computed:L(L({},Object(r.c)("user",["isLoggedIn","userInfo"])),{},{thePageKey:function(){var t=this.homePageApp.homeData.content_type,e=void 0===t?"squareMixRecommend":t;return l.k[e]||"/"},showTimerSelect:function(){return["hot"].includes(this.formData.order_by)},showPostFilter:function(){var t=["hot","new","follows"].includes(this.formData.order_by),e=["post"].includes(this.thePageKey);return t&&e},showModelFilter:function(){var t=["hot","new","follows"].includes(this.formData.order_by),e=["model","lora_train"].includes(this.thePageKey);return t&&e},citemObj:function(){var t=this.homePageApp.homeData.content_type,e=void 0===t?"squareMixRecommend":t;return c.a[e]},preferenceList:function(){return[{name:"Recommend",id:"recommend",icon:"homeIcon1",show:["/","cyberPub","post","model","lora_train","design_template"].includes(this.thePageKey)},{name:"Follow",id:"follows",icon:"homeIcon2",show:["/","post","model","lora_train","design_template"].includes(this.thePageKey)&&this.isLoggedIn},{name:"Hot",id:"hot",icon:"hot",show:!0},{name:"New",id:"new",icon:"new1",show:!0},{name:"recentlyUsed",id:"recently",icon:"oldest",show:["cyberPub"].includes(this.thePageKey)}]}}),mounted:function(){this.setFormDataVal()},methods:{setFormDataVal:function(){var t=(this.$route.params||{}).ptype,e=void 0===t?"/":t,o=this.isLoggedIn?l.f[e]:l.g[e],n=o.timeType,r=o.order_by,c=o.time_from,d=o.time_to,h="All"===n?r:"".concat(n,"_").concat(r);this.formData.timeType=n,this.formData.order_by=r,this.formData.order_by_time=h,this.formData.time_from=c,this.formData.time_to=d,"lora_train"===e&&(this.formData.model_types=["LORA"],this.formData.run_available=1)},setOrderByTime:function(){var t=this.formData,e=t.order_by,o=t.timeType;if(["hot"].includes(e)){var n="All"===o?"":"".concat(o,"_");this.formData.order_by_time="".concat(n).concat(e)}else this.formData.order_by_time=""},changeTime:function(data){var t=data.startTime,e=data.endTime;this.formData.time_from=t,this.formData.time_to=e,this.setOrderByTime(),this.screenConfigData()},changePreference:function(t){var e={home:1,post:4,model:2,lora_train:2,cyberPub:9,design_template:11},o=this.$route.params.ptype,n=void 0===o?"home":o;["follows","recently"].includes(t)?this.formData.source_types=e[n]?[e[n]]:[]:this.formData.source_types=[],this.setOrderByTime(),this.screenConfigData()},changPost:function(){this.screenConfigData()},changeAudio:function(data){this.formData=L(L({},this.formData),data),this.screenConfigData()},changeModel:function(data){this.formData=L(L({},this.formData),data),this.screenConfigData()},changeWorkFlow:function(data){this.formData=L(L({},this.formData),data),this.screenConfigData()},createdCharater:function(){this.$router.push(this.localePath("/cyberPubPage/new-character")),this.$logEvent("log_actions",{operation:"click_train_tab",behavior_info:"on_style_training_page"})},goTrainingPage:function(){this.$router.push(this.localePath("/models"))},screenConfigData:function(){this.$emit("onScreen",{formData:this.formData,citemObj:this.citemObj})}}},S=(o(2969),Object(m.a)(I,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"form-data-box flex_m"},[e("div",{staticClass:"left"},[e("p",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("square"))+"\n      ")])]),t._v(" "),e("div",{staticClass:"right flex_m"},[e("div",{staticClass:"screen-box flex_m"},["cyberPub"==t.thePageKey?e("el-button",{staticClass:"created-btn flex_c_m",attrs:{type:"primary"},on:{click:t.createdCharater}},[e("i",{staticClass:"iconfont icon-icon_xinjianshuziren"}),t._v("\n          "+t._s(t.$t("tavern45"))+"\n        ")]):t._e(),t._v(" "),"lora_train"==t.thePageKey?e("el-button",{staticClass:"created-btn flex_c_m",attrs:{type:"primary"},on:{click:t.goTrainingPage}},[e("i",{staticClass:"iconfont icon-icon_xinjianshuziren"}),t._v("\n          "+t._s(t.$t("Training"))+"\n        ")]):t._e(),t._v(" "),["post"].includes(t.thePageKey)?e("PostFilter",{staticClass:"item",on:{onChange:t.changPost},model:{value:t.formData.sub_channel,callback:function(e){t.$set(t.formData,"sub_channel",e)},expression:"formData.sub_channel"}}):t._e(),t._v(" "),["ai-audio"].includes(t.thePageKey)?e("AiAudioFilter",{staticClass:"item",on:{onChange:t.changeAudio}}):t._e(),t._v(" "),t.showModelFilter?e("ModelFilter",{staticClass:"item",on:{onChange:t.changeModel}}):t._e(),t._v(" "),["workflowPage"].includes(t.thePageKey)?e("WorkflowFilter",{staticClass:"item",on:{onChange:t.changeWorkFlow}}):t._e(),t._v(" "),t.showTimerSelect?e("TimerSelect",{staticClass:"item",on:{onChangeItem:t.changeTime},model:{value:t.formData.timeType,callback:function(e){t.$set(t.formData,"timeType",e)},expression:"formData.timeType"}}):t._e(),t._v(" "),e("PreferenceSelect",{staticClass:"item",attrs:{list:t.preferenceList},on:{onChange:t.changePreference},model:{value:t.formData.order_by,callback:function(e){t.$set(t.formData,"order_by",e)},expression:"formData.order_by"}})],1)])])])}),[],!1,null,"6a62891e",null));e.a=S.exports},189:function(t,e,o){"use strict";var n={props:{info:{type:String,default:""},effect:{type:String,default:"light"},icon:{type:String,default:"el-icon-warning"}}},r=(o(2620),o(0)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("el-tooltip",{attrs:{"popper-class":"custom-tips-popper",effect:t.effect,content:t.$t(t.info),placement:"top-start"}},[e("span",{staticClass:"custom-tips",class:t.icon})])}),[],!1,null,"56857e62",null);e.a=component.exports},1891:function(t,e,o){"use strict";o(113),o(221),o(28);var n=o(64),r=o(190),l=(o(16),o(10),o(355)),c=o(560),d=o(228),h={inject:["homePageApp"],provide:function(){return{CardApp:this}},components:{ImageItem:l.a,LeftUpMark:c.a},props:{item:{type:Object,default:function(){return{}}},logData:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{isWorkflow:function(){var t=this.item,e=t.obj_type,o=t.sub_obj_type,n=["1",1,"2",2].includes(o);return 13===e&&n},isAiApp:function(){var t=this.item,e=t.obj_type,o=t.sub_obj_type,n=[3,"3",4,"4"].includes(o);return 13===e&&n},isModel:function(){var t=this.item,e=t.obj_type,o=t.channel,n=![1,"1"].includes(o);return 2===e&&n},isLoraTrain:function(){var t=this.item,e=t.obj_type,o=t.channel,n=[1,"1"].includes(o);return 2===e&&n},cardLink:function(){var t=this.item,e=t.obj_type,o=t.id,n=t.sub_channel,r={1:"/explore/detail/".concat(o),2:"/models/detail/".concat(o),5:"/video/".concat(o),9:"/aiChat/".concat(o),14:"/workFlowAppDetail/".concat(o),15:"/ai-video/detail/".concat(o),11:"/editBoard/detail/".concat(o),16:"/ai-audio/detail/".concat(o),60:"/ai-tools/".concat(o)};return this.isAiApp?this.localePath("/workFlowAppDetail/".concat(o)):this.isWorkflow?this.localePath("/workFlowDetail/".concat(o)):4===e&&"article"===n?this.localePath("/articleDetail/".concat(o)):4===e&&"picture"===n?this.localePath("/artWorkDetail/".concat(o)):this.localePath(r[e]||"/")}},methods:{goCardDetail:function(){var t,e,o,n=this.homePageApp.homeData,r=this.logData,l=null==this||null===(t=this.homePageApp)||void 0===t||null===(t=t.homeConfigAllData)||void 0===t?void 0:t.items,c=Object(d.a)({list:l,id:n.id}),h="home,".concat(n.id,",").concat(n.title,",").concat(c,",").concat(r.id,",").concat(r.title,",").concat(null!==(e=r.index)&&void 0!==e?e:"");this.$logEvent("log_actions",{operation:"click",behavior_info:this.item.id,obj_type:this.item.obj_type,position:h,behavior_info_sub:(null===(o=this.item)||void 0===o?void 0:o.pt)||""}),this.$router.push(this.cardLink)}}},f=(o(2953),o(0)),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"banner-item"},[e("a",{staticClass:"wh100 banalink",attrs:{href:t.cardLink,target:"_blank"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.goCardDetail.apply(null,arguments)}}},[e("div",{staticClass:"img-cover wh100"},[e("ImageItem",{attrs:{item:t.item}})],1),t._v(" "),e("div",{staticClass:"left-marker flex_c_m"},[e("LeftUpMark",{attrs:{item:t.item}})],1),t._v(" "),e("div",{staticClass:"footer-box"},[e("p",{staticClass:"title line-one"},[t._v("\n        "+t._s(t.item.title)+"\n      ")]),t._v(" "),e("div",{staticClass:"dosc-info flex"},[e("div",{staticClass:"text line-two"},[t._v("\n          "+t._s(t.item.sub_title)+"\n        ")]),t._v(" "),e("div",{staticClass:"btn"},[t._v(t._s(t.$t("attempt")))])])])])])}),[],!1,null,"08a96d70",null),v=component.exports,m={components:{SwipeableList:n.a,HyPlateTitle:r.a,BannerCard:v},props:{temp:{type:Object,default:function(){return{}}},indexes:{type:Number,default:1}},computed:{cardRunderList:function(){var t=this.temp||{},e=t.elList,o=void 0===e?[]:e,n=t.elem_num;return!o.length?Array(n).fill({}):o}},data:function(){return{}}},_=Object(f.a)(m,(function(){var t=this,e=t._self._c;return e("div",[e("HyPlateTitle",{attrs:{item:t.temp,leftName:t.temp.title,link:t.temp.link,indexes:t.indexes}}),t._v(" "),e("div",{style:{minHeight:"265px"}},[e("swipeable-list",t._b({attrs:{listGap:"16px",top:"'0px'"}},"swipeable-list",t.$attrs,!1),t._l(t.cardRunderList,(function(o,n){return e("BannerCard",{key:(o.id||"-")+n,attrs:{item:o,logData:{id:t.temp.id,title:t.temp.title,index:n}}})})),1)],1)],1)}),[],!1,null,"3a7b2b91",null);e.a=_.exports},1892:function(t,e,o){"use strict";o(113),o(221),o(28);var n=o(64),r=o(190),l=(o(16),o(10),o(355)),c=o(228),d={inject:["homePageApp"],provide:function(){return{CardApp:this}},components:{ImageItem:l.a},props:{item:{type:Object,default:function(){return{}}},logData:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{isWorkflow:function(){var t=this.item,e=t.obj_type,o=t.sub_obj_type,n=["1",1,"2",2].includes(o);return 13===e&&n},isAiApp:function(){var t=this.item,e=t.obj_type,o=t.sub_obj_type,n=[3,"3",4,"4"].includes(o);return 13===e&&n},isModel:function(){var t=this.item,e=t.obj_type,o=t.channel,n=![1,"1"].includes(o);return 2===e&&n},isLoraTrain:function(){var t=this.item,e=t.obj_type,o=t.channel,n=[1,"1"].includes(o);return 2===e&&n},cardLink:function(){var t=this.item,e=t.obj_type,o=t.id,n=t.sub_channel,r={1:"/explore/detail/".concat(o),2:"/models/detail/".concat(o),5:"/video/".concat(o),9:"/aiChat/".concat(o),14:"/workFlowAppDetail/".concat(o),15:"/ai-video/detail/".concat(o),11:"/editBoard/detail/".concat(o),16:"/ai-audio/detail/".concat(o),60:"/ai-tools/".concat(o)};return this.isAiApp?this.localePath("/workFlowAppDetail/".concat(o)):this.isWorkflow?this.localePath("/workFlowDetail/".concat(o)):4===e&&"article"===n?this.localePath("/articleDetail/".concat(o)):4===e&&"picture"===n?this.localePath("/artWorkDetail/".concat(o)):this.localePath(r[e]||"/")}},methods:{goCardDetail:function(){var t,e,o,n=this.homePageApp.homeData,r=this.logData,l=null==this||null===(t=this.homePageApp)||void 0===t||null===(t=t.homeConfigAllData)||void 0===t?void 0:t.items,d=Object(c.a)({list:l,id:n.id}),h="home,".concat(n.id,",").concat(n.title,",").concat(d,",").concat(r.id,",").concat(r.title,",").concat(null!==(e=r.index)&&void 0!==e?e:"");this.$logEvent("log_actions",{operation:"click",behavior_info:this.item.id,obj_type:this.item.obj_type,position:h,behavior_info_sub:(null===(o=this.item)||void 0===o?void 0:o.pt)||""}),this.$router.push(this.cardLink)}}},h=(o(2955),o(0)),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"block-box"},[e("a",{staticClass:"block-item banalink",attrs:{href:t.cardLink,target:"_blank"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.goCardDetail.apply(null,arguments)}}},[e("div",{staticClass:"content-box"},[e("ImageItem",{attrs:{item:t.item}})],1),t._v(" "),e("p",{staticClass:"text-info line-one"},[t._v(t._s(t.item.title))])])])}),[],!1,null,"3ac40464",null),f=component.exports,v={components:{SwipeableList:n.a,HyPlateTitle:r.a,BlockCard:f},props:{temp:{type:Object,default:function(){return{}}},indexes:{type:Number,default:1}},computed:{cardRunderList:function(){var t=this.temp||{},e=t.elList,o=void 0===e?[]:e,n=t.elem_num;return!o.length?Array(n).fill({}):o}},data:function(){return{}}},m=Object(h.a)(v,(function(){var t=this,e=t._self._c;return e("div",[e("HyPlateTitle",{attrs:{item:t.temp,leftName:t.temp.title,link:t.temp.link,indexes:t.indexes}}),t._v(" "),e("div",{style:{minHeight:"200px"}},[e("swipeable-list",t._b({attrs:{listGap:"16px",top:"'0px'"}},"swipeable-list",t.$attrs,!1),t._l(t.cardRunderList,(function(o,n){return e("BlockCard",{key:(o.id||"-")+n,attrs:{item:o,logData:{id:t.temp.id,title:t.temp.title,index:n}}})})),1)],1)],1)}),[],!1,null,"04c86283",null);e.a=m.exports},1893:function(t,e,o){"use strict";o(10),o(14),o(9),o(7),o(11),o(12),o(8),o(6);var n=o(2),r=(o(4),o(50),o(48),o(29),o(142),o(143),o(112),o(5)),l=o(33),c=(o(28),o(1));function d(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function h(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?d(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var f={props:{size:{type:Number,default:24},user:{type:Object,default:function(){return{id:"-",name:"",head:""}}},hideName:{type:Boolean,default:!1},blank:{type:Boolean,default:!0}},data:function(){return{}},computed:h(h({},Object(c.e)("user",["userInfo"])),{},{firstName:function(){var t=this.user||{},e=t.name,o=t.id;return(e?e[0]:o[0]).toUpperCase()},isOwner:function(){return this.userInfo.id===this.user.id},avatarStyle:function(){var t,e=this.size+"px",head=null===(t=this.user)||void 0===t?void 0:t.head;return{width:e,height:e,lineHeight:e,fontSize:this.size/2+"px",backgroundImage:"url("+head+")"}}}),methods:{toPage:function(){var t=this.user.id,path="/user/"+encodeURIComponent(t);if(this.isOwner&&(path="/personal"),this.blank){var e=this.$router.resolve({path:path});window.open(e.href,"_blank")}else this.$router.push(path)}}},v=(o(2528),o(0)),component=Object(v.a)(f,(function(){var t,e=this,o=e._self._c;return o("div",{staticClass:"user-head",style:{lineHeight:e.size+"px"}},[o("div",{staticClass:"user-avatar",style:e.avatarStyle,on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.toPage.apply(null,arguments)}}},[e._v("\n    "+e._s(null!==(t=e.user)&&void 0!==t&&t.head?"":e.firstName)+"\n  ")]),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.hideName,expression:"!hideName"}],staticClass:"user-name",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.toPage.apply(null,arguments)}}},[e._v(e._s(e.user.name||e.user.id))])])}),[],!1,null,"ccc0093a",null),m=component.exports,_=o(39),y=o(106);function w(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}var C={mixins:[l.a],props:{video:{type:Object,default:function(){return{}}},type:{type:String,default:"home"},skip:{type:Boolean,default:!1}},filters:{timeFormat:r.F,formatNumberForeign:r.i,timeRecently:_.f},components:{UserAvatar:m,AdminTag:y.a},data:function(){return{replaceImageType:r.x,downLoading:!1,videoElm:null,playTimer:null,isPlay:!1}},watch:{"video.video.url":function(t){var e=this;this.$nextTick((function(){e.videoElm=document.querySelector("#videoPlay"+e.video.id)}))}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?w(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):w(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(c.e)("user",["userInfo"])),mounted:function(){this.videoElm=document.querySelector("#videoPlay"+this.video.id)},methods:{ToVideoDetail:function(){this.$logEvent("log_actions",{operation:"click_video",behavior_info:this.video.id}),3===this.video.state&&this.skip&&this.$router.push("/video/"+this.video.id)},handleEvent:function(t){this.$emit("handle",t)},downLoadVideo:function(){var t=this;if(!this.downLoading){var e=this.video,o=e.name,n=e.video.url;this.downLoading=!0,fetch(n).then((function(t){return t.blob()})).then((function(e){t.downLoading=!1;var a=document.createElement("a");document.body.appendChild(a),a.style.display="none";var n=window.URL.createObjectURL(e);a.href=n,a.download=o+".mp4",a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)})).catch((function(e){t.downLoading=!1}))}},pauseVideo:function(){if(!(this.video.state<3)){if(this.isPlay=!1,this.playTimer)return clearTimeout(this.playTimer),void(this.playTimer=null);this.videoElm.pause(),this.videoElm.currentTime=0}},playVideo:function(){var t=this;this.video.state<3||(this.playTimer=setTimeout((function(){t.isPlay=!0,t.videoElm.play(),t.videoElm.playbackRate=3,clearTimeout(t.playTimer),t.playTimer=null}),50))},likeVideo:function(){this.setLike(this.video,"lookbook")},updateTime:function(){this.videoElm.currentTime>=10&&this.videoElm.pause()},toUser:function(t){var path="/user/"+encodeURIComponent(t);this.userInfo.id===t&&(path="/personal");var e=this.$router.resolve({path:path});window.open(e.href,"_blank")},tagChange:function(t){this.$emit("change",t)}}},k=C,O=(o(2529),Object(v.a)(k,(function(){var t,e,o,n,r=this,l=r._self._c;return l("div",{staticClass:"video-item marking-item",on:{click:r.ToVideoDetail}},[l("div",{staticClass:"video-body",on:{mouseenter:r.playVideo,mouseleave:r.pauseVideo}},[r.video.state<3?l("div",{staticClass:"make-loading"},[l("el-progress",{attrs:{percentage:r.video.process,color:"#4784ff"}}),r._v("\n      "+r._s(r.$t("Announcing"))+"\n    ")],1):[l("img",{staticClass:"video-cover",attrs:{src:r.replaceImageType(r.video.cover.url,"low"),alt:""}}),r._v(" "),l("video",{attrs:{src:r.isPlay?null===(t=r.video.video)||void 0===t?void 0:t.url:"",id:"videoPlay"+r.video.id,loop:"",muted:"",poster:r.replaceImageType(r.video.cover.url,"low"),autoplay:""},domProps:{muted:!0},on:{timeupdate:r.updateTime,contextmenu:function(t){return t.preventDefault()}}}),r._v(" "),"person"===r.type?l("div",{staticClass:"video-handle"},[l("i",{staticClass:"iconfont icon-pyDelete",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),r.handleEvent("DELETE")}}}),r._v(" "),l("i",{staticClass:"iconfont icon-pyEdit",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),r.handleEvent("EDIT")}}}),r._v(" "),l("i",{staticClass:"iconfont icon-down",class:{loading:r.downLoading},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),r.downLoadVideo.apply(null,arguments)}}})]):r._e(),r._v(" "),l("span",{staticClass:"duration"},[r._v(r._s(r._f("timeFormat")(null===(e=r.video.video)||void 0===e?void 0:e.duration)))])]],2),r._v(" "),l("div",{staticClass:"video-info"},["explore"===r.type?l("user-avatar",{attrs:{user:r.video.author,size:36,hideName:!0}}):r._e(),r._v(" "),l("div",{staticClass:"video-params"},[l("p",{staticClass:"video-name"},[r._v(r._s(r.video.name))]),r._v(" "),["user","parson"].includes(r.type)?r._e():l("p",{staticClass:"author-name ellipsis",on:{click:function(t){var e;return t.preventDefault(),t.stopPropagation(),r.toUser(null===(e=r.video.author)||void 0===e?void 0:e.id)}}},["home"===r.type?l("user-avatar",{attrs:{user:r.video.author,size:24,hideName:!0}}):r._e(),r._v("\n        "+r._s((null===(o=r.video.author)||void 0===o?void 0:o.name)||(null===(n=r.video.author)||void 0===n?void 0:n.id))+"\n      ")],1),r._v(" "),l("p",{directives:[{name:"show",rawName:"v-show",value:"home"!==r.type,expression:"type !== 'home'"}],staticClass:"play-info"},[r._v("\n        "+r._s(r._f("formatNumberForeign")(r.video.stat.num_of_view))+" "+r._s(r.$t("watchNum"))+" · "+r._s(r._f("timeRecently")(r.video.create_at))+"\n      ")]),r._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:"home"!==r.type,expression:"type !== 'home'"}],staticClass:"like-num",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),r.likeVideo.apply(null,arguments)}}},[l("i",{staticClass:"iconfont",class:r.setlikeData(r.video)}),r._v(r._s(r._f("formatNumberForeign")(r.video.stat.num_of_like))+"\n      ")])])],1),r._v(" "),l("admin-tag",{attrs:{id:r.video.id,type:"5"},on:{change:r.tagChange}})],1)}),[],!1,null,"cbd8592e",null));e.a=O.exports},1895:function(t,e,o){"use strict";var n=o(1874),r={name:"SvgIcon",props:{iconClass:{type:String,required:!0},className:{type:String,default:""}},computed:{isExternal:function(){return Object(n.a)(this.iconClass)},iconName:function(){return"#icon-".concat(this.iconClass)},svgClass:function(){return this.className?"svg-icon "+this.className:"svg-icon"},styleExternalIcon:function(){return{mask:"url(".concat(this.iconClass,") no-repeat 50% 50%"),"-webkit-mask":"url(".concat(this.iconClass,") no-repeat 50% 50%")}}}},l=(o(2258),o(0)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return t.isExternal?e("div",t._g({staticClass:"svg-external-icon svg-icon",style:t.styleExternalIcon},t.$listeners)):e("svg",t._g({class:t.svgClass,attrs:{"aria-hidden":"true"}},t.$listeners),[e("use",{attrs:{href:t.iconName}})])}),[],!1,null,"df60ab1e",null);e.a=component.exports},1897:function(t,e,o){"use strict";var n=o(2),r=o(3),l=(o(20),o(9),o(16),o(7),o(32),o(10),o(19),o(43),o(14),o(11),o(12),o(8),o(4),o(23),o(18),o(37),o(110),o(6),o(29),o(40)),c=o(51),d=o(87),h=o(38),f=o(133),v=o(45),m=o(338),_=o(13);function y(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function w(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?y(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var C="",k={components:{ElImageViewer:f.a,LenovoPanel:m.a},data:function(){var t,e,n=(null===(t=this.$route.params)||void 0===t?void 0:t.type)||"";return{keyIndex:-1,keyword:"",isFocus:!1,showMockBox:!1,showType:(null===(e=_.r.find((function(t){return t.path.includes(n)})))||void 0===e?void 0:e.value)||1,uploading:!1,imageViewerVisible:!1,imgSearchImgUrl:"",UPLOAD:new h.a({type:4}),workOrModel:[{label:"Explore",text:"作品",value:1,path:""},{label:"AIModel",text:"模型",value:2,path:"/model"},{label:"Tags",text:"标签",value:6,path:"/tag"},{label:"User",text:"用户",value:8,path:"/user"},{label:"Post",text:"投稿",value:7,path:"/post"},{label:"WorkFlow",text:"创作流",value:13,path:"/workflow"},{label:"aiapply",text:"快应用",value:14,path:"/swiftapp"},{label:"Canvas",text:"设计模板",value:11,path:"/designtmp"},{label:"digitalHuman",text:"赛博酒吧",value:9,path:"/cyberpub"}],searchNoDataImg:o(398),debounceGetRelatedList:Object(d.a)(this.getRelatedList,500),historyList:[],associateList:[]}},computed:{inStudio:function(){return this.$route.path.indexOf("/studio")>-1},showClear:function(){return this.imgSearchImgUrl||this.keyword},showHistory:function(){return this.isFocus&&!this.keyword&&this.historyList.length>0},showAssociate:function(){return this.isFocus&&this.keyword&&1!==this.showType}},mounted:function(){this.$isChinaSite&&(this.workOrModel=this.workOrModel.filter((function(t){return 9!==t.value}))),this.fillFormData()},methods:{fillFormData:function(){var t=this.$route,e=t.name,o=void 0===e?"":e,n=t.query,r=t.params;o.includes("searchView")||o.includes("searchResult")?(this.keyword=n.url?"":r.keyword.replace(/\-/g," "),this.imgSearchImgUrl=n.url||""):(this.keyword="",this.imgSearchImgUrl="",this.showType=1)},searchLog:function(t){this.$logEvent("log_actions",{operation:"type_search",behavior_info:{1:"work",2:"model",6:"tag",8:"user",7:"post",13:"workFlow",14:"swtftApp",11:"designTemplate",9:"tavern"}[t]||"work"})},goDetailView:function(){var t=this,e=this.keyword,o=this.showType,n=e.trim(),r=this.$route.name;if(this.$nextTick((function(){t.$refs.inputRef.blur()})),this.searchLog(o),r.includes("searchView")||r.includes("searchResult"))this.$emit("onSearch",{keyword:n,url:"",type:o});else if(n){var l,c=n.replace(/\//g,""),d=null===(l=this.workOrModel.find((function(t){return t.value===o})))||void 0===l?void 0:l.path,path="/search".concat(d,"/").concat(c);this.$router.push(this.localePath(path))}},goDetailViewImg:function(t){var e=this.showType,o=this.$route.name;if(this.searchLog(e),o.includes("searchView"))this.$emit("onSearch",{keyword:"",url:t,type:e});else{var path="/search/image?url=".concat(t,"&type=").concat(e);this.$router.push(this.localePath(path))}},inputText:function(t){t?this.debounceGetRelatedList(t):this.getHistory()},onKeydown:function(){var t=this.associateList[this.keyIndex];t?this.handAssoriateItem(t):this.goDetailView()},onKeyWordUp:function(){var t=document.querySelector("#associateListId"),e=this.associateList.length;e&&(this.keyIndex--,this.keyIndex<=0&&(this.keyIndex=0),this.associateList.forEach((function(t){t.active=!1})),this.associateList[this.keyIndex].active=!0,this.keyIndex<e-4&&(t.scrollTop-=150))},onKeyWordDown:function(){var t=document.querySelector("#associateListId"),e=this.associateList.length-1;this.associateList.length&&(this.keyIndex++,this.keyIndex>=e&&(this.keyIndex=e),this.associateList.forEach((function(t){t.active=!1})),this.associateList[this.keyIndex].active=!0,this.keyIndex>4&&(t.scrollTop+=150))},onFocusFn:function(){this.isFocus=!0,this.showMockBox=!0,C=this.keyword,this.keyword?this.debounceGetRelatedList():this.getHistory()},onBlurFn:function(){var t=this;this.isFocus=!1,setTimeout((function(){t.showMockBox=!1}),200)},clearText:function(){var t=this;this.keyword="",this.associateList=[],this.imgSearchImgUrl="",this.$nextTick((function(){t.$refs.inputRef.focus()}))},changeType:function(t){this.showType=t,this.imgSearchImgUrl="",this.goDetailView()},handMaskBox:function(){this.keyword=C,console.log(this.keyword)},beforeUpload:function(t){return!!["image/jpeg","image/png","image/jpg","image/webp"].includes(t.type)||(this.$message.error(this.$t("AllowImageFiles")),!1)},handleUpload:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function o(){var n,r,l,c,d;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.beforeUpload(t.file)&&!e.uploading){o.next=3;break}return o.abrupt("return");case 3:if(!(t.file.size/1024/1024>5)){o.next=14;break}return o.prev=4,o.next=7,Object(v.a)(t.file,5242880);case 7:t.file=o.sent,o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(4),console.error("Compression failed:",o.t0),o.abrupt("return");case 14:n={},r=t.file||{},l=r.size,c=r.name,d=c.substring(c.lastIndexOf(".")+1).toLowerCase(),n.content_type="image/".concat(d),n.file_name=c,n.file_size=l,e.uploading=!0,e.UPLOAD.startUpload(t.file).then((function(t){t?(e.imgSearchImgUrl=t,e.keyword="",e.goDetailViewImg(t)):e.uploading=!1})).catch((function(t){e.uploading=!1}));case 23:case"end":return o.stop()}}),o,null,[[4,10]])})))()},imgLoaded:function(){this.uploading=!1},clearHistory:function(){var t=this;Object(l.clearSearchHistory)({}).then((function(){t.historyList=[]}))},delHistory:function(t,i){var e=this,param={terms:[t]};Object(l.delSearchHistory)(param).then((function(){e.historyList.splice(i,1)}))},useHistory:function(t){this.keyword=t,this.goDetailView()},getHistory:function(){var t=this;Object(l.getSearchHistory)({}).then((function(e){var o,n=(null===(o=e.data)||void 0===o?void 0:o.items)||[];t.historyList=n.map((function(t){return t.term}))}))},handAssoriateItem:function(t){var e=this,o={art_model:{path:"/models/detail/".concat(t.source_id)},art_tag:{path:"/tagInfo/".concat(t.source_id)},account:{path:"/user/".concat(t.source_id)},portfolio:{path:"/artWorkDetail/".concat(t.source_id)},lookbook:{path:"/video/".concat(t.source_id)},comfyui_template:{path:"/workFlowDetail/".concat(t.source_id)},quick_app:{path:"/workFlowAppDetail/".concat(t.source_id)},design_template:{path:"/editBoard/detail/".concat(t.source_id)},character:{path:"/cyberPubPage/".concat(t.source_id)}};"post"===t.source?this.$router.push({path:o[t.type].path}):this.$router.push({path:o[t.source].path}),this.$nextTick((function(){e.$refs.inputRef.blur()}))},findMore:function(){this.goDetailView()},getRelatedList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.keyword;if(""!==e){var o={prefix:e,source_type:{2:2,6:3,8:1,7:6,13:13,14:14,11:11,9:9}[this.showType],except_num:10};1!==this.showType?Object(c.g)(o).then((function(e){var o,n=(null==e||null===(o=e.data)||void 0===o?void 0:o.items)||[];t.associateList=n.map((function(t){return w(w({},t),{},{active:!1})})),t.keyIndex=-1})):this.associateList=[]}else this.associateList=[]}}},O=k,x=(o(2119),o(2120),o(0)),component=Object(x.a)(O,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.uploading,expression:"uploading"}],staticClass:"home-search"},[e("div",{staticClass:"search-textarea flex justify-between items-center",class:{"sp-color":t.inStudio,"act-input":t.isFocus}},[e("el-select",{staticClass:"search-select",class:t.$i18n.locale,attrs:{"popper-class":"custom-select all-search-select",value:t.showType,placeholder:t.$t("Pls_select")},on:{change:t.changeType}},t._l(t.workOrModel,(function(o){return e("el-option",{key:o.value,attrs:{label:t.$t(o.label),value:o.value}})})),1),t._v(" "),t.imgSearchImgUrl?e("div",{staticClass:"img-container"},[e("img",{staticClass:"img",attrs:{src:t.imgSearchImgUrl,alt:"no_data"},on:{load:t.imgLoaded,click:function(){return t.imageViewerVisible=!0}}})]):t._e(),t._v(" "),t.imgSearchImgUrl?t._e():e("el-input",{ref:"inputRef",staticClass:"textarea-left",attrs:{type:"input",resize:"none",maxlength:"2000",placeholder:t.$t("Search")},on:{input:t.inputText,focus:t.onFocusFn,blur:t.onBlurFn},nativeOn:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onKeydown.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.onKeyWordUp.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.onKeyWordDown.apply(null,arguments)}]},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[e("i",{staticClass:"iconfont search-icon icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),t._v(" "),t.showClear?e("div",{staticClass:"textarea-right clear"},[e("button",{staticClass:"btn-clear w-full h-full",on:{click:t.clearText}},[e("i",{staticClass:"iconfont icon-close-btn"})])]):t._e(),t._v(" "),1===t.showType?e("div",{staticClass:"bottom-button"},[e("el-upload",{staticClass:"img-search-btn",attrs:{action:"/",accept:"image/*","show-file-list":!1,"http-request":t.handleUpload}},[e("el-button",{staticClass:"img-search-img",attrs:{size:"small",type:"primary"}},[e("div",{staticClass:"img-search-img-content flex justify-center items-center"},[e("i",{staticClass:"iconfont icon-camera"})])])],1)],1):t._e()],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showHistory,expression:"showHistory"}],ref:"historyContent",staticClass:"history-content flex flex-col",on:{mousedown:function(t){t.preventDefault()}}},[e("div",{staticClass:"up-fixed flex justify-between items-center"},[e("span",{staticClass:"tit"},[t._v(t._s(t.$t("historySearch")))]),t._v(" "),e("div",{staticClass:"icon-box"},[e("i",{staticClass:"iconfont icon-work-delete",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.clearHistory.apply(null,arguments)},mousedown:function(t){t.preventDefault()}}})])]),t._v(" "),e("div",{staticClass:"down-items flex flex-wrap"},t._l(t.historyList,(function(o,i){return e("div",{key:"his_".concat(i),staticClass:"his-item flex justify-between items-center",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.useHistory(o)},mousedown:function(t){t.preventDefault()}}},[i<10?[e("span",{staticClass:"his-item-text text-no-wrap"},[t._v(t._s(o))]),t._v(" "),e("span",{staticClass:"his-item-btn flex justify-center items-center",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.delHistory(o,i)},mousedown:function(t){t.preventDefault()}}},[e("i",{staticClass:"el-icon-close"})])]:t._e()],2)})),0)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showAssociate,expression:"showAssociate"}],staticClass:"associate-content",on:{mousedown:function(t){t.preventDefault()}}},[e("div",{staticClass:"item-list",attrs:{id:"associateListId"}},[e("LenovoPanel",{ref:"LenovoPanelRef",attrs:{list:t.associateList,keyword:t.keyword,showType:t.showType},on:{onClick:t.handAssoriateItem,mousedown:function(t){t.preventDefault()}}})],1),t._v(" "),t.associateList.length>0?e("div",{staticClass:"more-item",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.findMore.apply(null,arguments)},mousedown:function(t){t.preventDefault()}}},[t._v("\n      "+t._s(t.$t("viewMore"))+"\n    ")]):t._e(),t._v(" "),0===t.associateList.length?[e("div",{staticClass:"no-search-box"},[e("el-image",{staticStyle:{width:"90px",height:"66px"},attrs:{src:t.searchNoDataImg}}),t._v(" "),e("p",[t._v(t._s(t.$t("NoSearchData")))])],1)]:t._e()],2),t._v(" "),t.imageViewerVisible?e("el-image-viewer",{staticClass:"message-img-viewer",staticStyle:{"z-index":"9999"},attrs:{"on-close":function(){return t.imageViewerVisible=!1},"url-list":[t.imgSearchImgUrl]}}):t._e(),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showMockBox,expression:"showMockBox"}],staticClass:"mock-associate-box",on:{click:t.handMaskBox}})],1)}),[],!1,null,"6ab3ab98",null);e.a=component.exports},1898:function(t,e,o){"use strict";o(14);var n=o(3),r=(o(20),o(43),o(4),o(50),o(6),o(48),o(45)),l=o(38),c=o(129),d=o(114),h=o(13),f=o(81),v={data:function(){return{dialogVisible:!1,isUploading:!1,jsonNmae:this.$t("comfyUpLoad1"),formData:{name:"",desc:"",data:"",cover:[],categories:[],source:1,source_url:"",publish:2,download:2},categoriesList:[],sourceList:[{name:"Original",value:1},{name:"Reship",value:2}],isAgreement:!0,loading:!1}},watch:{dialogVisible:{handler:function(t){t?0==this.categoriesList.length&&this.getComfyUIWorkFlowConfig():this.resetForm()}}},computed:{rules:function(){return{name:[{required:!0,message:this.$t("comfyUpLoad4"),trigger:"blur"}],data:[{required:!0,message:this.$t("comfyUpLoad5"),trigger:"change"}],cover:[{required:!0,message:this.$t("comfyUpLoad6"),trigger:"change"}],categories:[{required:!0,message:this.$t("PleaseEnterModelCategoryTags"),trigger:"change"}],source_url:[{required:2==this.formData.source,message:this.$t("PleaseEnterLink"),trigger:"blur"}]}},checkboxDownload:{get:function(){return 1===this.formData.download},set:function(t){this.formData.download=t?1:2}},checkPublish:{get:function(){return 1===this.formData.publish},set:function(t){this.formData.publish=t?1:2}},openPage:function(){return function(t){var e="Terms"===t,o=this.$i18n.locale?this.$i18n.locale:"en";return Object(d.a)(o,e,this.$isChinaSite)}}},methods:{show:function(){this.dialogVisible=!0},getComfyUIWorkFlowConfig:function(){var t=this;Object(f.a)({show_area:"workflow"}).then((function(e){1e4==e.status.code&&(e.data.length&&e.data.forEach((function(e){e.name=e[h.l[t.$i18n.locale]],e.value=e.id})),t.categoriesList=e.data)}))},submitForm:function(){var t=this;this.isAgreement?this.$refs.ruleForm.validate((function(e){if(e){if(t.loading)return;t.loading=!0,Object(c.c)(t.formData).then((function(e){1e4==e.status.code&&(t.$message.success(t.$t("UploadSuccess")),t.dialogVisible=!1)})).finally((function(){t.loading=!1}))}})):this.$message.error(this.$t("comfyUpLoad10"))},onUpload:function(t){this.$refs[t].click()},resetForm:function(){this.$refs.ruleForm.clearValidate(),this.dialogVisible=!1,this.jsonNmae=this.$t("comfyUpLoad5"),this.formData.data="",this.isAgreement=!0,this.formData={name:"",desc:"",data:"",cover:[],categories:[],source:1,source_url:"",publish:2,download:2}},handleJsonUpload:function(t){var e=this,o=t.target.files[0];if(o)if(o.size>102400)this.$message("上传的文件过大"),t.target.value="";else{this.jsonNmae=o.name;var n=new FileReader;n.onload=function(t){e.formData.data=t.target.result,e.$refs.ruleForm.validateField("data")},n.readAsText(o)}},handleImgUpload:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var c,d,h,i;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!e.isUploading){o.next=2;break}return o.abrupt("return");case 2:c=t.target.files,d=0,e.isUploading=!0,h=regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((o=c[i]).size/1024/1024>10)){t.next=14;break}return t.prev=2,t.next=5,Object(r.a)(o,10485760);case 5:o=t.sent,t.next=14;break;case 8:return t.prev=8,t.t0=t.catch(2),console.error("Compression failed:",t.t0),d++,c.length==d&&(e.$refs.ruleForm&&e.$refs.ruleForm.validateField("cover"),e.isUploading=!1),t.abrupt("return",1);case 14:new l.a({type:2}).startUpload(o,{name:"train_img".concat(Date.now(),".png"),type:"png",category:2,size:o.size}).then(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=new FileReader).onload=function(t){var img=new Image;img.src=t.target.result;var o=e;img.onload=function(){o.formData.cover.push({url:n,type:3,height:this.height,width:this.width})}},r.readAsDataURL(o);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){30005==t.code?e.$message.error(e.$t("uploadImageViolatesRules")):e.$message.error(e.$t("uploadError"))})).finally((function(){d++,c.length==d&&(e.$refs.ruleForm&&e.$refs.ruleForm.validateField("cover"),e.isUploading=!1)}));case 16:case"end":return t.stop()}}),t,null,[[2,8]])})),i=0;case 7:if(!(i<c.length)){o.next=14;break}return o.delegateYield(h(),"t0",9);case 9:if(!o.t0){o.next=11;break}return o.abrupt("continue",11);case 11:i++,o.next=7;break;case 14:case"end":return o.stop()}}),o)})))()},onDeleteImg:function(t){this.formData.cover.splice(t,1)}}},m=v,_=(o(2128),o(0)),component=Object(_.a)(m,(function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{"close-on-click-modal":!1,title:t.$t("comfyUpLoad1"),visible:t.dialogVisible,width:"563px","custom-class":"comfyUIUpload",top:"10px","append-to-body":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{staticClass:"formBox"},[t.dialogVisible?e("el-form",{ref:"ruleForm",attrs:{"label-position":"top","label-width":"80px",model:t.formData,rules:t.rules}},[e("el-form-item",{attrs:{label:t.$t("workFlow23"),prop:"name"}},[e("el-input",{attrs:{maxlength:"80","show-word-limit":""},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("workFlow24")}},[e("el-input",{attrs:{type:"textarea",maxlength:"3000","show-word-limit":""},model:{value:t.formData.desc,callback:function(e){t.$set(t.formData,"desc",e)},expression:"formData.desc"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("comfyUpLoad5"),prop:"data"}},[e("input",{ref:"jsonInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".json",multiple:!1},on:{change:t.handleJsonUpload}}),t._v(" "),e("div",{staticClass:"upJson",on:{click:function(e){return t.onUpload("jsonInput")}}},[e("i",{staticClass:"iconfont icon-icon_Upload"}),t._v(" "),e("span",[t._v(t._s(t.$t(t.jsonNmae)))])])]),t._v(" "),e("el-form-item",{attrs:{label:t.$t("workFlow25"),prop:"cover"}},[e("input",{ref:"imgInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/png, image/jpeg, image/jpg', image/gif",multiple:""},on:{change:t.handleImgUpload}}),t._v(" "),e("div",{staticClass:"imgList"},[t._l(t.formData.cover,(function(o,n){return e("div",{key:n,staticClass:"imgBox"},[e("img",{attrs:{src:o.url,alt:""}}),t._v(" "),e("i",{staticClass:"el-icon-delete",on:{click:function(e){return t.onDeleteImg(n)}}})])})),t._v(" "),t.formData.cover.length<10?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isUploading,expression:"isUploading"}],staticClass:"upImg",on:{click:function(e){return t.onUpload("imgInput")}}},[e("i",{staticClass:"el-icon-plus"}),t._v(" "),e("span",[t._v(t._s(t.$t("UploadImg")))])]):t._e()],2)]),t._v(" "),e("div",{staticClass:"tip"},[t._v(t._s(t.$t("comfyUpLoad2")))]),t._v(" "),e("el-form-item",{attrs:{label:t.$t("categoryTags"),prop:"categories"}},[e("el-select",{attrs:{"popper-class":"custom-select",multiple:"",placeholder:t.$t("Pls_select")},model:{value:t.formData.categories,callback:function(e){t.$set(t.formData,"categories",e)},expression:"formData.categories"}},t._l(t.categoriesList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("comfyUpLoad8"),prop:"source_url"}},[e("div",{staticClass:"sourceCnt"},[e("div",{staticClass:"sourceBox"},t._l(t.sourceList,(function(o,n){return e("div",{key:n,staticClass:"sourceItem",class:{activateSource:t.formData.source==o.value},on:{click:function(e){t.formData.source=o.value}}},[t._v(t._s(t.$t(o.name)))])})),0),t._v(" "),2==t.formData.source?e("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:t.$t("originalLink")},model:{value:t.formData.source_url,callback:function(e){t.$set(t.formData,"source_url",e)},expression:"formData.source_url"}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"checkBox"},[e("el-checkbox",{model:{value:t.isAgreement,callback:function(e){t.isAgreement=e},expression:"isAgreement"}},[t._v(t._s(t.$t("workFlow26"))+" "),e("a",{staticClass:"agreement",attrs:{href:t.openPage("Terms"),target:"_blank"}},[t._v(" "+t._s(t.$t("comfyUpLoad3"))+" ")])]),t._v(" "),e("el-checkbox",{model:{value:t.checkPublish,callback:function(e){t.checkPublish=e},expression:"checkPublish"}},[t._v(t._s(t.$t("workFlow27")))]),t._v(" "),e("el-checkbox",{model:{value:t.checkboxDownload,callback:function(e){t.checkboxDownload=e},expression:"checkboxDownload"}},[t._v(t._s(t.$t("comfyUpLoad9")))])],1)],1):t._e()],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t.$t("Cancel")))]),t._v(" "),e("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:t.submitForm}},[t._v(t._s(t.$t("UPLOAD")))])],1)])}),[],!1,null,"385fa1ab",null);e.a=component.exports},190:function(t,e,o){"use strict";o(113),o(28);var n={props:{item:{type:Object,default:function(){return{}}},leftName:{type:String,default:""},rightName:{type:String,default:"more"},link:{type:String,default:""},indexes:{type:Number,default:1}},data:function(){return{}},methods:{goPage:function(){window.open(this.link)}}},r=(o(2949),o(0)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"title-box flex_m"},[e("div",{staticClass:"left"},[0===t.indexes?e("h1",{staticClass:"line-one title"},[t._v("\n      "+t._s(t.leftName)+"\n    ")]):t._e(),t._v(" "),t.indexes>0?e("h2",{staticClass:"line-one title"},[t._v("\n      "+t._s(t.leftName)+"\n    ")]):t._e(),t._v(" "),t.item.sub_title?e("p",{staticClass:"sub-title"},[t._v(t._s(t.item.sub_title))]):t._e()]),t._v(" "),t.link?e("div",{staticClass:"more flex_m"},[e("a",{staticClass:"text",attrs:{href:t.link},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.goPage.apply(null,arguments)}}},[t._v(t._s(t.$t("more")))]),t._v(" "),e("i",{staticClass:"el-icon-arrow-right"})]):t._e()])}),[],!1,null,"1911eec3",null);e.a=component.exports},1902:function(t,e,o){"use strict";o(9),o(11),o(12),o(6);var n=o(2),r=(o(16),o(7),o(14),o(8),o(4),o(23),o(37),o(79)),l=o(1);function c(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}var d={data:function(){var t;return{zoom:!1,review:null===(t=this.$route.query)||void 0===t?void 0:t.review}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(l.e)("user",["adminOff"])),methods:{reviewHandle:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.$route,l=n.params.id,c=n.query.tag,d="ArtWorkDetail"===n.name?4:5;Object(r.u)({obj_id:l,obj_type:d,show_in:o,status:t,tag_id:c}).then((function(t){e.$message.success(e.$t("OperateSuccess")),e.nextHandle(l)}))},nextHandle:function(t){var e,o=localStorage.getItem("reviewList");if(null!==(e=o=(o=o?JSON.parse(o):[]).filter((function(e){return e.id!==t})))&&void 0!==e&&e.length){localStorage.setItem("reviewList",JSON.stringify(o));var n=o[0],r=n.id,l=n.obj_type,c=this.$route.query,path=(4===l?"/artWorkDetail/":"/video/")+"".concat(r,"?review=1&tag=").concat(null==c?void 0:c.tag);this.$router.replace(path)}else this.$router.back()}}},h=d,f=(o(2517),o(0)),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.review&&t.adminOff,expression:"review && adminOff"}],staticClass:"review-post",class:{"close-post":t.zoom}},[e("div",{staticClass:"btn",on:{click:function(e){return t.reviewHandle(1,1)}}},[t._v(t._s(t.$t("Pass")))]),t._v(" "),e("div",{staticClass:"btn not",on:{click:function(e){return t.reviewHandle(2,1)}}},[t._v(t._s(t.$t("NOTPass")))]),t._v(" "),e("div",{staticClass:"btn",on:{click:function(e){return t.reviewHandle(1,2)}}},[t._v(t._s(t.$t("PassToPost")))]),t._v(" "),e("span",{staticClass:"zoom",on:{click:function(e){t.zoom=!t.zoom}}})])}),[],!1,null,"4685173e",null);e.a=component.exports},1906:function(t,e,o){"use strict";var n={},r=(o(2677),o(0)),component=Object(r.a)(n,(function(){this._self._c;return this._m(0)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"ball-pulse"},[e("div"),t._v(" "),e("div"),t._v(" "),e("div")])}],!1,null,"4e16c0e4",null);e.a=component.exports},1908:function(t,e,o){"use strict";o(113),o(221),o(32),o(10),o(14),o(28),o(4),o(18);var n=o(190),r=o(64),l=o(13),c={components:{SwipeableList:r.a,HyPlateTitle:n.a},props:{temp:{type:Object,default:function(){return{}}},indexes:{type:Number,default:1}},data:function(){return{}},computed:{tagHref:function(){var t=this;return function(e){var path=t.getTagType();return t.localePath("/tagInfo"+path+"/"+(null==e?void 0:e.id))}},cardRunderList:function(){var t=this.temp||{},e=t.elList,o=void 0===e?[]:e,n=t.elem_num;return!o.length?Array(n).fill({}):o}},methods:{getTagType:function(){var t=this.$route,e=t.name,o=t.params,n=void 0===o?{}:o,r=e.split("___")[0],c=(null==n?void 0:n.ptype)||r,d=l.v.find((function(t){return c="TagDetail"===r?null==n?void 0:n.type:c,t.name.includes(c)}));return null==d?void 0:d.path},selectTags:function(t){this.$emit("onChange",{path:this.tagHref(t)})}}},d=(o(2950),o(0)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",[e("HyPlateTitle",{attrs:{item:t.temp,leftName:t.temp.title,link:t.temp.link,indexes:t.indexes}}),t._v(" "),e("div",{style:{minHeight:"40px"}},[e("swipeable-list",t._b({attrs:{listGap:"16px",top:"'0px'"}},"swipeable-list",t.$attrs,!1),t._l(t.cardRunderList,(function(o,n){var r;return e("a",{key:(o.id||"-")+n,staticClass:"tags-item-new1",style:{backgroundImage:"url(".concat(null==o||null===(r=o.cover)||void 0===r?void 0:r.url,")")},attrs:{href:t.tagHref(o),target:"_blank"},on:{click:function(e){return e.preventDefault(),t.selectTags(o)}}},[e("div",{staticClass:"tag-text flex_c_m"},[t._v(t._s(t.$t(o.title)))])])})),0)],1)],1)}),[],!1,null,"6ca19712",null);e.a=component.exports},1909:function(t,e,o){"use strict";o(113),o(9),o(11),o(12),o(8),o(6);var n=o(2),r=(o(16),o(221),o(7),o(10),o(28),o(4),o(1)),l=o(13),c=o(64),d=o(190);function h(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function f(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?h(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var v={components:{SwipeableList:c.a,HyPlateTitle:d.a},props:{temp:{type:Object,default:function(){return{}}},indexes:{type:Number,default:1}},data:function(){return{}},computed:f(f(f({},Object(r.c)("user",["cdnHostFun"])),Object(r.c)("user",["isCompanyAccount"])),{},{cardRunderList:function(){var t=this.temp||{},e=t.elList,o=void 0===e?[]:e,n=t.elem_num;return!o.length?Array(n).fill({}):o},cardList:function(){var t=[{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.D)("ai-video-generator")),title:"ai_video_generation",subTitle:"ai_video_generation_desc",type:"ai_video_generation",dataLoggingName:"ai_video_generation",path:"ai-video-generator"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.D)("ai-face-swap")),title:"ai_face_changing",subTitle:"ai_face_changing_desc",type:"ai_face_changing",dataLoggingName:"ai_face_changing",path:"ai-face-swap"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.D)("ai-filter")),title:"ai_tools_4",subTitle:"ai_tools_8",type:"ai_filter",dataLoggingName:"ai_filters",path:"ai-filter"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.D)("ai-dance")),title:"ai_dance_fitting_title",subTitle:"ai_dance_fitting_desc",type:"aiDance",path:"ai-dance"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.D)("ai-model-fitting")),title:"ai_model_fitting_title",subTitle:"ai_model_fitting_desc",type:"aiModelFitting",path:"ai-model-fitting"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.D)("remove-background")),title:"ai_tools_2",subTitle:"ai_tools_6",type:"remove_background",dataLoggingName:"remove_background",path:"remove-background"},{source1:"",cover:"https://".concat(this.cdnHostFun()).concat(Object(l.D)("ai_erase")),title:"ai_erase",subTitle:"ai_erase_tip",type:"ai_erase",dataLoggingName:"",path:"ai_erase"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.D)("image-upscaler")),title:"upsacler_3_H1",subTitle:"upsacler_4_H1_value",type:"hd_restoration",dataLoggingName:"hd_restoration",path:"image-upscaler"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.D)("ai-makeup")),title:"ai_makeup",subTitle:"ai_makeup_desc",type:"ai-makeup",dataLoggingName:"ai-makeup",path:"ai-makeup"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.D)("ai-portrait")),title:"ai_tools_10",subTitle:"ai_tools_11",type:"ai_photography",dataLoggingName:"ai_photography",path:"ai-portrait"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.D)("scribble2img")),title:"ai_tools_3",subTitle:"ai_tools_7",type:"character_fixes",dataLoggingName:"from_sketch_to_artwork",path:"scribble2img"},{cover:"https://".concat(this.cdnHostFun()).concat(Object(l.D)("ai-comic")),title:"ai_comic_fitting_title",subTitle:"ai_comic_fitting_desc",type:"aiComic",path:"ai-comic"}];return this.isCompanyAccount?t.filter((function(t){return!["ai_photography"].includes(t.type)})):t}}),methods:{goCardDetail:function(t){var path=this.localePath("/ai-tools/".concat(t.id));this.$router.push(path)}}},m=(o(2954),o(0)),component=Object(m.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"tools-item-box"},[e("HyPlateTitle",{attrs:{item:t.temp,leftName:t.temp.title,link:t.temp.link,indexes:t.indexes}}),t._v(" "),e("div",{style:{minHeight:"143px"}},[e("swipeable-list",t._b({attrs:{listGap:"16px",top:"'0px'"}},"swipeable-list",t.$attrs,!1),t._l(t.cardRunderList,(function(o,n){var r,l;return e("a",{key:(o.id||"-")+n,staticClass:"aicard-item flex",attrs:{href:t.localePath("/ai-tools/".concat(o.id))},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.goCardDetail(o)}}},[e("div",{staticClass:"left"},[e("p",{staticClass:"title"},[t._v(t._s(t.$t(o.title)))]),t._v(" "),e("p",{staticClass:"dosc"},[t._v(t._s(t.$t(o.sub_title)))])]),t._v(" "),e("div",{staticClass:"right"},[null!=o&&null!==(r=o.cover)&&void 0!==r&&r.url?e("img",{staticClass:"coverimg",attrs:{src:null==o||null===(l=o.cover)||void 0===l?void 0:l.url}}):t._e()])])})),0)],1)],1)}),[],!1,null,"9dc4783e",null);e.a=component.exports},1910:function(t,e,o){"use strict";var n=o(64),r=o(190),l={components:{SwipeableList:n.a,HyPlateTitle:r.a},props:{list:{type:Array,default:function(){return[]}}},data:function(){return{}}},c=(o(2956),o(0)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e("HyPlateTitle"),t._v(" "),e("swipeable-list",t._b({},"swipeable-list",t.$attrs,!1),[e("div",{staticClass:"recently-used-list flex"},t._l(Array(30),(function(o,n){return e("a",{key:n,staticClass:"block-item",attrs:{href:"#",target:"_blank"}},[e("div",{staticClass:"content-box"},[e("el-image",{staticClass:"cover",attrs:{src:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",fit:"cover"}}),t._v(" "),e("div",{staticClass:"right-marker flex_c_m"},[e("i",{staticClass:"iconfont icon-gengduo"})])],1),t._v(" "),e("p",{staticClass:"text-info line-one"},[t._v("佛挡杀佛都开始佛挡杀佛都开始")])])})),0)])],1)}),[],!1,null,"7a35a76a",null);e.a=component.exports},1911:function(t,e,o){"use strict";o(113),o(221),o(10),o(28);var n=o(64),r=o(190),l=o(502),c={components:{SwipeableList:n.a,HyPlateTitle:r.a,BaseCard:l.a},props:{temp:{type:Object,default:function(){return{}}},indexes:{type:Number,default:1}},computed:{rectW:function(){var t=this.temp.content_type,e=260;return[4,"4",5,"5"].includes(t)&&(e=314),[1,"1",2,"2",3,"3"].includes(t)&&(e=260),e},rectH:function(){var t=this.temp.content_type,e=260;return[4,"4",5,"5"].includes(t)&&(e=182),[1,"1",2,"2",3,"3"].includes(t)&&(e=342),e},isInward:function(){var t=this.temp.content_type;return[2,"2",5,"5",3,"3"].includes(t)},cardRunderList:function(){var t=this.temp||{},e=t.elList,o=void 0===e?[]:e,n=t.elem_num;return!o.length?Array(n).fill({}):o}},data:function(){return{}}},d=(o(2963),o(0)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",[e("HyPlateTitle",{attrs:{item:t.temp,leftName:t.temp.title,link:t.temp.link,indexes:t.indexes}}),t._v(" "),e("div",{style:{minHeight:t.rectH+"px"}},[e("swipeable-list",t._b({attrs:{listAlignItems:"flex-start",listGap:"16px",top:"'0px'"}},"swipeable-list",t.$attrs,!1),t._l(t.cardRunderList,(function(o,n){return e("BaseCard",{key:(o.id||"-")+n,attrs:{item:o,imgW:t.rectW+"px",imgH:t.rectH+"px",isInward:t.isInward,isWater:!1,logData:{id:t.temp.id,title:t.temp.title,index:n}}})})),1)],1)],1)}),[],!1,null,"5fd463f8",null);e.a=component.exports},1912:function(t,e,o){"use strict";o(16),o(9),o(11),o(12),o(8);var n=o(15),r=o(2),l=(o(7),o(10),o(36),o(43),o(28),o(4),o(49),o(18),o(76),o(6),o(1)),c=o(87),d=o(39),h=o(35),f=o.n(h),v=o(33),m=o(387),_=o(5),y=o(502),w=o(74);o(21);function C(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function k(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?C(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):C(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var O={inject:["app"],mixins:[v.a,m.a],components:{BaseCard:y.a},props:{isOpen:{type:Boolean,default:!0},isOpenNewTab:{type:Boolean,default:!1},fromPage:{type:String,default:""},list:{type:Array,default:function(){return[]}},container:{type:String,require:!0},activateTab:{type:String,default:""},needHorizontal:{type:Boolean,default:!1},gap:{type:Number,default:16},cols:{type:Number,default:7},colAdd:{type:Number,default:0},review:{type:Boolean,default:!1},isTiemRow:{type:Boolean,default:!1},isCheck:{type:Boolean,default:!1},checkMax:{type:Number,default:-1},dotReportInfo:{type:Object,default:function(){return{category:"default",view_domain:"",batch_id:""}}},isTrainLora:{type:Boolean,default:!1},resetHeight:{type:Boolean,default:!0},isDynamicList:{type:Boolean,default:!0},activeName:{type:String,default:""},defaultMB:{type:Number,default:80},workAppParam:{type:Object,default:function(){return{isLogin:!0,height:912}}},row:{type:Number,default:1},boxId:{type:String,default:"container"},closeVirtualList:{type:Boolean,default:!0},isReverseLoad:{type:Boolean,default:!1}},data:function(){var t=this;return{isDelete:!1,dataList:this.list,width:0,scrollTop:0,selfCols:6,openWatch:!0,resizeListener:Object(c.a)((function(){return t.resize(t.dataList)}),500),lastTime:null,checkList:{ids:[],collectIds:[],folderNos:[],url:[]},isCheckAll:!1,sysTag:{latest:{color:"#ffffff",bg:"#0ABF94",txt:"New"},essence:{color:"#ffffff",bg:"rgb(241,49,78)",txt:"essence"},exclusive:{color:"#744100",bg:"#F4D292",txt:"exclusive"},first:{color:"#744100",bg:"#F4D292",txt:"debut"},recommended:{color:"#ffffff",bg:"#0ABF94",txt:"Recommend"}},startIndex:0,lastScrollTop:0,isServer:!0,openWaterFall:!1,isTest:!1}},computed:k(k(k({},Object(l.c)("user",["isLoggedIn","accountSettingsData"])),Object(l.e)("user",["userInfo","accountData"])),{},{renderList:function(){var t=this.$parent.$refs[this.container];if(!t||!this.closeVirtualList)return this.dataList;var e=this.scrollTop-t.offsetTop,o=e-window.innerHeight,n=e+window.innerHeight+1e3;if(e>this.lastScrollTop)for(;this.startIndex<this.dataList.length&&(null===(r=this.dataList[this.startIndex])||void 0===r?void 0:r.top)<=o;){var r;this.startIndex++}else for(;this.startIndex>0&&(null===(l=this.dataList[this.startIndex])||void 0===l?void 0:l.top)>=o;){var l;this.startIndex--}for(var c=this.startIndex;c<this.dataList.length&&(null===(d=this.dataList[c])||void 0===d?void 0:d.top)<=n;){var d;c++}this.lastScrollTop=e;var h=this.isDynamicList?this.dataList.slice(this.startIndex,c):this.dataList;return h=h.filter((function(t,e){return t}))},dataInfo:function(){return function(t){var e={id:t.id,type:t.obj_type,pt:t.pt};return JSON.stringify(e)}}}),watch:{isOpen:function(t){this.resizeListener()},cols:{handler:function(t){var e=this;this.$nextTick((function(){e.width=e.getWidth()}))},immediate:!0},list:{handler:function(t){var e=this;this.$nextTick((function(){var o=e.openWatch;e.width;if(o){e.width||(e.width=e.getWidth());var r=f()(t);if(e.dataList.length<100)e.$nextTick((function(){e.updateDataList(r,!1)}));else if(r.length>e.dataList.length){var l=Object(n.a)(r.slice(e.dataList.length));e.updateDataList(l,!0)}else r.length<e.dataList.length&&(e.dataList=[],e.startIndex=0,e.updateDataList(r,!1))}}))},immediate:!0},isCheck:{handler:function(t){this.isCheckAll=!1,this.dataList.forEach((function(t){t.isCheck=!1})),this.checkList={ids:[],collectIds:[],folderNos:[],url:[]},this.$emit("getChecList",this.checkList)}},WaterFallDeleteLits:{handler:function(t){this.isDelete=!0}},"app.showMenu":function(t){this.resizeListener()},isLoggedIn:function(){this.resizeListener()}},activated:function(){var t=this;this.openWatch=!0,this.isDelete&&(this.resizeListener(),this.isDelete=!1),window.addEventListener("resize",this.resizeListener),window.addEventListener("scroll",Object(w.throttle)(this.lazyLoad,200),{passive:!0}),this.$nextTick((function(){window.scrollTo(0,t.scrollTop)}))},deactivated:function(){this.openWatch=!1,window.removeEventListener("resize",this.resizeListener),window.removeEventListener("scroll",Object(w.throttle)(this.lazyLoad,200))},mounted:function(){window.addEventListener("resize",this.resizeListener),window.addEventListener("scroll",Object(w.throttle)(this.lazyLoad,200),{passive:!0}),this.isServer=!1},beforeDestroy:function(){window.removeEventListener("resize",this.resizeListener)},methods:k(k({},Object(l.b)("user",["getAccountInfo"])),{},{getItemTime:function(t){var e=new Date(t),o=e.getFullYear(),n=(e.getMonth()+1).toString().padStart(2,"0");return"".concat(o,"-").concat(n)},processTimeGroups:function(t){for(var i=0;i<t.length;i++){var e,o,n,r,l=t[i];if(null!=l&&null!==(e=l.folder_no)&&void 0!==e&&e.collect_at)if(this.getItemTime(null==l||null===(o=l.folder_no)||void 0===o?void 0:o.collect_at)!==this.lastTime)t.splice(i,0,{timeItem:this.getItemTime(null==l||null===(n=l.folder_no)||void 0===n?void 0:n.collect_at)}),this.lastTime=this.getItemTime(null==l||null===(r=l.folder_no)||void 0===r?void 0:r.collect_at)}return t},updateDataList:function(t,e){var o=this,n=this.WaterFallDeleteLits,r=this.width,l=(this.isCheckAll,this.checkList,this.isTiemRow);r||(this.width=this.getWidth());var c=t.filter((function(t){return!n.includes(t.id)}));l&&(e||(this.lastTime=null),this.processTimeGroups(c));for(var i=0;i<c.length;i++){var h=c[i];if(h.timeItem)h.waterWidth=r,h.waterHeight=30;else if(h.timeDiff=Object(d.c)(h.created_at,Date.now(),this.$t),h.waterWidth=r,this.isTiemRow)h.waterHeight=r;else{var f=this.getDimensions(h),v=f.intWidth,m=f.inHeight;h.waterHeight=parseInt(m*r/v),isNaN(h.waterHeight)&&(h.waterHeight=320)}}e?c.forEach((function(t){o.dataList.push(t)})):this.dataList=c,this.waterfall()},getDimensions:function(t){var e,o,n,r,l=(this.$route.params||{}).ptype,c=void 0===l?"/":l,d=(null==t||null===(e=t.cover)||void 0===e?void 0:e.width)||260,h=(null==t||null===(o=t.cover)||void 0===o?void 0:o.height)||346,f=t.sub_channel,v="post"===c&&"article"===f;"/"!==c&&"post"!==c?(d=260,h=346):(d=v?260:null==t||null===(n=t.cover)||void 0===n?void 0:n.width,h=v?346:null==t||null===(r=t.cover)||void 0===r?void 0:r.height);return{intWidth:d,inHeight:h}},resize:function(t){var e,o=this;this.openWatch&&((null===(e=this.$parent)||void 0===e||null===(e=e.$refs)||void 0===e||null===(e=e[this.container])||void 0===e?void 0:e.offsetWidth)<600||(this.dataList=f()(t).filter((function(t){return!o.WaterFallDeleteLits.includes(t.id)})),this.width=this.getWidth(),this.dataList.forEach((function(t){if(t.timeItem)t.waterWidth=o.width,t.waterHeight=30;else{if(t.timeDiff=Object(d.c)(t.created_at,Date.now(),o.$t),t.waterWidth=o.width,o.isTiemRow)t.waterHeight=o.width;else{var e=o.getDimensions(t),n=e.intWidth,r=e.inHeight;t.waterHeight=parseInt(r*o.width/n),isNaN(t.waterHeight)&&(t.waterHeight=320)}t.cover&&!t.replaceUrl&&(t.replaceUrl=Object(_.x)(t.cover,13==t.obj_type?"high":"low"))}})),this.waterfall()))},waterfall:function(){var t=this;try{this.openWaterFall=!1,this.heights=[];for(var e=function(){var e=t.dataList[i],o=e.waterHeight,n=0;e.title&&(n+=30),e.sub_title&&(n+=30),!e.title&&!e.sub_title&&(n+=30),n+=40;[13,2,14,16,6,11].includes(e.obj_type)&&(n=0);[5,15,9].includes(e.obj_type)&&(n=70);[9].includes(e.obj_type)&&(n=100);var r=t.$route.params.ptype;if("/"===(void 0===r?"/":r)&&[1].includes(e.obj_type)&&(n=50),e.timeItem){e.left=0;var l=t.getMaxIndex(t.heights);e.top=l>-1?t.heights[l]+t.gap:0,t.heights.forEach((function(r,l){t.heights[l]=e.top+o+n}))}else if(t.heights.length<t.selfCols)if(t.dataList[i-1]&&t.dataList[i-1].timeItem)if(e.left=0,e.top=t.dataList[i-1].top+t.dataList[i-1].waterHeight+t.gap,t.heights[0]){var c=t.heights[0]+o+n;t.heights=[c+t.gap]}else t.heights.push(e.top+o+n);else e.top=t.dataList[i-1]?t.dataList[i-1].top:0,e.left=t.heights.length*(t.width+t.gap),t.heights.push(e.top+o+n);else{if(i>=t.selfCols*t.row&&"videoPageList"===t.fromPage)return 1;var d=t.getMinIndex(t.heights),h=t.heights[d]+t.gap;e.top=h,e.left=d*(t.width+t.gap),t.heights[d]=h+o+n}},i=0;i<this.dataList.length&&!e();i++);this.setWaterFallRect(),this.$nextTick((function(){t.openWaterFall=!0}))}catch(t){}},getMinIndex:function(t){var e=Math.min.apply(null,t);return t.indexOf(e)},getMaxIndex:function(t){var e=Math.max.apply(null,t);return t.indexOf(e)},getWidth:function(){var t;this.selfCols=this.cols,"userPage"==this.fromPage&&(this.selfCols=6);var e=null===(t=this.$parent.$refs[this.container])||void 0===t?void 0:t.offsetWidth;if(e||"videoPageList"!==this.fromPage||(e=document.body.clientWidth-154),e){e>2100&&(this.selfCols=7),e<1900&&(this.selfCols=6),e<1200&&(this.selfCols=5),e<1100&&(this.selfCols=4),e<900&&(this.selfCols=3),e<600&&(this.selfCols=2),e<220&&(this.selfCols=1);var o=~~((e-(this.selfCols-1)*this.gap)/this.selfCols);return o>180?o:180}},setWaterFallRect:function(){var t=this.$parent.$refs[this.container],e=Math.max.apply(null,this.heights),o=this.workAppParam,n=o.isLogin,r=o.height;this.list.length||!this.resetHeight?(t.style.height=n?e+"px":r+"px",t.style.marginBottom=this.defaultMB+"px"):t.style.height=0},lazyLoad:function(){var t=this.workAppParam.isLogin;if(this.openWatch&&t){var e=document.documentElement.scrollHeight,o=window.innerHeight;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset,e-this.scrollTop-o<1.5*o&&this.$emit("load"),this.isReverseLoad&&this.reverseLoadFn()}},adminHandle:function(t){this.setWaterFallDeleteLits(t),this.resizeListener()}})},x=(o(2970),o(0)),component=Object(x.a)(O,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"homeList",class:{"server-list":t.isServer},attrs:{id:t.boxId}},t._l(t.renderList,(function(o,n){return e("div",{directives:[{name:"show",rawName:"v-show",value:"videoPageList"!==t.fromPage||n<t.selfCols*t.row,expression:"fromPage === 'videoPageList' ? index < selfCols * row : true"},{name:"observe-visibility",rawName:"v-observe-visibility",value:t.handleVisibility,expression:"handleVisibility"}],key:"".concat(null==o?void 0:o.id,"_").concat(null==o?void 0:o.obj_type,"_").concat(null==o?void 0:o.left,"_").concat(null==o?void 0:o.top),staticClass:"box marking-item",class:[t.activateTab+"-box"],style:{transform:t.openWaterFall?"translateX(".concat(o.left,"px) translateY(").concat(o.top,"px)"):null,width:o.waterWidth+"px",height:o.waterHeight+"px"},attrs:{"data-info":t.dataInfo(o)}},[o.timeItem?e("div",{staticClass:"timeRow",style:{width:o.waterWidth+"px",height:o.waterHeight+"px"}},[t._v("\n      "+t._s(o.timeItem)+"\n    ")]):t._e(),t._v(" "),e("BaseCard",{attrs:{imgW:"auto",item:o,handFns:{resizeFn:t.resizeListener},logData:{id:"waterFallFlow",title:"waterFallFlow"}},on:{onAdmin:t.adminHandle}})],1)})),0)}),[],!1,null,"ff0beb32",null);e.a=component.exports},1913:function(t,e,o){"use strict";o(10),o(14),o(23),o(120),o(9),o(11),o(12),o(8),o(6);var n=o(2),r=(o(7),o(28),o(4),o(1));function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function c(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var d={props:{value:{type:String,default:""},showButtons:{type:Boolean,default:!1},showModelButtons:{type:Boolean,default:!1},showWorkButtons:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},showTypeButtons:{type:Boolean,default:!1},showSearch:{type:Boolean,default:!1},ifFixed:{type:Boolean,default:!1},threshold:{type:Number,default:0},tabList:{type:Array,default:function(){return[{label:"Explore",name:"artwork"},{label:"AIModel",name:"model"}]}},defaultTab:{type:String,default:null},showModelSelect:{type:Boolean,default:!1}},data:function(){return{currentTab:this.value,Wh:"inherit",bntList:[{name:this.$t("Hot"),value:"hot",color:"#8E9CB1",activeColor:"#EF4444"},{name:this.$t("New"),value:"new1",color:"#8E9CB1",activeColor:"#e9b942"},{name:this.$t("Top"),value:"top",color:"#8E9CB1",activeColor:"#fa6929"}],modelBntList:[{name:"normal",value:"normal"},{name:"other",value:"other"}],activeModelButton:{name:"normal",value:"normal"},activeButton:{name:this.$t("Hot"),value:"hot",activeColor:"#EF4444"},workBntList:[{name:"All",value:[]},{name:"Grid",value:[2]},{name:"Upscale",value:[1,3]}],activeWorkButton:{name:"All",value:[]},activeTypeButton:{name:this.$t("Explore"),value:"artwork"},keyword:"",inputBorderShow:!1,workOrModel:[{label:"All",value:""},{label:"Checkpoint",value:"Checkpoint"},{label:"LoRA",value:"LORA"}],modelType:""}},watch:{value:{handler:function(t){this.currentTab=t},immediate:!0}},computed:c(c({},Object(r.e)("user",["userInfo"])),{},{typeBntList:function(){var t=this.$route.params.id,e=[{name:this.$t("Explore"),value:"artwork"},{name:this.$t("AIModel"),value:"model"},{name:this.$t("Post"),value:"post"},{name:this.$t("palette"),value:"palette"},{name:this.$t("Swtft_App"),value:"swtft_app"},{name:this.$t("WorkFlow"),value:"workflow"}];return(t===this.userInfo.id||"/personal"===this.$route.path)&&"explore"===this.currentTab?[]:"explore"==this.value?e.filter((function(t){return"post"!=t.value&&"palette"!=t.value&&"swtft_app"!=t.value&&"workflow"!=t.value})):e}}),mounted:function(){var t=this;this.defaultTab&&(this.currentTab=this.defaultTab),this.setWh(),window.addEventListener("resize",this.setWh),this.ifFixed&&window.addEventListener("scroll",this.onScroll),this.$once("hook:beforeDestroy",(function(){t.ifFixed&&window.removeEventListener("scroll",t.onScroll),window.removeEventListener("resize",t.setWh)}))},updated:function(){"inherit"==this.Wh&&this.setWh()},methods:{handleModelTypeChange:function(){this.setEmit()},search:function(t){13===t.which&&this.$emit("search",{keyword:this.keyword})},clear:function(){this.keyword="",this.$emit("search",{keyword:this.keyword})},setWh:function(){if(this.$refs.cnt){var t=this.$refs.cnt.offsetWidth;this.Wh=0==t?"inherit":this.$refs.cnt.offsetWidth+"px"}},onScroll:function(){var t=this.threshold,e=this.$refs["sticky-element"],rect=this.$refs.cnt.getBoundingClientRect();if(e){var o="sticky";rect.top<=t?(e.classList.add(o),e.style.top=t+"px"):(e.classList.remove(o),e.style.top=null)}},setEmit:function(){this.$emit("change",{type:this.currentTab,order_by:this.activeButton.value,rightType:this.activeTypeButton.value,modelType:this.activeModelButton.value,artwork_types:this.activeWorkButton.value,model_type:this.modelType}),this.keyword=""},tabClick:function(){this.$emit("tabChange",this.currentTab),this.$emit("input",this.currentTab),this.activeTypeButton={name:this.$t("Explore"),value:"artwork"},this.activeModelButton={name:"正常",value:"normal"},this.activeWorkButton={name:"All",value:[]},this.setEmit()},onButtonClick:function(button){this.activeButton=button,this.setEmit()},onModelButtonClick:function(button){this.activeModelButton=button,this.setEmit()},onWorkButtonClick:function(button){this.activeWorkButton=button,this.setEmit()},onTypeButtonClick:function(button){this.activeTypeButton=button,this.activeModelButton={name:"正常",value:"normal"},this.activeWorkButton={name:"All",value:[]},this.showModelSelect&&!["model"].includes(null==button?void 0:button.value)&&(this.modelType=""),this.setEmit()}}},h=(o(2418),o(0)),component=Object(h.a)(d,(function(){var t,e=this,o=e._self._c;return o("div",{ref:"cnt",staticClass:"sticky-element",style:{height:e.showButtons||e.showSearch||e.showModelButtons?"139px":"75px"}},[o("div",{ref:"sticky-element",staticClass:"tab-cnt",style:{width:e.Wh,height:e.showButtons||e.showSearch||e.showModelButtons?"139px":"75px"}},[o("el-tabs",{staticClass:"tab-box",on:{"tab-click":e.tabClick},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},e._l(e.tabList,(function(t,n){return o("el-tab-pane",{key:n,attrs:{label:e.$t(t.label),name:t.name,disabled:e.disabled}})})),1),e._v(" "),e.showButtons?o("div",{staticClass:"filter-buttons"},e._l(e.bntList,(function(button){return o("button",{key:button.value,staticClass:"filter-button",class:{active:e.activeButton.value===button.value},on:{click:function(t){return e.onButtonClick(button)}}},[o("i",{staticClass:"filter-button-icon",class:"icon-".concat(button.value),style:{color:e.activeButton.value===button.value?button.activeColor:button.color}}),e._v(" "),o("span",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(button.name))])])})),0):e._e(),e._v(" "),e.showWorkButtons&&!e.$slots.default?o("div",{staticClass:"filter-buttons"},e._l(e.workBntList,(function(button,t){return o("button",{key:t,staticClass:"filter-button",class:{active:e.activeWorkButton.name===button.name},on:{click:function(t){return e.onWorkButtonClick(button)}}},[o("span",[e._v(e._s(e.$t(button.name)))])])})),0):e._e(),e._v(" "),!e.showModelButtons||e.showWorkButtons||e.$slots.default?e._e():o("div",{staticClass:"filter-buttons"},e._l(e.modelBntList,(function(button){return o("button",{key:button.value,staticClass:"filter-button",class:{active:e.activeModelButton.value===button.value},on:{click:function(t){return e.onModelButtonClick(button)}}},[o("span",[e._v(e._s(e.$t(button.name)))])])})),0),e._v(" "),e.$slots.default?o("div",{staticClass:"slotBox"},[e._t("default")],2):e._e(),e._v(" "),e.showModelSelect&&["model"].includes(null===(t=e.activeTypeButton)||void 0===t?void 0:t.value)?o("div",{staticClass:"filter-panel custom-form"},[o("el-select",{attrs:{"popper-class":"custom-select"},on:{change:function(t){return e.handleModelTypeChange("modelType",t)}},model:{value:e.modelType,callback:function(t){e.modelType=t},expression:"modelType"}},e._l(e.workOrModel,(function(t){return o("el-option",{key:t.label,attrs:{label:e.$t(t.label),value:t.value}})})),1)],1):e._e(),e._v(" "),e.showTypeButtons?o("div",{staticClass:"filter-type-buttons"},e._l(e.typeBntList,(function(button){return o("button",{key:button.value,staticClass:"filter-type-button",class:{typeActive:e.activeTypeButton.value===button.value},on:{click:function(t){return e.onTypeButtonClick(button)}}},[o("span",[e._v(e._s(button.name))])])})),0):e._e(),e._v(" "),e.showSearch?o("div",{staticClass:"input-search",class:{inputBorder:e.inputBorderShow}},[o("i",{staticClass:"iconfont icon-min-search"}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:e.$t("minSearch"),maxlength:"40"},domProps:{value:e.keyword},on:{keypress:e.search,focus:function(t){e.inputBorderShow=!0},blur:function(t){e.inputBorderShow=!1},input:function(t){t.target.composing||(e.keyword=t.target.value)}}}),e._v(" "),e.keyword.length>0?o("i",{staticClass:"el-icon-close",on:{click:e.clear}}):e._e()]):e._e()],1)])}),[],!1,null,"4a4ad9ef",null);e.a=component.exports},1914:function(t,e,o){"use strict";o(110),o(9),o(7),o(11),o(12),o(8),o(4),o(6);var n=o(2),r=(o(23),o(1)),l=o(21),c=o(114);function d(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function h(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?d(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var f={name:"EmailLogin",props:{},computed:{getDynamicHref:function(){return function(t){var e="Terms"===t,o=this.$i18n.locale?this.$i18n.locale:"en";return Object(c.a)(o,e,this.$isChinaSite)}}},data:function(){var t=this;return{loginForm:{email:"",password:"",UserAgreement:!1},loginFormRules:{email:[{required:!0,message:this.$t("PleaseEAEA"),trigger:"blur"},{type:"email",message:this.$t("PleaseETCEA"),trigger:["blur","change"]}],password:[{required:!0,message:this.$t("PleaseIAP"),trigger:"blur"},{min:8,max:20,message:this.$t("PasswordLMBB"),trigger:"blur"},{pattern:/^\S*$/,message:this.$t("PasswordANATCS"),trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]*$/,message:"密码不能包含汉字",trigger:"blur"}],UserAgreement:[{required:!0,type:"boolean",validator:function(e,o,n){o?n():n(new Error(t.$t("PleaseTTOSAPP")))}}]},errorMessages:{20001:"AccountNoExistent",20004:"AccountDisabled",20005:"PasswordError",20100:"InvalidEmail"}}},mounted:function(){},methods:h(h(h({},Object(r.b)("user",["setUserInfo","getAccountInfo","setTempToken","setName","updateIsNewUser"])),Object(r.b)("payment",["getPaymentInfo"])),{},{handleSignUp:function(){this.$message.error(this.$t("loginFnError"))},handleLogin:function(){var t=this;this.$refs.loginForm.validate((function(e){if(e){var o={email:t.loginForm.email,password:t.loginForm.password,type:1};t.$emit("loginEmail",h({},o))}}))},forgetPassword:function(){var t=this;/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(this.loginForm.email)?Object(l.db)({email:this.loginForm.email}).then((function(e){var code=e.status.code,o=e.data?e.data.status:0;if(1!==o||1e4!==code)t.$message.error(t.$t("ThisEmailIs")+(2===o?t.$t("Disabled"):3===o?t.$t("NotActive"):t.$t("NotAvailable")));else{var param={email:t.loginForm.email};t.$emit("go-to",{pagename:"send-email",type:"forget",param:param})}})).catch((function(t){})):this.$message.error(this.$t("PleaseETCEA"))}})},v=(o(3150),o(0)),component=Object(v.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"email-login w-full"},[e("el-form",{ref:"loginForm",attrs:{model:t.loginForm,"label-position":"top",rules:t.loginFormRules,"hide-required-asterisk":!0}},[e("el-form-item",{attrs:{label:t.$t("Email"),prop:"email"}},[e("el-input",{attrs:{placeholder:t.$t("PleaseEAEA"),maxlength:"64",clearable:""},model:{value:t.loginForm.email,callback:function(e){t.$set(t.loginForm,"email","string"==typeof e?e.trim():e)},expression:"loginForm.email"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("Password"),prop:"password"}},[e("el-input",{attrs:{type:"password",placeholder:t.$t("PleaseIAP"),maxlength:"20","show-password":"",clearable:""},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password","string"==typeof e?e.trim():e)},expression:"loginForm.password"}})],1),t._v(" "),e("el-row",{staticClass:"flex-wrap m-b-20",attrs:{type:"flex",justify:"space-between"}},[e("div",{staticClass:"text-right"},[e("el-button",{staticClass:"text-gray text-btn",attrs:{type:"text"},on:{click:t.forgetPassword}},[t._v(t._s(t.$t("ForgotPassword")))])],1)])],1),t._v(" "),e("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"space-between","align-items":"center"}},[e("el-button",{staticClass:"my-btn",attrs:{type:"primary",size:"small"},on:{click:t.handleLogin}},[t._v(t._s(t.$t("Login")))]),t._v(" "),e("div",{staticClass:"text-gray text-center",staticStyle:{width:"100%"}},[t._v(t._s(t.$t("loginQuest"))+"\n     "),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:t.handleSignUp}},[t._v(t._s(t.$t("Register")))])],1)],1)],1)}),[],!1,null,"1052f594",null);e.a=component.exports},1915:function(t,e,o){"use strict";o(110),o(9),o(7),o(11),o(12),o(6);var n=o(2),r=o(3),l=(o(10),o(8),o(4),o(23),o(49),o(18),o(37),o(29),o(20),o(1)),c=o(21),d=o(42),h=o(114),f=o(5);function v(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function m(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?v(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var _={name:"PhoneLogin",props:{isAutoFoucs:{type:Boolean,default:!0}},computed:{getDynamicHref:function(){return function(t){var e="Terms"===t,o=this.$i18n.locale?this.$i18n.locale:"en";return Object(h.a)(o,e,this.$isChinaSite)}}},data:function(){var t=this;return{countdown:0,resendCodeIntervalId:null,phoneValid:!1,loginForm:{phone:"",verifiCode:"",UserAgreement:!1,updateUcode:""},tempCode:"",loginFormRules:{phone:[{required:!0,message:this.$t("PhonePls"),trigger:"blur"},{validator:this.checkPhone,trigger:["blur","change"]}],verifiCode:[{required:!0,message:this.$t("VerifiCodePls"),trigger:"blur"},{min:4,max:8,message:this.$t("VerifiCodeWarning"),trigger:"blur"},{pattern:/^\S*$/,message:this.$t("VerifiCodeWarning"),trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]*$/,message:"VerifiCodeWarning",trigger:"blur"}],UserAgreement:[{required:!0,type:"boolean",validator:function(e,o,n){o?n():n(new Error(t.$t("PleaseTTOSAPP")))}}],updateUcode:[{pattern:/^([0-9a-zA-Z]{6,8})?$/,message:this.$t("login_inviteCode_rule"),trigger:"blur"}]},errorMessagesCode:{20006:"PhoneWarning",20007:"VerifiCodeSendTooFreq",20008:"VerifiCodeSendTooMore"},errorMessagesLogin:{20001:"AccountNoExistent",20004:"AccountDisabled",20005:"PasswordError",20100:"InvalidEmail",20105:"VerifiCodeError"},showInviteCode:!1,captchaToken:""}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isAutoFoucs&&t.$refs.phoneInput.focus(),t.loginForm.updateUcode=Object(d.m)()||"",t.tempCode=Object(d.m)()||"",e.prev=3,e.next=6,t.loadCaptcha();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log("Google Captcha failed to load or execute",e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})))()},methods:m(m(m({},Object(l.b)("user",["setUserInfo","getAccountInfo","setTempToken","setName","updateIsNewUser"])),Object(l.b)("payment",["getPaymentInfo"])),{},{handleLogin:function(){var t=this;this.$refs.loginForm.validate((function(e){if(e){var o={phone_number:"86-"+t.loginForm.phone,captcha:t.loginForm.verifiCode,type:9};t.$emit("loginPhone",m({},o))}}))},handleSendCode:function(){var t=this.loginForm.phone;this.validatePhone(t)&&(this.countdown>0?console.log("正在倒计时"):(clearInterval(this.resendCodeIntervalId),this.startCountdown(),console.log("发送短信"),this.validatePhone(t)?this.requestCode(t):this.$message.error(this.$t("PhoneWarning"))))},requestCode:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.updateCaptcha();case 2:n={phone_number:"86-"+t,g_recaptcha_token:e.captchaToken},Object(c.fb)(n).then((function(t){var code=t.status.code,o=Object.keys(e.errorMessagesCode);if(1e4===code)e.$message.success(e.$t("VerifiCodeSend"));else if(o.includes(code.toString())){if(20007===code)return;var n=e.errorMessagesCode[code];e.$message.error(e.$t(n))}else e.$message.error(e.$t("ServerError"))})).catch((function(t){console.log("发送短信失败",t)}));case 4:case"end":return o.stop()}}),o)})))()},validatePhone:function(t){return/^1[3456789]\d{9}$/.test(t)},startCountdown:function(){var t=this;console.log("发送短信计时"),this.phoneValid=!1,this.countdown=60,this.resendCodeIntervalId=setInterval((function(){if(t.countdown<=0)return t.phoneValid=!0,void(t.countdown=0);t.countdown-=1}),1e3)},inputUCode:function(){var t=this.loginForm.updateUcode;this.loginForm.updateUcode=t.replace(/[^0-9a-zA-Z]/g,""),t.length>=6&&t.toUpperCase()!==this.tempCode.toUpperCase()?this.$emit("update-code",t):0===t.length&&""!==this.tempCode&&this.$emit("update-code",this.tempCode)},checkPhone:function(t,e,o){var n=this.loginForm.phone;this.validatePhone(n)?(!(this.countdown>0)&&(this.phoneValid=!0),o()):(this.phoneValid=!1,o(new Error(this.$t("PhoneWarning"))))},loadCaptcha:function(){return Object(r.a)(regeneratorRuntime.mark((function t(){var e,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(e=window)||void 0===e||!e.grecaptcha||null===(o=window)||void 0===o||null===(o=o.grecaptcha)||void 0===o||!o.enterprise){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,Object(f.w)("https://www.recaptcha.net/recaptcha/enterprise.js?render=".concat("6LfuV2wqAAAAAJ83QW1gae0CmT7GrgzzecQbFpJ5"));case 5:return t.next=7,new Promise((function(t,e){var o,n;null!==(o=window)&&void 0!==o&&o.grecaptcha&&null!==(n=window)&&void 0!==n&&null!==(n=n.grecaptcha)&&void 0!==n&&n.enterprise?grecaptcha.enterprise.ready(t):e(new Error("grecaptcha.enterprise not available"))}));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log("Google Captcha failed to load or execute",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},getToken:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(o=window)&&void 0!==o&&null!==(o=o.grecaptcha)&&void 0!==o&&o.enterprise){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,grecaptcha.enterprise.execute("6LfuV2wqAAAAAJ83QW1gae0CmT7GrgzzecQbFpJ5",{action:"LOGIN"});case 5:t.captchaToken=e.sent,console.log("getToken captchaToken"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error executing recaptcha:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()},updateCaptcha:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var o,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(o=window)||void 0===o||!o.grecaptcha||null===(n=window)||void 0===n||null===(n=n.grecaptcha)||void 0===n||!n.enterprise){e.next=5;break}return e.next=3,t.getToken();case 3:e.next=16;break;case 5:return e.prev=5,e.next=8,t.loadCaptcha();case 8:return e.next=10,t.getToken();case 10:console.log("captchaToken",t.captchaToken),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.log("Google Captcha failed to load or execute",e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})))()}})},y=(o(3151),o(0)),component=Object(y.a)(_,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"phone-login"},[e("el-form",{ref:"loginForm",attrs:{model:t.loginForm,"label-position":"top",rules:t.loginFormRules,"hide-required-asterisk":!0}},[e("el-form-item",{attrs:{label:t.$t("phone"),prop:"phone"}},[e("el-input",{ref:"phoneInput",attrs:{type:"tel",placeholder:t.$t("PhonePls"),maxlength:"11",clearable:""},model:{value:t.loginForm.phone,callback:function(e){t.$set(t.loginForm,"phone","string"==typeof e?e.trim():e)},expression:"loginForm.phone"}},[e("template",{slot:"prepend"},[t._v(" +86 ")])],2)],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("VerifiCode"),prop:"verifiCode"}},[e("el-input",{attrs:{placeholder:t.$t("VerifiCodePls"),maxlength:"8",clearable:""},model:{value:t.loginForm.verifiCode,callback:function(e){t.$set(t.loginForm,"verifiCode","string"==typeof e?e.trim():e)},expression:"loginForm.verifiCode"}},[e("template",{slot:"append"},[e("el-button",{staticClass:"append-time-btn",class:{able:t.phoneValid},attrs:{type:"text",disabled:t.countdown>0},on:{click:t.handleSendCode}},[t._v(t._s(t.countdown>0?"".concat(t.countdown,"s"):t.$t("VerifiCodeGet")))])],1)],2)],1),t._v(" "),e("el-form-item",{staticClass:"invite-form-item",class:{open:t.showInviteCode},attrs:{prop:"updateUcode"}},[e("template",{slot:"label"},[e("div",{staticClass:"invite-label flex justify-between items-center"},[e("span",{staticClass:"label-text",on:{click:function(e){t.showInviteCode=!t.showInviteCode}}},[t._v(t._s(t.$t("login_inviteCode_pls")))]),t._v(" "),e("i",{staticClass:"el-icon-arrow-down",on:{click:function(e){t.showInviteCode=!t.showInviteCode}}})])]),t._v(" "),e("el-input",{attrs:{type:"text",placeholder:t.$t("login_inviteCode_pls"),maxlength:"8",clearable:""},on:{input:t.inputUCode},model:{value:t.loginForm.updateUcode,callback:function(e){t.$set(t.loginForm,"updateUcode","string"==typeof e?e.trim():e)},expression:"loginForm.updateUcode"}})],2),t._v(" "),e("el-row",{staticClass:"m-b-20",attrs:{type:"flex",justify:"space-between"}})],1),t._v(" "),e("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"space-between","align-items":"center"}},[e("el-button",{staticClass:"my-btn",attrs:{type:"primary",size:"small"},on:{click:t.handleLogin}},[t._v(t._s(t.$t("Login"))+"/"+t._s(t.$t("Register")))])],1)],1)}),[],!1,null,"09e51e29",null);e.a=component.exports},1916:function(t,e,o){"use strict";o(29);var n={props:{sendEmailValue:{type:String,default:""}},data:function(){return{resendEmailTimer:2,resendEmailIntervalId:null}},mounted:function(){},methods:{handleResendEmail:function(){var t=this;this.resendEmailTimer=2,this.resendEmailIntervalId=setInterval((function(){t.resendEmailTimer<=0?clearInterval(t.resendEmailIntervalId):t.resendEmailTimer--}),1e3)},sendEmail:function(){this.$emit("send-email")}},destroyed:function(){clearInterval(this.resendEmailIntervalId)}},r=(o(3152),o(0)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center send-email-content"},[e("div",{staticStyle:{color:"#CBD5E1","font-size":"14px","text-align":"left","margin-bottom":"8px"}},[t._v(t._s(t.$t("Email")))]),t._v(" "),e("el-input",{attrs:{disabled:"",value:t.sendEmailValue}}),t._v(" "),e("p",{staticStyle:{"font-size":"14px",color:"#8791A6",margin:"10px auto 60px"}},[t._v("\n    "+t._s(t.$t("AEmailHBSTTEA"))+", "+t._s(t.$t("pleaseGTV"))+"\n  ")]),t._v(" "),e("div",{staticClass:"text-gray",staticStyle:{width:"100%"}},[t._v(t._s(t.$t("EmailNR"))+"\n    "),e("el-button",{attrs:{type:"text"},on:{click:t.sendEmail}},[t._v(t._s(t.$t("SendAgain")))])],1)],1)}),[],!1,null,"0b33dad8",null);e.a=component.exports},1917:function(t,e,o){"use strict";o(110),o(23),o(37);var n=o(21),r=o(42),l=o(114),c={name:"RegisterInput",computed:{getDynamicHref:function(){return function(t){var e="Terms"===t,o=this.$i18n.locale?this.$i18n.locale:"en";return Object(l.a)(o,e,this.$isChinaSite)}}},data:function(){var t=this;return{registerForm:{email:"",password:"",UserAgreement:!1,updateUcode:""},tempCode:"",regFormRules:{email:[{required:!0,message:this.$t("PleaseEAEA"),trigger:"blur"},{type:"email",message:this.$t("PleaseETCEA"),trigger:["blur","change"]}],password:[{required:!0,message:this.$t("PleaseIAP"),trigger:"blur"},{min:8,max:20,message:this.$t("PasswordLMBB"),trigger:"blur"},{pattern:/^\S*$/,message:this.$t("PasswordANATCS"),trigger:"blur"},{pattern:/^(?=.*[A-Z]).+$/,message:this.$t("PasswordUpper"),trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]*$/,message:"密码不能包含汉字",trigger:"blur"}],UserAgreement:[{required:!0,type:"boolean",validator:function(e,o,n){o?n():n(new Error(t.$t("PleaseTTOSAPP")))}}],updateUcode:[{pattern:/^([0-9a-zA-Z]{6,8})?$/,message:this.$t("login_inviteCode_rule"),trigger:"blur"}]}}},mounted:function(){this.registerForm.updateUcode=Object(r.m)()||"",this.tempCode=Object(r.m)()||""},methods:{handleRegisterSendEmail:function(){var t=this;this.$refs.registerForm.validate((function(e){if(e){var o=t.registerForm.email,param={email:o,password:t.registerForm.password};Object(n.db)({email:o}).then((function(e){var code=e.status.code,o=e.data?e.data.status:0;20001===code||3===o?t.$emit("go-to",{pagename:"send-email",type:"register",param:param}):1===o?t.$message.error(t.$t("EmailRegistered")):2===o&&t.$message.error(t.$t("AccountDisabled"))}))}}))},inputUCode:function(){var t=this.registerForm.updateUcode;this.registerForm.updateUcode=t.replace(/[^0-9a-zA-Z]/g,""),t.length<=6&&t.toUpperCase()!==this.tempCode.toUpperCase()?this.$emit("update-code",t):0===t.length&&""!==this.tempCode&&this.$emit("update-code",this.tempCode)}}},d=(o(3153),o(0)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"register-input-content"},[e("el-form",{ref:"registerForm",attrs:{model:t.registerForm,"label-position":"top",rules:t.regFormRules,"hide-required-asterisk":!0},nativeOn:{submit:function(t){t.preventDefault()}}},[e("el-form-item",{attrs:{label:t.$t("Email"),prop:"email"}},[e("el-input",{attrs:{placeholder:t.$t("PleaseEAEA"),maxlength:"64"},model:{value:t.registerForm.email,callback:function(e){t.$set(t.registerForm,"email","string"==typeof e?e.trim():e)},expression:"registerForm.email"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("Password"),prop:"password"}},[e("el-input",{attrs:{type:"password",placeholder:t.$t("PleaseIAP"),maxlength:"20","show-password":""},model:{value:t.registerForm.password,callback:function(e){t.$set(t.registerForm,"password","string"==typeof e?e.trim():e)},expression:"registerForm.password"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("login_inviteCode"),prop:"updateUcode"}},[e("el-input",{attrs:{type:"text",placeholder:t.$t("login_inviteCode_pls"),maxlength:"8",clearable:""},on:{input:t.inputUCode},model:{value:t.registerForm.updateUcode,callback:function(e){t.$set(t.registerForm,"updateUcode","string"==typeof e?e.trim():e)},expression:"registerForm.updateUcode"}})],1),t._v(" "),e("div",{staticClass:"m-b-20"},[e("el-form-item",{attrs:{prop:"UserAgreement"}},[e("el-checkbox",{attrs:{"label-disabled":""},model:{value:t.registerForm.UserAgreement,callback:function(e){t.$set(t.registerForm,"UserAgreement",e)},expression:"registerForm.UserAgreement"}},[e("div",{staticClass:"flex flex-wrap"},[e("span",{staticStyle:{"white-space":"normal","word-break":"break-word"}},[t._v(t._s(t.$t("ByRYATTP")))]),t._v(" "),e("a",{staticStyle:{color:"#2982FF"},attrs:{target:"“_blank”",href:t.getDynamicHref("Terms")}},[t._v(t._s(t.$t("Terms"))+" |")]),t._v(" "),e("a",{staticStyle:{color:"#2982FF"},attrs:{target:"“_blank”",href:t.getDynamicHref("Privacy")}},[t._v(t._s(t.$t("Privacy")))])])])],1)],1)],1),t._v(" "),e("div",{staticClass:"login-actions"},[e("el-button",{staticClass:"my-btn",on:{click:t.handleRegisterSendEmail}},[t._v(t._s(t.$t("SignUpWithEml"))+"\n      ")]),t._v(" "),e("div",{staticClass:"text-gray",staticStyle:{width:"100%"}},[t._v(t._s(t.$t("AlreadyHAA"))+"\n      "),e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.$emit("go-to",{pagename:"login-types"})}}},[t._v(t._s(t.$t("LogIn")))])],1)],1)],1)}),[],!1,null,"3238e432",null);e.a=component.exports},1918:function(t,e,o){"use strict";o(7),o(19),o(4),o(110),o(9),o(11),o(12),o(8),o(6);var n=o(2),r=(o(16),o(10),o(14),o(23),o(120),o(1)),l=o(21),c=o(199),d=o.n(c),h=o(114);function f(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function v(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?f(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var m={props:{sendEmailType:String,accountNum:{type:String,default:""},token:{required:!0,type:String,default:""}},computed:{getDynamicHref:function(){return function(t){var e="Terms"===t,o=this.$i18n.locale?this.$i18n.locale:"en";return Object(h.a)(o,e,this.$isChinaSite)}}},watch:{accountNum:{handler:function(t){this.setPasswordForm.username=t},immediate:!0}},data:function(){var t=this;return{authStep:2,selectedYear:"",selectedMonth:"",selectedDay:"",years:[],months:[],days:[],dateTime:"",setPasswordForm:{username:"",password:"",confirmPassword:"",UserAgreement:!1},rules:{password:[{required:!0,message:this.$t("PleaseIAP"),trigger:"blur"},{min:8,max:20,message:this.$t("PasswordLMBB"),trigger:"blur"},{pattern:/^\S*$/,message:this.$t("PasswordANATCS"),trigger:"blur"},{pattern:/^(?=.*[A-Z]).+$/,message:this.$t("PasswordUpper"),trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]*$/,message:"密码不能包含汉字",trigger:"blur"}],confirmPassword:[{required:!0,message:this.$t("PleaseETPA"),trigger:"blur"},{validator:this.validateConfirmPassword,trigger:"blur"}],UserAgreement:[{required:!0,type:"boolean",validator:function(e,o,n){o?n():n(new Error(t.$t("PleaseTTOSAPP")))}}]}}},mounted:function(){this.setupYears(),this.setupMonths(),this.setupDays(),this.setDateTime(),console.log("sendEmailType","--",this.sendEmailType)},methods:v(v(v({},Object(r.b)("user",["setUserInfo","getAccountInfo","setTempToken","setName","updateIsNewUser"])),Object(r.b)("payment",["getPaymentInfo"])),{},{handleSetPassword:function(){var t=this;1===this.authStep&&"register"===this.sendEmailType?d()().valueOf()-this.dateTime>567648e6?(this.authStep=2,this.$emit("auth-step")):this.$message.error(this.$t("ThisFINATUUTAO")):this.$refs.setPasswordForm.validate((function(e){if(e)if("register"===t.sendEmailType)t.setPasswordForm.password,t.token,t.formatDate(t.dateTime);else if("forget"===t.sendEmailType){var o={password:t.setPasswordForm.password,token:t.token};Object(l.bb)(o).then((function(e){var o=(null==e?void 0:e.status).code,code=void 0===o?0:o;if([20002,20003].includes(code))t.$message.error(t.$t("ResetLinkExpired")),window.location.search="",t.$emit("go-to",{pagename:"email-login"});else if(1e4===code){var n,r=null==e||null===(n=e.data)||void 0===n?void 0:n.account,l=(r.id,r.name,r.email),c=r.create_at,d=r.status,h=r.device_code;if(2===d)return t.$message.error(t.$t("AccountDisabled")),void t.$emit("go-to",{pagename:"email-login"});h&&t.$cookies.set("deviceId",h),1===d||0===d?(t.updateIsNewUser("1"),t.$message.success(t.$t("ResetSuccess")),t.setUserInfo(v({},null==e?void 0:e.data)),t.$logEvent("log_login_accounts",{source:"",mail:l,reg_at:c}),t.$router.push("/home")):3===d&&(t.setTempToken(data.token),t.setName(data.account.name),t.step="final-step")}else t.$message.error(t.$t("ServerError"))})).catch((function(t){}))}}))},validateConfirmPassword:function(t,e,o){e!==this.setPasswordForm.password?o(new Error(this.$t("EnterPswDis"))):o()},setupYears:function(){for(var t=d()(),i=t.year()-100;i<=t.year();i++)this.years.push(i);this.selectedYear=t.year()},setupMonths:function(){for(var i=1;i<=12;i++)this.months.push(i);this.selectedMonth=d()().month()+1},setupDays:function(){for(var t=d()("".concat(this.selectedYear,"-").concat(this.selectedMonth),"YYYY-M").daysInMonth(),i=1;i<=t;i++)this.days.push(i);this.selectedDay=d()().date()},updateDays:function(){this.days=[];for(var t=d()("".concat(this.selectedYear,"-").concat(this.selectedMonth),"YYYY-M").daysInMonth(),i=1;i<=t;i++)this.days.push(i);this.selectedDay>t&&(this.selectedDay=t),this.setDateTime()},setDateTime:function(){var t=this.selectedYear,e=this.selectedMonth<10?"0".concat(this.selectedMonth):this.selectedMonth,o=this.selectedDay<10?"0".concat(this.selectedDay):this.selectedDay,n="".concat(t,"-").concat(e,"-").concat(o);this.dateTime=d()(n).valueOf()},formatDate:function(t){return d()(t).format("YYYY-MM-DD")}})},_=(o(3154),o(0)),component=Object(_.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"send-email-content"},[1===t.authStep&&"register"===t.sendEmailType?e("div",[e("div",{staticStyle:{color:"#CBD5E1","font-size":"14px","text-align":"left","margin-bottom":"8px"}},[t._v(t._s(t.$t("Authentication")))]),t._v(" "),e("el-row",{staticClass:"selects",attrs:{type:"flex",gutter:5}},[e("el-col",{attrs:{span:8}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedYear,expression:"selectedYear"}],staticClass:"my-select",on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedYear=e.target.multiple?o:o[0]},t.updateDays]}},t._l(t.years,(function(o){return e("option",{domProps:{value:o}},[t._v(t._s(o))])})),0)]),t._v(" "),e("el-col",{attrs:{span:8}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedMonth,expression:"selectedMonth"}],staticClass:"my-select",on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedMonth=e.target.multiple?o:o[0]},t.updateDays]}},t._l(t.months,(function(o){return e("option",{domProps:{value:o}},[t._v(t._s(o))])})),0)]),t._v(" "),e("el-col",{attrs:{span:8}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDay,expression:"selectedDay"}],staticClass:"my-select",on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedDay=e.target.multiple?o:o[0]},t.setDateTime]}},t._l(t.days,(function(o){return e("option",{domProps:{value:o}},[t._v(t._s(o))])})),0)])],1),t._v(" "),e("div",{staticStyle:{color:"#747f91","font-size":"12px","text-align":"left","margin-top":"4px"}},[t._v(t._s(t.$t("PleaseCYB")))])],1):t._e(),t._v(" "),2===t.authStep||"forget"===t.sendEmailType?e("el-form",{ref:"setPasswordForm",staticStyle:{"margin-bottom":"20px"},attrs:{model:t.setPasswordForm,"label-position":"top",rules:t.rules,"hide-required-asterisk":!0}},["register"===t.sendEmailType?e("el-form-item",{attrs:{label:t.$t("UserName"),prop:"username"}},[e("el-input",{attrs:{type:"text",disabled:""},model:{value:t.setPasswordForm.username,callback:function(e){t.$set(t.setPasswordForm,"username","string"==typeof e?e.trim():e)},expression:"setPasswordForm.username"}})],1):t._e(),t._v(" "),e("el-form-item",{attrs:{label:t.$t("Password"),prop:"password"}},[e("el-input",{attrs:{type:"password",maxlength:"20","show-password":""},model:{value:t.setPasswordForm.password,callback:function(e){t.$set(t.setPasswordForm,"password","string"==typeof e?e.trim():e)},expression:"setPasswordForm.password"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("PasswordAgain"),prop:"confirmPassword"}},[e("el-input",{attrs:{type:"password",maxlength:"20","show-password":""},model:{value:t.setPasswordForm.confirmPassword,callback:function(e){t.$set(t.setPasswordForm,"confirmPassword","string"==typeof e?e.trim():e)},expression:"setPasswordForm.confirmPassword"}})],1),t._v(" "),"register"===t.sendEmailType?e("el-form-item",{attrs:{prop:"UserAgreement"}},[e("el-checkbox",{attrs:{"label-disabled":""},model:{value:t.setPasswordForm.UserAgreement,callback:function(e){t.$set(t.setPasswordForm,"UserAgreement",e)},expression:"setPasswordForm.UserAgreement"}},[e("div",{staticClass:"flex flex-wrap"},[e("span",{staticStyle:{"white-space":"normal","word-break":"break-word"}},[t._v(t._s(t.$t("ByRYATTP")))]),t._v(" "),e("a",{staticStyle:{color:"#2982FF"},attrs:{target:"“_blank”",href:t.getDynamicHref("Terms")}},[t._v(t._s(t.$t("Terms"))+" | ")]),t._v(" "),e("a",{staticStyle:{color:"#2982FF"},attrs:{target:"“_blank”",href:t.getDynamicHref("Privacy")}},[t._v(t._s(t.$t("Privacy")))])])])],1):t._e()],1):t._e(),t._v(" "),e("div",{staticClass:"login-actions"},[e("el-button",{staticClass:"my-btn",attrs:{type:"primary",size:"small"},on:{click:t.handleSetPassword}},[t._v(t._s(t.$t("Submit")))])],1)],1)}),[],!1,null,"66c99406",null);e.a=component.exports},1919:function(t,e,o){"use strict";o(14),o(9),o(11),o(12);var n=o(15),r=o(3),l=o(2),c=(o(20),o(7),o(32),o(10),o(19),o(8),o(4),o(18),o(71),o(6),o(13),o(21)),d=o(1),h=o(77),f=o(42),v=o(5),m=o(184);function _(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function y(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?_(Object(o),!0).forEach((function(e){Object(l.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):_(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var w={name:"TagView",props:{redirect:{type:String,default:""}},data:function(){return{replaceImageType:v.x,inviteType:"",tagLoading:!1,formData:{name:this.name||"",tags:[],language:"en"},rules:{name:[{required:!0,pattern:/^[^~!@$%^&*()_+]+$/,message:this.$t("UserNameRule"),trigger:"blur"}]},tags:[],officialTagsLocal:[],collectTagsLocal:[],mytags:[],codeMap:{10405:"code_10405",10407:"code_10407",10408:"code_10408",20302:"UserNameRepeat"},inActive:!1,showBgImg:!1}},computed:y(y(y({},Object(d.c)("user",["officialTags"])),Object(d.e)("user",["tempToken","name","token"])),{},{zhLang:function(){return this.$i18n.locale.startsWith("zh")}}),mounted:function(){var t=this;(this.token||this.tempToken)&&this.getHotTag(),this.token||this.tempToken?(this.formData.name=this.name||JSON.parse(localStorage.getItem("userInfo")).name||"",this.inviteType=localStorage.getItem("inviteType")):(console.error("no token, unable to active account"),this.$emit("go-to",{pagename:"login-types"}),this.$router.push({path:"/home"})),this.$nextTick((function(){var e,o=(null===(e=t.$refs)||void 0===e||null===(e=e.tagViewContent)||void 0===e||null===(e=e.$el)||void 0===e?void 0:e.clientHeight)||700;console.log("height",o),t.showBgImg=o>620}))},methods:y(y(y({},Object(d.b)("user",["setUserInfo","getOfficialTags"])),Object(d.b)("payment",["getPaymentInfo"])),{},{getHotTag:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.tagLoading=!0,e.prev=1,e.next=4,t.getOfficialTags();case 4:t.tagLoading=!1,t.officialTagsLocal=t.officialTags||[],t.officialTagsLocal.length&&t.officialTagsLocal.forEach((function(t){t.selected=!1})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t.tagLoading=!1,console.log("error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},selectTag:function(t,e){this.collectTagsLocal.length>20&&!t.selected?this.$message.warning(this.$t("error_code_40312")):(t.selected=!t.selected,t.selected?this.collectAdd(t):this.collectRemove(t),this.$set(this.officialTagsLocal,e,t))},handleClick:function(){var t=this;this.$refs.formData.validate((function(e){if(!e)return console.log("error submit!!"),!1;t.formData.tags=Object(n.a)(t.collectTagsLocal),console.log("this.formData",t.formData),t.submit(y({},t.formData))}))},submit:function(t){var e=this;if(!this.inActive){this.inActive=!0;var o=t.name,n=t.tags.map((function(t){return{id:t.id,name:t.name}})),param={token:this.tempToken||this.token,lang:this.$i18n.locale,tags:n,name:o};Object(c.a)(param).then((function(t){var o,code=null==t||null===(o=t.status)||void 0===o?void 0:o.code;if(Object.keys(e.codeMap).includes(String(code)))e.$message.warning(e.$t(e.codeMap[String(code)]));else if(1e4===code){var n=t.data.account,r=n.email,l=n.create_at;Object(f.q)();try{Object(m.c)(t.data.account)}catch(t){console.log("error",t)}e.$cookies.set("T",t.data.token,{maxAge:5184e3,path:"/"}),e.setUserInfo(y({},t.data)),e.$logEvent("web_complete_registration"),e.$logEvent("log_registers",{source:localStorage.getItem("inviteCode"),mail:r,reg_at:l}),e.$logEvent("log_login_accounts",{source:localStorage.getItem("inviteCode"),mail:r,reg_at:l}),Object(h.c)(),e.getPaymentInfo(),e.$EventBus.$emit("showActivationDialog"),e.gotoPath(),e.$emit("close")}else console.error("激活异常"),e.gotoPath(),e.$emit("go-to",{pagename:"login-types"})})).finally((function(){e.inActive=!1}));try{localStorage.removeItem("inviteType")}catch(t){}}},gotoPath:function(){"/"!==this.redirect&&this.redirect?this.$router.push(this.redirect):this.$EventBus.$emit("updateHomeTag")},collectAdd:function(t){this.collectTagsLocal.find((function(e){return e.id===t.id}))||this.collectTagsLocal.push(t)},collectRemove:function(t){this.collectTagsLocal=this.collectTagsLocal.filter((function(e){return e.id!==t.id})),this.officialTagsLocal.forEach((function(e){e.id===t.id&&(e.selected=!1)}))},handleImgError:function(img){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sysTagImg";console.log("imgError",img,img.cover);var e=t+img.id;this.$refs[e].src=img.cover}})},C=w,k=(o(3155),o(0)),component=Object(k.a)(C,(function(){var t=this,e=t._self._c;return e("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.tagLoading,expression:"tagLoading"}],ref:"tagViewContent",staticClass:"tag-view-content",attrs:{gutter:15}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showBgImg,expression:"showBgImg"}],staticClass:"top-background"},[e("img",{staticClass:"background-image",attrs:{src:o(751),alt:"background"}})]),t._v(" "),e("div",{staticClass:"introduce"},[e("div",{staticClass:"top-start"},[t._v(t._s(t.$t("getStarted")))]),t._v(" "),e("div",{staticClass:"bottom-info"},[t._v(t._s(t.$t("comoleteInformation")))])]),t._v(" "),e("el-form",{ref:"formData",staticClass:"tagView-form",attrs:{model:t.formData,rules:t.rules,size:"medium","label-width":"100px","label-position":"top"},nativeOn:{submit:function(t){t.preventDefault()}}},[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:t.$t("Nickname"),prop:"name"}},[e("el-input",{attrs:{placeholder:t.$t("EnterNickname"),maxlength:"64"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),e("el-col",{staticStyle:{"margin-top":"25px"},attrs:{span:24}},[e("el-form-item",{attrs:{label:t.$t("InterestTag"),prop:"field103"}},[e("div",{staticClass:"flex flex-wrap interestTag-wrap"},t._l(t.officialTagsLocal,(function(o,i){return e("el-button",{key:"_tag".concat(i),staticClass:"tag-btn select-btn flex items-center inline-flex",class:{"zh-width":t.zhLang,selected:o.selected},attrs:{round:"",size:"mini"},on:{click:function(e){return t.selectTag(o,i)}}},[e("div",{staticClass:"content flex items-center"},[e("div",{staticClass:"tag-img"},[o.cover?e("img",{ref:"sysTagImg".concat(o.id),refInFor:!0,staticClass:"tag-img",attrs:{src:t.replaceImageType(o.cover,"low")},on:{error:function(e){return t.handleImgError(o,"sysTagImg")}}}):t._e()]),t._v(" "),e("span",{attrs:{title:t.$t(o.name)}},[t._v(t._s(t.$t(o.name)))])])])})),1)])],1),t._v(" "),e("el-col",{attrs:{span:24}},[e("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.inActive,expression:"inActive"}],staticClass:"my-btn",attrs:{type:"primary"},on:{click:t.handleClick}},[t._v(t._s(t.$t("StartUseSeeart")))])],1)],1)],1)}),[],!1,null,"b861019e",null);e.a=component.exports},1920:function(t,e,o){"use strict";var n=o(3),r=(o(288),o(44),o(153)),l=o.n(r),c=(o(20),o(29),o(708)),d={name:"GoogleLogin",data:function(){return{googleLoad:!1,loadingGoogle:null,client:null,timeCode:null}},created:function(){Object(c.b)(this.initGoogle)},beforeDestroy:function(){clearTimeout(this.timeCode)},methods:{clickGoogle:function(){var t=this,e=this.$refs.googleButton;this.googleLoad?(this.loadingGoogle=l.a.service({fullscreen:!0}),this.client.requestAccessToken()):this.$nextTick((function(){e.classList.add("shake-horizontal"),t.timeCode=setTimeout((function(){e.classList.remove("shake-horizontal")}),1e3)}))},initGoogle:function(){this.googleLoad=!0;var t=this,e="220335438906-n0bj5hqf2rhdkqdl67m5dtrv53b9h74g.apps.googleusercontent.com";t.client=window.google.accounts.oauth2.initTokenClient({client_id:e,scope:"https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email openid",ux_mode:"popup",callback:function(e){t.googleSignIn(e)},error_callback:function(e){t.googleSignOut(e)}})},googleSignIn:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:console.log("用户登录数据=>",t),n=t.access_token,o.prev=2,e.$emit("loginGoogle",{token:n,type:2}),e.loadingGoogle.close(),o.next=11;break;case 7:throw o.prev=7,o.t0=o.catch(2),e.loadingGoogle.close(),o.t0;case 11:case"end":return o.stop()}}),o,null,[[2,7]])})))()},googleSignOut:function(t){console.log("用户错误数据=>",t),this.loadingGoogle.close()}}},h=(o(3156),o(0)),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"google-login"},[e("button",{ref:"googleButton",staticClass:"btn",on:{click:t.clickGoogle}},[e("svg-icon",{attrs:{"icon-class":"google"}}),t._v(" "),e("span",[t._v("Google")])],1)])}),[],!1,null,"d5c33220",null);e.a=component.exports},1921:function(t,e,o){"use strict";o(9),o(7),o(11),o(12),o(8),o(4),o(6);var n=o(2),r=(o(288),o(44),o(153)),l=o.n(r),c=(o(29),o(708));function d(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}var h={name:"FacebookLogin",data:function(){return{facebookLoad:!1,loadingFacebook:null,fbSignInParams:{scope:"email,user_likes",return_scopes:!0},timeCode:null}},created:function(){Object(c.a)(this.initFacebook)},beforeDestroy:function(){clearTimeout(this.timeCode)},methods:{clickFB:function(){var t=this,e=this.$refs.fbButton;this.facebookLoad?this.loadingFacebook=l.a.service({fullscreen:!0}):this.$nextTick((function(){e.classList.add("shake-horizontal"),t.timeCode=setTimeout((function(){e.classList.remove("shake-horizontal")}),1e3)}))},initFacebook:function(){this.facebookLoad=!0},onFBSignInSuccess:function(t){console.log("onFBSignInSuccess response",function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?d(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},t)),t.authResponse&&t.authResponse.accessToken&&this.$emit("loginFacebook",{token:t.authResponse.accessToken,type:3}),this.loadingFacebook.close()},onFBSignInError:function(t){console.log("fb- error",t),this.loadingFacebook.close()}}},f=h,v=(o(3157),o(0)),component=Object(v.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"facebook-login"},[e("button",{ref:"fbButton",staticClass:"btn",on:{click:t.clickFB}},[e("svg-icon",{attrs:{"icon-class":"facebook"}}),t._v(" "),e("span",[t._v("Facebook")]),t._v(" "),t.facebookLoad?e("fb-signin-button",{attrs:{params:t.fbSignInParams},on:{success:t.onFBSignInSuccess,error:t.onFBSignInError}}):t._e()],1)])}),[],!1,null,"041d795e",null);e.a=component.exports},1922:function(t,e,o){"use strict";var n=o(114),r={data:function(){return{}},computed:{getDynamicHref:function(){return function(t){var e="Terms"===t,o=this.$i18n.locale?this.$i18n.locale:"en";return Object(n.a)(o,e,this.$isChinaSite)}}}},l=(o(3158),o(0)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("el-row",{staticClass:"m-b-20",attrs:{type:"flex",justify:"space-between"}},[e("el-col",[e("span",{staticClass:"txt"},[t._v(t._s(t.$t("registerTxt")))]),t._v(" "),e("a",{staticClass:"color",attrs:{target:"“_blank”",href:t.getDynamicHref("Terms")}},[t._v("\n          "+t._s("《"+t.$t("term")+"》")+"\n      ")]),t._v(" "),e("span",{staticClass:"color"},[t._v("|")]),t._v(" "),e("a",{staticClass:"color",attrs:{target:"“_blank”",href:t.getDynamicHref("Privacy")}},[t._v("\n        "+t._s("《"+t.$t("agreement")+"》")+"\n      ")])])],1)],1)}),[],!1,null,"a2dca870",null);e.a=component.exports},1923:function(t,e,o){"use strict";var n={},r=(o(2842),o(0)),component=Object(r.a)(n,(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",{staticClass:"ball-clip-rotate-multiple"},[t("div"),this._v(" "),t("div")])}],!1,null,"4823f608",null);e.a=component.exports},1925:function(t,e,o){"use strict";o(14),o(9),o(7),o(11),o(12),o(8);var n=o(2),r=(o(10),o(70),o(19),o(4),o(23),o(18),o(50),o(118),o(37),o(6),o(48),o(142),o(143),o(112),o(1)),l=o(33),c=o(56),d=o(5),h=o(105),f=o(525),v=o(82),m=o(114),_=o(64),y=o(39);function w(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function C(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?w(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):w(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var k={props:["modelInfo"],mixins:[l.a],components:{CollectPopover:c.a,SwipeableList:_.a,modelDownload:f.a,modelPayNum:v.a},data:function(){return{formatNumberForeign:d.i,getTimeDiff2:y.d,replaceImageType:d.x,defShow:-1,showImg:{url:"",id:""},imgScroll:null,itemShow:!1}},watch:{modelInfo:{handler:function(t){console.log(t),this.setImg()},deep:!0}},computed:C(C(C({},Object(r.e)("user",["userInfo"])),Object(r.c)("user",["isCompanyAccount"])),{},{isOwner:function(){var t,e=this.modelInfo.author;return(null===(t=this.userInfo)||void 0===t?void 0:t.id)===(null==e?void 0:e.id)},noCoverText:function(){return this.isOwner?this.isCompanyAccount?this.$t("PleaseSetCover"):this.$t("EmptyBannerModelText"):this.$t("EmptyBannerText")},toolsMenu:function(){return[{key:"REPORT",label:"Report"}]},getDynamicHref:function(){return function(t){var e="Terms"===t,o=this.$i18n.locale?this.$i18n.locale:"en";return Object(m.a)(o,e,this.$isChinaSite)}}}),created:function(){},methods:{changeItemShow:function(t){this.itemShow=t.show,this.itemShowId=t.id},setImg:function(){var t=this;this.modelInfo.samples.length>0?(this.defShow=1,this.showImg.url=this.modelInfo.samples[0].url,this.showImg.id=this.modelInfo.samples[0].id,this.$nextTick((function(){t.modelInfo.samples.length<6?t.$refs.imglistBox.style.width="100%":t.$refs.imglistBox.style.width=null})),this.modelInfo.samples.forEach((function(element){1!=element.nsfw&&element.url||(element.url=o(171))}))):this.defShow=2},selectImg:function(t,e,o){var n=this;this.showImg.url=t.url,this.showImg.id=t.id,o||this.$refs.carousel.setActiveItem(e),this.$nextTick((function(){n.$refs.imgList.forEach((function(t,e){t.classList.contains("imgActivate")&&(n.imgScroll={value:t.getBoundingClientRect().left,idx:e})}))}))},otherUser:function(t){var path="/user/"+encodeURIComponent(t.author.id);this.userInfo.id==t.author.id&&(path="/personal"),this.$router.push(path)},handleMark:function(){this.isLoggedIn?this.setCollectData(this.modelInfo).includes("collect_selected")&&(this.$refs.collectPopover.visible=!1,this.setCollect(this.modelInfo,"model")):this.$EventBus.$emit("openLoginDialog")},imgHandleClick:function(t,e){if(this.isLoggedIn){if("收藏"===e)this.setCollect(t,"artwork")}else this.$EventBus.$emit("openLoginDialog")},handleClick:function(t){this.isLoggedIn?this.setCollect(this.modelInfo,"model"):this.$EventBus.$emit("openLoginDialog")},isLink:function(t){try{return new URL(t),/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i.test(t)}catch(t){return!1}},showLink:function(t){var e=t;if(e){var o=e.match(/([^:/?#]+)(?:\.[^:/?#]+)+(?:[/?#]|$)/i);if(o){var n=o[1];return n=(n=n.replace(/^www\./i,"")).replace(/\.(com|cn|org|net|edu|gov|jp|uk|au|de|fr|kr)$/i,"")}return e}return"-"},initials:function(t){return t.split(" ").map((function(t){return t[0]})).join("").toUpperCase()},toolsEvent:function(t){this.reportModel()},reportModel:function(){var t=this;Object(h.e)({id:this.modelInfo.id}).then((function(e){t.$message.success(t.$t("ReportSuccess"))}))}}},O=(o(2995),o(0)),component=Object(O.a)(k,(function(){var t,e,o=this,n=o._self._c;return n("div",{staticClass:"modelCnt"},[n("div",{staticClass:"modelName"},[o.modelInfo.is_agency_fee?n("span",{staticClass:"payNum"},[n("modelPayNum",{attrs:{number:o.modelInfo.agency_fee}})],1):o._e(),o._v(" "),n("div",{staticClass:"text",style:{textIndent:o.modelInfo.is_agency_fee?"85px":null},attrs:{title:o.modelInfo.name}},[o._v("\n      "+o._s(o.modelInfo.name)+"\n    ")])]),o._v(" "),n("div",{staticClass:"modelMain"},[n("div",{staticClass:"mainLeft"},[n("div",{staticClass:"imgMain"},[2==o.defShow?n("div",{staticClass:"imgDef"},[o._v(o._s(o.noCoverText))]):o._e(),o._v(" "),1==o.defShow?n("el-carousel",{ref:"carousel",attrs:{height:"642px",autoplay:!1},on:{change:function(t){var e;return o.selectImg(null===(e=o.modelInfo)||void 0===e?void 0:e.samples[t],t,!0)}}},o._l(null===(t=o.modelInfo)||void 0===t?void 0:t.samples,(function(t,e){return n("el-carousel-item",{key:t.url+e},[n("div",{staticClass:"imgBox"},[n("div",{staticClass:"imgBg",style:{backgroundImage:"url("+o.replaceImageType(t.url,"low")+")"}}),o._v(" "),n("div",{staticClass:"elimg",on:{click:function(e){return e.preventDefault(),o.handleDetail(e,t)}}},[n("img",{attrs:{src:o.replaceImageType(t.url,"low"),alt:""}}),o._v(" "),o.modelInfo.author&&o.modelInfo.author.id?n("div",{staticClass:"waterfall-hover-model"},[n("div",{staticClass:"hoverTop"},[n("span",[o._v("/upscale")])]),o._v(" "),n("div",{staticClass:"hoverMiddle"},[o._v("\n                    "+o._s(t.meta.prompt)+"\n                  ")]),o._v(" "),n("div",{staticClass:"hoverBottom"},[n("div",{staticClass:"personal-info",on:{click:function(t){return o.otherUser(o.modelInfo)}}},[o.modelInfo.author.head?n("img",{staticClass:"avatorClass",attrs:{decoding:"async",loading:"lazy",src:o.modelInfo.author.head,alt:""}}):n("div",{staticClass:"avatorClass"},[o._v("\n                        "+o._s(o.initials(o.modelInfo.author.name||o.modelInfo.author.id))+"\n                      ")]),o._v(" "),n("span",[o._v(o._s(o.modelInfo.author.name||o.modelInfo.author.id))])]),o._v(" "),n("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t.id&&1==o.modelInfo.status?n("div",{staticClass:"login-waterFall-btn-icon",on:{click:function(e){return o.imgHandleClick(t,"收藏")}}},[n("i",{staticClass:"iconfont",class:o.setCollectData(t)})]):o._e()])])]):o._e()])])])})),1):o._e()],1),o._v(" "),n("SwipeableList",{attrs:{scrollChange:o.imgScroll,iconBntWidth:24,top:"23px"}},[n("div",{ref:"imglistBox",staticClass:"imgNav"},o._l(null===(e=o.modelInfo)||void 0===e?void 0:e.samples,(function(t,e){var r;return n("div",{key:e,ref:"imgList",refInFor:!0,staticClass:"imgItem",class:{imgActivate:(null===(r=o.showImg)||void 0===r?void 0:r.id)==t.id},on:{click:function(n){return o.selectImg(t,e)}}},[n("div",[n("img",{attrs:{src:o.replaceImageType(t.url,"low"),alt:""}})])])})),0)])],1),o._v(" "),n("div",{staticClass:"mainRight"},[n("div",{staticClass:"rightTitle"},[o._v(o._s(o.$t("ModelParameters")))]),o._v(" "),n("div",{staticClass:"modelInfos"},[n("div",{staticClass:"infoItem"},[n("div",{staticClass:"keys"},[o._v(o._s(o.$t("ModelSource"))+":")]),o._v(" "),n("div",{staticClass:"vals"},[o.isLink(o.modelInfo.refer)?n("a",{staticClass:"link",attrs:{href:o.modelInfo.refer,target:"_blank"}},[o._v("\n              "+o._s(o.showLink(o.modelInfo.refer))+"\n            ")]):n("span",[o._v(o._s(o.modelInfo.refer||"-"))])])]),o._v(" "),n("div",{staticClass:"infoItem"},[n("div",{staticClass:"keys"},[o._v(o._s(o.$t("Type"))+":")]),o._v(" "),n("div",{staticClass:"vals"},[o.modelInfo.type?n("span",{staticClass:"tag-item"},[o._v(o._s(o.modelInfo.type))]):o._e()])]),o._v(" "),n("div",{staticClass:"infoItem"},[n("div",{staticClass:"keys"},[o._v(o._s(o.$t("UsageCount"))+":")]),o._v(" "),n("div",{staticClass:"vals"},[o._v(o._s(o.modelInfo.stat?o.modelInfo.stat.num_of_task:0))])]),o._v(" "),n("div",{staticClass:"infoItem"},[n("div",{staticClass:"keys"},[o._v(o._s(o.$t("Versions"))+":")]),o._v(" "),n("div",{staticClass:"vals"},[o._v(o._s(o.modelInfo.version_name))])]),o._v(" "),n("div",{staticClass:"infoItem"},[n("div",{staticClass:"keys"},[o._v(o._s(o.$t("BaseModel"))+":")]),o._v(" "),n("div",{staticClass:"vals"},[o._v(o._s(o.modelInfo.base_model))])]),o._v(" "),n("div",{staticClass:"infoItem"},[n("div",{staticClass:"keys"},[o._v(o._s(o.$t("TriggerWords"))+":")]),o._v(" "),n("div",{staticClass:"vals"},o._l(o.modelInfo.trained_words,(function(t,e){return n("span",{key:e,staticClass:"tag-item"},[o._v(o._s(t))])})),0)])]),o._v(" "),o.modelInfo.refer?o._e():n("div",{staticClass:"rightTitle",staticStyle:{"margin-top":"20px"}},[o._v(o._s(o.$t("ModelLicenseScope")))]),o._v(" "),o.modelInfo.refer?o._e():n("div",{staticClass:"authority"},[n("div",[n("i",{class:1==o.modelInfo.commercial?"el-icon-check":"el-icon-close",style:{color:1==o.modelInfo.commercial?"#22D19D":"#FF3D3D"}}),o._v(" "),n("span",[o._v(o._s(o.$t("commercialSupport")))])]),o._v(" "),n("div",[n("i",{class:1==o.modelInfo.mix?"el-icon-check":"el-icon-close",style:{color:1==o.modelInfo.mix?"#22D19D":"#FF3D3D"}}),o._v(" "),n("span",[o._v(o._s(o.$t("modelMerge")))])])])])])])}),[],!1,null,"4f866e4a",null);e.a=component.exports},206:function(t,e,o){"use strict";o(14),o(9),o(11),o(12),o(8),o(6);var n=o(2),r=(o(16),o(7),o(4),o(23),o(125),o(37),o(5)),l=o(1);function c(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function d(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var h={name:"ShareDialog",props:{type:{type:String,default:""},workId:{type:String,default:""},showDownload:{type:Boolean,default:!0}},data:function(){return{saveImg:r.z,copyTextToClipboard:r.d,isShowDialog:!1,shareUrl:"",posterImage:"",shareText:"",shareHashTag:"SeaArt,AIart,AIイラスト,stablediffusion",pageName:"work_detail_page",filename:"share",config:[{name:"Facebook",icon:"icon-facebook",color:"#F7FBFA",bgColor:"#1D93FF"},{name:"X",icon:"icon-X1",color:"#000000",bgColor:"#FFFFFF"},{name:"WhatsApp",icon:"icon-whatsapp",color:"#FFFFFF",bgColor:"#5CC767"},{name:"Download",icon:"icon-Download",color:"#000000",bgColor:"#FFFFFF"}]}},computed:d(d({},Object(l.c)("user",["isLoggedIn"])),{},{getPosterBgStyle:function(){return{backgroundImage:"url("+this.posterImage+")"}},getIconStyle:function(){return function(t){return{color:t.color,backgroundColor:t.bgColor}}},connectConfig:function(){return this.$isChinaSite?this.config.filter((function(t){return"Download"===t.name})):this.config}}),methods:{show:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.shareText=this.$t("HomeTitle"),this.isShowDialog=!0,this.shareUrl=t,this.posterImage=this.videoToImage(e),this.filename=o||this.filename,this.pageName=n||this.pageName},close:function(){this.isShowDialog=!1},resetData:function(){this.shareUrl="",this.posterImage=""},handleCopyLink:function(){this.$logEvent("log_actions",{operation:"click_share",behavior_info:"on_"+this.pageName,behavior_info_sub:"click_copyLink"}),this.copyTextToClipboard(this.shareUrl),this.$message.success(this.$t("CopiedURLToClipboard"))},downloadImg:function(){this.isLoggedIn?this.posterImage&&this.saveImg(this.posterImage,this.filename):this.$EventBus.$emit("openLoginDialog")},handleClick:function(t){switch(this.$logEvent("log_actions",{operation:"click_share",behavior_info:"on_"+this.pageName,behavior_info_sub:"click_".concat(t.name)}),t.name){case"Facebook":case"X":case"WhatsApp":this.handleShare(t.name);break;case"Download":this.downloadImg()}},handleShare:function(t){var e={Facebook:"https://www.facebook.com/sharer/sharer.php?u=",X:"https://twitter.com/intent/tweet?",WhatsApp:"https://web.whatsapp.com/send?"};switch(t){case"Facebook":window.open(e[t]+encodeURIComponent(this.shareUrl),"_blank");break;case"X":window.open(e[t]+"url="+encodeURIComponent(this.shareUrl)+"&text="+encodeURIComponent(this.shareText)+"&hashtags="+encodeURIComponent(this.shareHashTag),"_blank");break;case"WhatsApp":var text=encodeURIComponent("".concat(this.shareText," ").concat(this.shareUrl));window.open(e[t]+"text="+text,"_blank")}},videoToImage:function(t){return t.endsWith(".mp4")?t.replace(".mp4","_low.webp"):t}}},f=h,v=(o(2307),o(0)),component=Object(v.a)(f,(function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"share-dialog custom-dialog",attrs:{visible:t.isShowDialog,"append-to-body":"","show-close":!1,"destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(e){t.isShowDialog=e},closed:t.resetData}},[e("div",{staticClass:"close-icon",on:{click:t.close}},[e("i",{staticClass:"el-icon-close"})]),t._v(" "),e("div",{staticClass:"container",attrs:{id:"capture"}},[e("div",{staticClass:"top"},[e("div",{staticClass:"slogan"},[t._v(" "+t._s(t.$t("shareDlgTitle")))]),t._v(" "),e("div",{staticClass:"desc"},[t._v("\n        "+t._s(t.$t("shareDlgTitleSub"))+"\n      ")])]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"poster",style:t.getPosterBgStyle}),t._v(" "),e("div",{staticClass:"share-networks"},t._l(t.connectConfig,(function(o,n){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.showDownload||"Download"!==o.name,expression:"showDownload || item.name !== 'Download'"}],key:"network_"+n,staticClass:"network",on:{click:function(e){return t.handleClick(o)}}},[e("i",{class:"iconfont icon-"+o.icon,style:t.getIconStyle(o)}),t._v(" "),e("span",[t._v(t._s(o.name))])])})),0)]),t._v(" "),e("div",{staticClass:"bottom"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("workLink")))]),t._v(" "),e("div",{staticClass:"link-holder"},[e("el-input",{staticClass:"link",attrs:{readonly:""},model:{value:t.shareUrl,callback:function(e){t.shareUrl=e},expression:"shareUrl"}}),t._v(" "),e("div",{staticClass:"btn",on:{click:t.handleCopyLink}},[t._v("\n          "+t._s(t.$t("copy_hold",{txt:t.$t("workLink")}))+"\n        ")])],1)])])])}),[],!1,null,"0d5fc379",null);e.a=component.exports},208:function(t,e,o){"use strict";var n={name:"LoadingStatus",props:{bgColor:{type:String,default:"#0A0B17"}}},r=(o(2350),o(0)),component=Object(r.a)(n,(function(){var t=this._self._c;return t("div",{staticClass:"loading-status",style:{backgroundColor:this.bgColor}},[t("img",{staticClass:"loading-gif",attrs:{src:o(627),alt:"loading image"}})])}),[],!1,null,"79da4069",null);e.a=component.exports},2116:function(t,e,o){"use strict";o(911)},2117:function(t,e,o){"use strict";o(912)},2118:function(t,e,o){"use strict";o(913)},2119:function(t,e,o){"use strict";o(914)},2120:function(t,e,o){"use strict";o(915)},2128:function(t,e,o){"use strict";o(924)},2258:function(t,e,o){"use strict";o(963)},2305:function(t,e,o){"use strict";o(972)},2307:function(t,e,o){"use strict";o(974)},2315:function(t,e,o){"use strict";o(982)},2329:function(t,e,o){"use strict";o(996)},2341:function(t,e,o){"use strict";o(1008)},2344:function(t,e,o){"use strict";o(1011)},2350:function(t,e,o){"use strict";o(1017)},2353:function(t,e,o){"use strict";o(1020)},2359:function(t,e,o){"use strict";o(1026)},2382:function(t,e,o){"use strict";o(1048)},2385:function(t,e,o){"use strict";o(1051)},2386:function(t,e,o){"use strict";o(1052)},2402:function(t,e,o){"use strict";o(1068)},2408:function(t,e,o){"use strict";o(1075)},2412:function(t,e,o){"use strict";o(1079)},2417:function(t,e,o){"use strict";o(1084)},2418:function(t,e,o){"use strict";o(1085)},2420:function(t,e,o){"use strict";o(1087)},2421:function(t,e,o){"use strict";o(1088)},2453:function(t,e,o){"use strict";o(1121)},2480:function(t,e,o){"use strict";o(1146)},2481:function(t,e,o){"use strict";o(1147)},2482:function(t,e,o){"use strict";o(1148)},2483:function(t,e,o){"use strict";o(1149)},2484:function(t,e,o){"use strict";o(1150)},2485:function(t,e,o){"use strict";o(1151)},2491:function(t,e,o){"use strict";o(1156)},2492:function(t,e,o){"use strict";o(1157)},2493:function(t,e,o){"use strict";o(1158)},2494:function(t,e,o){"use strict";o(1159)},2495:function(t,e,o){"use strict";o(1160)},2497:function(t,e,o){"use strict";o(1162)},2498:function(t,e,o){"use strict";o(1163)},2499:function(t,e,o){"use strict";o(1164)},2500:function(t,e,o){"use strict";o(1165)},2501:function(t,e,o){"use strict";o(1166)},2502:function(t,e,o){"use strict";o(1167)},2503:function(t,e,o){"use strict";o(1168)},2504:function(t,e,o){"use strict";o(1169)},2517:function(t,e,o){"use strict";o(1182)},2522:function(t,e,o){"use strict";o(1187)},2528:function(t,e,o){"use strict";o(1193)},2529:function(t,e,o){"use strict";o(1194)},2540:function(t,e,o){"use strict";o(1204)},2541:function(t,e,o){"use strict";o(1205)},2542:function(t,e,o){"use strict";o(1206)},2543:function(t,e,o){"use strict";o(1207)},260:function(t,e,o){"use strict";o(9),o(7),o(11),o(12),o(6);var n=o(2),r=(o(28),o(8),o(4),o(3571)),l=o(222),c=(o(2539),o(5)),d=o(1932),h=o(1929),f=o(1930),v=(o(29),null),m={inject:["VMAX"],props:{item:{type:Object,default:function(){return{}}}},data:function(){return{timeFormat:c.F,locDurationNum:0,progress:0}},computed:{info:function(){var t;return(null===(t=this.item)||void 0===t?void 0:t.params)||{}},tomiao:function(){var t=this.VMAX.expandField.durationNum-this.locDurationNum;return Math.ceil(t/1e3)}},beforeDestroy:function(){this.closeonPlay()},methods:{startTiming:function(){var t=this;v&&clearTimeout(v),v=setTimeout((function(){var e=t.VMAX.expandField.durationNum;t.locDurationNum+=1e3,t.progress=t.locDurationNum/e*100,t.locDurationNum<e?t.startTiming():(t.locDurationNum=0,t.progress=0,t.item.call&&t.item.call())}),1e3)},closeonPlay:function(){v&&clearTimeout(v),this.locDurationNum=0,this.progress=0},handNowPaly:function(){this.$logEvent("log_actions",{operation:"broadcast_now",behavior_info:"on_ai_video_detail_page",behavior_info_sub:this.info.id}),this.$parent.hideVideoPop(),this.item.call&&this.item.call()},handCancel:function(){this.$logEvent("log_actions",{operation:"cancel_broadcast",behavior_info:"on_ai_video_detail_page",behavior_info_sub:this.info.id}),this.closeonPlay(),this.$emit("onCancel",this.item.params)}}},_=(o(2540),o(0)),y=Object(_.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"vinfo-box"},[e("p",{staticClass:"play-time"},[t._v(t._s(t.$t("nextPlayNum",{num:t.tomiao})))]),t._v(" "),e("div",{staticClass:"vimg-box"},[e("img",{staticClass:"vimage",attrs:{alt:t.$t("CoverImg"),src:t.info.cover}}),t._v(" "),e("div",{staticClass:"progress-bar",style:{width:t.progress+"%"}}),t._v(" "),t.info.duration?e("div",{staticClass:"duration"},[t._v(t._s(t.timeFormat(t.info.duration)))]):t._e()]),t._v(" "),e("div",{staticClass:"btns-box flex_c"},[e("div",{staticClass:"cancel flex_c_m",on:{click:t.handCancel}},[t._v(t._s(t.$t("Cancel")))]),t._v(" "),e("div",{staticClass:"submit flex_c_m",on:{click:t.handNowPaly}},[t._v("\n      "+t._s(t.$t("nowPaly"))+"\n    ")])])])}),[],!1,null,"cfff6b72",null).exports,w=(o(19),o(334)),C={inject:["VMAX"],props:{item:{type:Object,default:function(){return{}}}},data:function(){return{timeFormat:c.F,listData:Array(6).map((function(){return{}}))}},computed:{relatedWh:function(){var t;return(null===(t=this.VMAX.expandField)||void 0===t?void 0:t.relatedWh)||{}},listW:function(){return 3*(this.relatedWh.w||221)+40}},methods:{getList:function(data){var t=this,e=this.VMAX.expandField.videoProdType,o={obj_id:data.id,obj_type:e,page:1,page_size:6};Object(w.d)(o).then((function(e){var o;t.listData=(null==e||null===(o=e.data)||void 0===o?void 0:o.items)||[]}))},durationVal:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(null==data?void 0:data.look_book)||(null==data?void 0:data.ai_video)||{};return(null==t?void 0:t.duration)||0},handRelatedItem:function(data){this.$emit("onRelatedItem",data)},hasFlip:function(data){var t=data.cover_width<data.cover_height,e=this.VMAX.expandField,o=e.relatedWh,n=e.videoProdType;if(t&&5===n)return{transform:"rotate(270deg)",width:o.h+"px",height:o.w+"px",transformOrigin:"top left",position:"absolute",top:"100%",left:0,objectFit:"fill"}}}},k=C,O=(o(2541),{components:{NextVideo:y,RelatedVideo:Object(_.a)(k,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"related-box"},[e("div",{staticClass:"rtitle"},[t._v(t._s(t.$t("ExploreRelated")))]),t._v(" "),e("div",{staticClass:"video-list flex",style:{width:t.listW+"px"}},t._l(t.listData,(function(o,n){return e("div",{key:(null==o?void 0:o.id)||n,staticClass:"item",style:{width:(t.relatedWh.w||221)+"px",height:(t.relatedWh.h||128)+"px"}},[null!=o&&o.cover?e("img",{staticClass:"vimage",style:t.hasFlip(o),attrs:{fit:"cover",alt:t.$t("CoverImg"),src:null==o?void 0:o.cover},on:{click:function(e){return t.handRelatedItem(o)}}}):t._e(),t._v(" "),t.durationVal(o)?e("div",{staticClass:"duration"},[t._v("\n        "+t._s(t.timeFormat(t.durationVal(o)))+"\n      ")]):t._e()])})),0)])}),[],!1,null,"f95fd118",null).exports},data:function(){return{hasShow:!1,videoInfo:{},shwoType:"NextVideo"}},methods:{showVideoPop:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.hasShow=!0,this.videoInfo=data,this.shwoType="NextVideo",this.$refs.NextVideoRef.startTiming()},hideVideoPop:function(){this.hasShow=!1,this.shwoType="NextVideo",this.$refs.NextVideoRef.closeonPlay()},handCancel:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.shwoType="RelatedVideo",this.$refs.RelatedVideoRef.getList(data)},handRelatedItem:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$emit("onRelatedItem",data)}}}),x=O,P=(o(2542),Object(_.a)(x,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasShow,expression:"hasShow"}],staticClass:"vother-modal-box flex_c_m"},[e("NextVideo",{directives:[{name:"show",rawName:"v-show",value:"NextVideo"===t.shwoType,expression:"shwoType === 'NextVideo'"}],ref:"NextVideoRef",attrs:{item:t.videoInfo},on:{onCancel:t.handCancel}}),t._v(" "),e("RelatedVideo",{directives:[{name:"show",rawName:"v-show",value:"RelatedVideo"===t.shwoType,expression:"shwoType === 'RelatedVideo'"}],ref:"RelatedVideoRef",attrs:{item:t.videoInfo},on:{onRelatedItem:t.handRelatedItem}})],1)}),[],!1,null,"64b27302",null).exports);function j(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function $(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?j(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):j(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var L=null,I={},S={components:{VotherModal:P},provide:function(){return{VMAX:this}},props:{config:{type:Object,default:function(){return{}}},expandField:{type:Object,default:function(){return{durationNum:8e3,videoProdType:15,relatedWh:{w:146,h:198}}}},onReady:{type:Function,default:function(){return{}}},loading:{type:Boolean,default:!1}},data:function(){return{expandAttrs:{updateDefinitionList:this.updateDefinitionList,nextPlayVideo:this.nextPlayVideo,hideVideoPop:this.hideVideoPop,destroyMyPlayer:this.destroyMyPlayer},showTitle:!0,timeUpdatteFn:Object(c.D)(this.timeUpdatte,this.config.throttleTime||1e4),showSound:!1,tracksList:[]}},computed:{vwidth:function(){var t=this.config.width||600;return"number"==typeof t?t+"px":t}},mounted:function(){this.initVideo()},beforeDestroy:function(){this.destroyMyPlayer()},methods:{initVideo:function(){var t=this,e={autoplayMuted:!1,titleSlot:!0,inactive:1e4,commonStyle:{playedColor:"#fff",volumeColor:"#fff"},controls:{mode:"normal"},replay:{disable:!0}};Object(c.w)("https://image.cdn2.seaart.ai/static/web/shaka-player.compiled.js").then((function(){L=new r.a($($($({},e),t.config),{},{plugins:[d.a,f.a,h.a]})),t.useVideoAction()}))},useVideoAction:function(){var t=this;L.addClass("my-player-style"),L.on(l.a.READY,(function(){var param={player:L,Events:l.a,expandAttrs:t.expandAttrs};t.onReady&&t.onReady(param)})),L.on(l.a.PLAYER_FOCUS,(function(){t.showTitle=!0})),L.on(l.a.PLAYER_BLUR,(function(){t.showTitle=!1,L.paused&&(t.showTitle=!0)})),L.on(l.a.USER_ACTION,(function(data){var e=data.action;t["on_"+e]&&t["on_"+e](data)})),L.on(l.a.TIME_UPDATE,(function(data){t.timeUpdatteFn(data)})),L.on(l.a.LOADED_DATA,(function(data){if(!data.hlsEnd){var t=data.player.config.url.split(".").pop(),e=L.plugins,o=e.shakaplugin,n=e.usedefinitionplugin,r=e.hlsplayerplugin,l=Number(localStorage.getItem("definitionLevel")||"1");"mpd"===t&&n&&(n.changeDefinitionList({plugin:o,type:"mpd"}),n.changeTrackItem({level:l})),"m3u8"===t&&n&&(n.changeDefinitionList({plugin:r,type:"m3u8"}),n.changeTrackItem({level:l}))}})),L.on(l.a.AUTOPLAY_PREVENTED,(function(data){L.muted=!0})),L.on(l.a.AUTOPLAY_STARTED,(function(data){var e=JSON.parse(localStorage.getItem("mutedAction")||"{}"),o=e.curNum,n=void 0===o?0:o,r=e.maxNum;n<(void 0===r?1:r)&&(t.showSound=L.muted)}))},on_switch_play_pause:function(data){data.to&&(this.showTitle=!0)},on_change_definition:function(data){var t=data.to;I.definition=t||{}},timeUpdatte:function(data){this.$emit("onTimeUpdate",$($({},data),{},{vinfo:this.getPlayerInfo()}))},getPlayerInfo:function(){return["currentTime","duration","currentSrc","volume","playbackRate"].forEach((function(t){I[t]=L[t]})),I},soundPlay:function(){L.muted=!1,this.showSound=!1;var t=JSON.parse(localStorage.getItem("mutedAction")||"{}"),e=t.curNum,o=void 0===e?0:e,n=t.maxNum,r=void 0===n?1:n,l=o<r?o+1:r;localStorage.setItem("mutedAction",JSON.stringify({curNum:l,maxNum:r}))},handRelatedItem:function(data){this.$emit("onRelatedItem",data)},updateDefinitionList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.plugin,o=t.list,n=t.type,r=void 0===n?"other":n;L.plugins.usedefinitionplugin.changeDefinitionList({plugin:e,list:o,type:r})},nextPlayVideo:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$refs.VotherModalRef.showVideoPop(data)},hideVideoPop:function(){this.$refs.VotherModalRef.hideVideoPop()},destroyMyPlayer:function(){L&&(L.destroy(),L=null)}}},D=S,T=(o(2543),Object(_.a)(D,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"video-player-box",style:{width:t.vwidth}},[e("div",{attrs:{id:t.config.id}}),t._v(" "),t.config.titleSlot?[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showTitle,expression:"showTitle"}],staticClass:"title-box"},[t._t("title")],2)]:t._e(),t._v(" "),t.loading?e("div",{staticClass:"loading-box flex_c_m"},[e("img",{staticClass:"loading-gif",attrs:{src:o(627),alt:"loading image"}})]):t._e(),t._v(" "),e("el-dialog",{staticClass:"my-video-tips-dialog",attrs:{title:t.$t("photography6"),visible:t.showSound,width:"413px"},on:{"update:visible":function(e){t.showSound=e}}},[e("p",{staticClass:"tips-text"},[t._v(t._s(t.$t("noOpenMuted")))]),t._v(" "),e("div",{staticClass:"sound-btn flex_c_m",on:{click:t.soundPlay}},[t._v("\n      "+t._s(t.$t("openNow"))+"\n    ")])]),t._v(" "),e("VotherModal",{ref:"VotherModalRef",attrs:{config:t.config},on:{onRelatedItem:t.handRelatedItem}})],2)}),[],!1,null,"7b6b5643",null));e.a=T.exports},2618:function(t,e,o){"use strict";o(1276)},2619:function(t,e,o){"use strict";o(1277)},2620:function(t,e,o){"use strict";o(1278)},2621:function(t,e,o){"use strict";o(1279)},2622:function(t,e,o){"use strict";o(1280)},2623:function(t,e,o){"use strict";o(1281)},2624:function(t,e,o){"use strict";o(1282)},2625:function(t,e,o){"use strict";o(1283)},2626:function(t,e,o){"use strict";o(1284)},2627:function(t,e,o){"use strict";o(1285)},263:function(t,e,o){"use strict";o(14),o(9),o(7),o(11),o(12),o(8),o(4),o(6);var n=o(2),r=(o(10),o(36),o(1)),l=o(5);function c(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function d(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var h=o(291),f={name:"InviteDialog",props:{type:{type:String,default:""},workId:{type:String,default:""}},data:function(){return{copyTextToClipboard:l.d,isShowDialog:!1,qrCode:null,shareUrl:"",posterImage:"",qrCodeUrl:""}},computed:d(d({},Object(r.e)("user",["userInfo"])),{},{getPosterBgStyle:function(){return{backgroundImage:"url("+this.posterImage+")"}},convertUsername:function(){var t=this.userInfo?this.userInfo.name||this.userInfo.id:"";return t=["",null,void 0].includes(t)?"V":t.length?t.slice(0,1).toUpperCase():"V"}}),methods:{show:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;this.isShowDialog=!0,this.shareUrl=t,this.posterImage=e,this.qrCodeUrl=o},close:function(){this.isShowDialog=!1},resetData:function(){this.qrCode=null,this.shareUrl="",this.posterImage="",this.qrCodeUrl=""},appendQrCode:function(){var t=this;this.qrCodeUrl&&!this.qrCode&&this.$nextTick((function(){var e=t.$refs.QRCodeContainer;t.qrCode=new h(e,{text:t.qrCodeUrl,width:83,height:83})}))},handleCopyLink:function(){var t={};switch(this.type){case"artwork":t={operation:"click_copy_link_on_share",behavior_info:this.workId};break;case"task":t={operation:"share_invite_link"}}console.log("this.shareUrl: "+this.shareUrl),this.$logEvent("log_actions",t),this.copyTextToClipboard(this.shareUrl),this.$message.success(this.$t("CopiedURLToClipboard"))},handleDownloadImg:function(){var t={};switch(this.type){case"artwork":t={operation:"click_download_images_on_share",behavior_info:this.workId};break;case"task":t={operation:"share_invite_image"}}this.$logEvent("log_actions",t);var element=document.querySelector("#capture");o(569)(element,{width:400,height:626,useCORS:!0,allowTaint:!1}).then((function(canvas){var link=document.createElement("a");link.href=canvas.toDataURL(),link.download="poster.png",link.click()}))}}},v=f,m=(o(2402),o(0)),component=Object(m.a)(v,(function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"invite-dialog custom-dialog",attrs:{visible:t.isShowDialog,"append-to-body":"","show-close":!1,"destroy-on-close":!0},on:{"update:visible":function(e){t.isShowDialog=e},opened:t.appendQrCode,closed:t.resetData}},[e("div",{staticClass:"close-icon",on:{click:t.close}},[e("i",{staticClass:"el-icon-close"})]),t._v(" "),e("div",{staticClass:"container",attrs:{id:"capture"}},[e("div",{staticClass:"top"},[e("div",{staticClass:"slogan"},[t._v(" "+t._s(t.$t("SeaArt"))+" ")]),t._v(" "),e("div",{staticClass:"desc"},[t._v("\n\t\t\t\t"+t._s(t.$t("InviteDialogDesc"))+"\n\t\t\t")])]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"poster",style:t.getPosterBgStyle}),t._v(" "),e("div",{staticClass:"personal"},[e("div",{staticClass:"personal-info"},[e("div",{staticClass:"avatar"},[t.userInfo.head?e("img",{staticClass:"img",attrs:{alt:"avatar",src:t.userInfo.head}}):e("span",{staticClass:"initials"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.convertUsername)+"\n\t\t\t\t\t\t")])]),t._v(" "),e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.userInfo?t.userInfo.name?t.userInfo.name:t.userInfo.id:t.$t("Visitor"))+"\n\t\t\t\t\t\t")]),t._v(" "),e("div",{staticClass:"text",attrs:{title:t.$t("Invitation")}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("Invitation"))+"\n\t\t\t\t\t\t")])])]),t._v(" "),e("div",{ref:"QRCodeContainer",staticClass:"QR-code"})])])]),t._v(" "),e("div",{staticClass:"bottom"},[e("div",{staticClass:"copy-link",on:{click:t.handleCopyLink}},[t._v("\n\t\t\t"+t._s(t.$t("CopyLink"))+"\n\t\t")]),t._v(" "),e("div",{staticClass:"download-img",on:{click:t.handleDownloadImg}},[t._v("\n\t\t\t"+t._s(t.$t("DownloadImg"))+"\n\t\t")])])])}),[],!1,null,null,null);e.a=component.exports},2645:function(t,e,o){"use strict";o(1303)},267:function(t,e,o){"use strict";o(28);var n={props:{font:{type:Number,default:12},process:{type:Number,default:0},circleWH:{type:Number,default:56}},data:function(){return{}},computed:{getStyle:function(){return{width:this.circleWH+"px",height:this.circleWH+"px"}},getCircumference:function(){var t=this;return function(progress){var e=t.circleWH/2+1;return"".concat(Math.PI*e*(3.6*progress/180)," 1000")}}}},r=(o(2645),o(0)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"circular-loading",style:t.getStyle},[e("div",{staticClass:"progress",style:{fontSize:t.font+"px"}},[t._v("\n\t\t"+t._s(t.process)+" %\n\t")]),t._v(" "),e("svg",{staticClass:"progress-ring",attrs:{width:t.circleWH+6,height:t.circleWH+6}},[e("circle",{staticClass:"progress-ring-circle",attrs:{"stroke-dasharray":t.getCircumference(t.process),"stroke-dashoffset":0,r:t.circleWH/2+1,cx:(t.circleWH+6)/2,cy:(t.circleWH+6)/2,fill:"transparent","stroke-width":"3"}})])])}),[],!1,null,"04c1caa5",null);e.a=component.exports},2677:function(t,e,o){"use strict";o(1335)},2680:function(t,e,o){"use strict";o(1338)},269:function(t,e,o){"use strict";var n=o(2),r=(o(9),o(7),o(19),o(11),o(12),o(8),o(4),o(6),o(28),o(87)),l=o(51);function c(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function d(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var h={model:{prop:"keyword",event:"onChange"},components:{LenovoPanel:o(338).a},props:{keyword:{type:String,default:""},isLoca:{type:String,default:""},width:{type:Number,default:228},screen:{type:Object,default:function(){return{}}}},data:function(){return{associateList:[],isFocus:!1,searchNoDataImg:o(398),debounceGetRelatedList:Object(r.a)(this.getRelatedList,500)}},computed:{showAssociate:function(){return this.isFocus&&this.keyword}},methods:{inputText:function(t){t?this.debounceGetRelatedList(t):this.associateList=[],this.$emit("onChange",t)},getRelatedList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.keyword;if(""!==e){var o=this.screen,n=o.activeTab,r=o.baseModelSelect,c=o.modelType,h=o.isStudioMode,f=o.isSimpleMode,v="mine"===n?[]:[n],m="creative"===this.isLoca,_={prefix:e,source_type:2,except_num:10,type:c,tag:m?void 0:v,sub_type:m?void 0:r,list_a:m?r:void 0,list_b:m?v:void 0};(h||f)&&(_.mode="lab"),Object(l.g)(_).then((function(e){var o,n=(null==e||null===(o=e.data)||void 0===o?void 0:o.items)||[];t.associateList=n.map((function(t){return d(d({},t),{},{active:!1})}))}))}else this.associateList=[]},handAssoriateItem:function(t){this.$emit("onChange",t.title),this.$emit("onScreen",t.title),this.$refs.inputRef.blur()},findMore:function(){this.$emit("onScreen",this.keyword),this.$refs.inputRef.blur()},onFocusFn:function(){this.isFocus=!0,this.keyword&&this.debounceGetRelatedList()},onBlurFn:function(){this.isFocus=!1},onEnter:function(){this.$emit("onScreen",this.keyword),this.$refs.inputRef.blur()}}},f=h,v=(o(2359),o(0)),component=Object(v.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"lenovo-inbox"},[e("el-input",t._g(t._b({ref:"inputRef",staticClass:"my-lenovo-input",class:t.isFocus&&"input-act",style:{width:t.width+"px"},attrs:{value:t.keyword},on:{focus:t.onFocusFn,blur:t.onBlurFn,input:t.inputText},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter.apply(null,arguments)}}},"el-input",t.$attrs,!1),t.$listeners),[e("template",{slot:"prefix"},[e("i",{staticClass:"iconfont icon-search"})])],2),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showAssociate,expression:"showAssociate"}],staticClass:"lenovo-bard"},[e("div",{staticClass:"item-list",attrs:{id:"associateListId"}},[e("LenovoPanel",{ref:"LenovoPanelRef",attrs:{list:t.associateList,keyword:t.keyword,showType:2},on:{onClick:t.handAssoriateItem,mousedown:function(t){t.preventDefault()}}})],1),t._v(" "),t.associateList.length>0?e("div",{staticClass:"more-item",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.findMore.apply(null,arguments)},mousedown:function(t){t.preventDefault()}}},[t._v("\n      "+t._s(t.$t("viewMore"))+"\n    ")]):t._e(),t._v(" "),0===t.associateList.length?[e("div",{staticClass:"no-search-box"},[e("el-image",{staticStyle:{width:"90px",height:"66px"},attrs:{src:t.searchNoDataImg}}),t._v(" "),e("p",[t._v(t._s(t.$t("NoSearchData")))])],1)]:t._e()],2)],1)}),[],!1,null,"a40d4f64",null);e.a=component.exports},270:function(t,e,o){"use strict";o(28);var n={name:"TryCreateMask",props:{reg_source:{type:String,default:"swift_ai_detail_page"},borderRadius:{type:Number,default:8},behavior_info:{type:String,Required:!0,default:""}},methods:{handleClick:function(){this.$logEvent("log_actions",{operation:"click_login_now",behavior_info:this.behavior_info}),localStorage.setItem("reg_source_try",this.reg_source||""),this.$EventBus.$emit("openLoginDialog",{callBack:function(){localStorage.removeItem("reg_source_try")}})}},beforeDestroy:function(){localStorage.removeItem("reg_source_try")}},r=(o(2881),o(0)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"overlay",style:{borderRadius:t.borderRadius+"px"},on:{click:function(e){return e.stopPropagation(),t.handleClick.apply(null,arguments)}}},[t._t("content",(function(){return[e("div",{staticClass:"tip"},[t._v(t._s(t.$t("loginSee")))]),t._v(" "),e("div",{staticClass:"gradient-button"},[t._v(t._s(t.$t("loginNow")))])]}))],2)}),[],!1,null,"4421faaf",null);e.a=component.exports},2823:function(t,e,o){"use strict";o(1476)},2842:function(t,e,o){"use strict";o(1493)},2881:function(t,e,o){"use strict";o(1531)},2889:function(t,e,o){"use strict";o(1539)},2898:function(t,e,o){"use strict";o(1548)},2899:function(t,e,o){"use strict";o(1549)},2949:function(t,e,o){"use strict";o(1602)},2950:function(t,e,o){"use strict";o(1603)},2951:function(t,e,o){"use strict";o(1604)},2952:function(t,e,o){"use strict";o(1605)},2953:function(t,e,o){"use strict";o(1606)},2954:function(t,e,o){"use strict";o(1607)},2955:function(t,e,o){"use strict";o(1608)},2956:function(t,e,o){"use strict";o(1609)},2957:function(t,e,o){"use strict";o(1610)},2958:function(t,e,o){"use strict";o(1611)},2959:function(t,e,o){"use strict";o(1612)},2960:function(t,e,o){"use strict";o(1613)},2961:function(t,e,o){"use strict";o(1614)},2962:function(t,e,o){"use strict";o(1615)},2963:function(t,e,o){"use strict";o(1616)},2965:function(t,e,o){"use strict";o(1617)},2966:function(t,e,o){"use strict";o(1618)},2967:function(t,e,o){"use strict";o(1619)},2968:function(t,e,o){"use strict";o(1620)},2969:function(t,e,o){"use strict";o(1621)},2970:function(t,e,o){"use strict";o(1622)},2995:function(t,e,o){"use strict";o(1644)},3150:function(t,e,o){"use strict";o(1789)},3151:function(t,e,o){"use strict";o(1790)},3152:function(t,e,o){"use strict";o(1791)},3153:function(t,e,o){"use strict";o(1792)},3154:function(t,e,o){"use strict";o(1793)},3155:function(t,e,o){"use strict";o(1794)},3156:function(t,e,o){"use strict";o(1795)},3157:function(t,e,o){"use strict";o(1796)},3158:function(t,e,o){"use strict";o(1797)},3159:function(t,e,o){"use strict";o(1798)},3161:function(t,e,o){"use strict";o(1799)},3177:function(t,e,o){"use strict";o(1814)},3178:function(t,e,o){"use strict";o(1815)},3192:function(t,e,o){"use strict";o(1829)},3193:function(t,e,o){"use strict";o(1830)},3296:function(t,e,o){"use strict";o.r(e);o(9),o(7),o(11),o(12),o(8),o(4),o(6);var n=o(97),r=o(2),l=(o(10),o(14),o(23),o(18),o(37),o(491).a),c=(o(3159),o(0)),d=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loginLoading,expression:"loginLoading"}],staticClass:"login-page",class:{hide:"final-step"===t.step}},[e("el-card",{class:{"wide-card":"final-step"===t.step}},["final-step"!==t.step?e("div",{staticClass:"login-header"},[e("div",{staticClass:"text-center text-title"},[e("div",{staticClass:"logo flex justify-center items-center"},[e("img",{attrs:{src:o(124),alt:"Avatar"}})]),t._v(" "),"set-password"!==t.step?e("p",{staticClass:"up-text"},[t._v("\n\t\t\t\t\t\t"+t._s(t.$t("Login"))+"/"+t._s(t.$t("Register"))+"\n\t\t\t\t\t")]):t._e()]),t._v(" "),e("Agreement"),t._v(" "),"login-types"===t.step?e("div",{staticClass:"login"},[t.$isChinaSite?e("div",{staticClass:"login-buttons"},[t.emailOrPhone?e("phone-login",{attrs:{isAutoFoucs:t.isAutoFoucs},on:{"update-code":function(e){return t.updateUCode(e)},loginPhone:function(e){return t.loginFun(e)},"go-to":function(e){return t.goto(e)}}}):[t.showRegister||t.emailOrPhone?t._e():e("email-login",{on:{loginEmail:function(e){return t.loginFun(e)},"go-to":function(e){return t.goto(e)}}})],t._v(" "),e("el-divider",{staticClass:"divider"},[e("span",{staticClass:"line"},[t._v("OR")])]),t._v(" "),e("GoogleLogin",{ref:"google",on:{loginGoogle:t.loginByThird}}),t._v(" "),e("div",{staticClass:"btn",on:{click:function(e){return t.toggleEmlOrPhone(!t.emailOrPhone)}}},[e("svg-icon",{attrs:{"icon-class":t.emailOrPhone?"email":"phone"}}),t._v(" "),e("span",[t._v(t._s(t.emailOrPhone?t.$t("Email"):t.$t("phone")))])],1)],2):e("div",{staticClass:"login-buttons"},[t.showDtlForEn?[t.emailOrPhone?t._e():e("phone-login",{attrs:{isAutoFoucs:t.isAutoFoucs},on:{"update-code":function(e){return t.updateUCode(e)},loginPhone:function(e){return t.loginFun(e)},"go-to":function(e){return t.goto(e)}}}),t._v(" "),!t.showRegister&&t.emailOrPhone?e("email-login",{on:{loginEmail:function(e){return t.loginFun(e)},"go-to":function(e){return t.goto(e)}}}):t._e(),t._v(" "),e("el-divider",{staticClass:"divider"},[t._v("OR")])]:t._e(),t._v(" "),e("GoogleLogin",{ref:"google",on:{loginGoogle:t.loginByThird}}),t._v(" "),e("div",{staticClass:"btn",on:{click:t.discordLogin}},[e("svg-icon",{attrs:{"icon-class":"login-discord"}}),t._v(" "),e("span",[t._v("Discord")])],1),t._v(" "),e("FacebookLogin",{ref:"facebook",on:{loginFacebook:t.loginByThird}}),t._v(" "),e("div",{staticClass:"btn",on:{click:function(e){return t.toggleEmlOrPhone(!t.emailOrPhone)}}},[e("svg-icon",{attrs:{"icon-class":t.emailOrPhone?"phone":"email"}}),t._v(" "),e("span",[t._v(t._s(t.emailOrPhone?t.$t("phone"):t.$t("Email")))])],1),t._v(" "),t.showDtlForEn?t._e():e("div",{staticClass:"btn",on:{click:function(e){return t.toggleEmlOrPhone(!0)}}},[e("svg-icon",{attrs:{"icon-class":"email"}}),t._v(" "),e("span",[t._v(t._s(t.$t("Email")))])],1)],2)]):t._e()],1):t._e(),t._v(" "),e("div",{staticClass:"login-form",class:{wide:"final-step"===t.step}},["email-login"!==t.step||t.$isChinaSite?t._e():e("email-login",{on:{loginEmail:function(e){return t.loginFun(e)},"go-to":function(e){return t.goto(e)}}}),t._v(" "),"send-email"===t.step?e("send-email",{attrs:{"send-email-value":t.sendEmailValue},on:{"reset-form":t.resetForm,"send-email":t.sendEmail}}):t._e(),t._v(" "),"set-password"===t.step?e("set-password",{attrs:{"send-email-type":t.sendEmailType,"account-num":t.accountNum,token:t.token},on:{"go-to":function(e){return t.goto(e)},"auth-step":t.authForSignIn}}):t._e(),t._v(" "),"final-step"===t.step?e("tag-view",{attrs:{redirect:t.redirect},on:{"go-to":function(e){return t.goto(e)},close:function(e){return t.closePopup(1)}}}):t._e()],1),t._v(" "),t.isShowCloseIcon?e("i",{staticClass:"iconfont icon-close close-icon",on:{click:function(e){return t.closePopup(0)}}}):t._e()]),t._v(" "),"final-step"!==t.step?e("div",{staticClass:"left-img",style:t.backgroundStyle},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.backgroundUrl,expression:"!backgroundUrl"}],staticClass:"info"},[e("div",{staticClass:"info-title flex flex-col items-center"},[e("img",{attrs:{src:o(628),alt:"logo"}}),t._v(" "),e("span",{staticClass:"info-title-name"},[t._v(t._s(t.$t("seaartAI")))]),t._v(" "),e("span",{staticClass:"info-sub-title"},[t._v(t._s(t.$t("loginTitleDesc")))])]),t._v(" "),e("div",{staticClass:"desc flex flex-col"},t._l(t.filterDescriptionList,(function(o,n){return e("div",{key:"desc_".concat(n),staticClass:"desc-item flex flex-col"},[[e("span",{staticClass:"title-name"},[t._v(t._s("•   "+t.$t(o.title)))]),t._v(" "),e("span",{staticClass:"item-desc"},[t._v(t._s(t.$t(o.desc)))])]],2)})),0)])]):t._e()],1)}),[],!1,null,"e7db164c",null).exports,h=o(1),f=o(42),v=o(3160),m=["openLoginDialog"];function _(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function y(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?_(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):_(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var w={name:"LoginPopup",mixins:[v.a],components:{LoginCard:d},computed:y({},Object(h.c)("user",["isLoggedIn"])),data:function(){return{isShowPopup:!1,paramsCallBack:null,backGroundUrl:"",autoActive:!1,redirect:"",showActive:!1,dotCover:!1}},mounted:function(){},beforeDestroy:function(){},methods:y(y(y({},Object(h.b)("user",["setUserInfo","getAccountInfo","setTempToken","setName","updateIsNewUser","logout"])),Object(h.b)("payment",["getPaymentInfo"])),{},{changeShowPopup:function(t){this.redirect="/",this.isShowPopup=t},stepChange:function(t){console.log("stepChange",t)},showDialog:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.redirect,n=void 0===o?"":o,r=e.loginFrom;this.redirect=n||"/";var l=this.$route.name?this.$route.name.split("___")[0]:"recommendPage";r&&Object(f.t)(r),this.loginFrom=r||Object(f.i)()||l,this.dotCover=!(null==e||!e.dotCover),this.isShowPopup=!0,null!=e&&e.openActive&&this.$nextTick((function(){t.showActive=!0}))},open:function(t){var e,o=this;(console.log("open",t),this.paramsCallBack=null==t?void 0:t.callBack,this.backGroundUrl=null==t?void 0:t.backGroundUrl,this.autoActive=null==t?void 0:t.autoActive,this.isShowPopup||this.isLoggedIn)||(this.logout(),this.showDialog(t),"1"===(null===(e=this.$route.query)||void 0===e?void 0:e.openLoginDialog)&&this.$nextTick((function(){var t;null===(t=o.$refs)||void 0===t||null===(t=t.loginCard)||void 0===t||t.getUrlQuery()})))},closePopup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.resetForm(),0===t&&this.$route.name.includes("Home")){var e=this.$route.query,o=(e.openLoginDialog,Object(n.a)(e,m));this.$router.replace(this.localePath({path:this.$route.path,query:o}))}this.isShowPopup=!1},resetForm:function(){var t;this.step="login-types",this.showDtlForEn=!1,this.emailOrPhone=!0,this.showRegister=!1,(null===(t=this.$refs)||void 0===t?void 0:t.loginCard)&&this.$refs.loginCard.resetForm()}})},C=w,k=(o(3161),Object(c.a)(C,(function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"login-popup",attrs:{visible:t.isShowPopup,"close-on-click-modal":!1,"lock-scroll":!0,"before-close":t.closePopup,"destroy-on-close":!1},on:{"update:visible":function(e){t.isShowPopup=e}}},[e("LoginCard",{ref:"loginCard",attrs:{loginFrom:t.loginFrom,redirect:t.redirect,isShowPopup:t.isShowPopup,paramsCallBack:t.paramsCallBack,backgroundUrl:t.backGroundUrl,autoActive:t.autoActive,showActive:t.showActive,dotCover:t.dotCover},on:{changeShowPopup:t.changeShowPopup,stepChange:t.stepChange}})],1)}),[],!1,null,"4302c14a",null));e.default=k.exports},3304:function(t,e,o){"use strict";o.r(e);o(14),o(23),o(120),o(16),o(47),o(75),o(43),o(4),o(50),o(6);var n=o(21),r=o(127),l=o(5),c=o(40),d={components:{WaterFallVue:r.a},data:function(){return{replaceImageType:l.x,activeName:"Feed",list:[],checkList:[],loading:!1,noMore:!1,queryParam:{keyword:"",page:1,page_size:60,time_to:0,type:"bookmarks",category:2},datas:{},formData:{id:"",ids:[]},editLoading:!1,playLoading:!1,BasModel:[],intLength:0,autoPlay:!1,inTimes:"",dragItem:null,dragDOM:null,dropBox:null,dropIndex:-1}},mounted:function(){this.formData.id=this.$route.params.id,this.getData(!0)},methods:{dragStart:function(t,e){this.dragItem=t,this.dragDOM=e.target,this.dropBox=document.querySelector("#dropBox"),this.dragDOM.style.opacity="0.5"},dragEnter:function(t,e){e.preventDefault(),this.newItem=t},dragEnd:function(t){t.preventDefault(),this.dragDOM.style.opacity="";var e=this.checkList.indexOf(this.dragItem);this.dragDOM=null,this.dropIndex<0||this.dropIndex===e||(this.checkList.splice(this.dropIndex,0,this.checkList.splice(this.checkList.indexOf(this.dragItem),1)[0]),this.formData.ids.splice(this.dropIndex,0,this.formData.ids.splice(this.formData.ids.indexOf(this.formData.ids[e]),1)[0]),this.dropIndex=-1)},dragOver:function(t){t.preventDefault();var e=t.target,o=Array.from(this.dropBox.children).findIndex((function(t){return t.children[0]===e}));!(e===this.dragDOM)&&o>-1&&(this.dropIndex=o)},search:function(t){13===t.which&&(this.noMore=!1,this.list=[],this.queryParam.page=1,this.queryParam.time_to=0,this.getList())},clear:function(){this.queryParam.keyword="",this.noMore=!1,this.list=[],this.queryParam.page=1,this.queryParam.time_to=0,this.getList()},imagDelete:function(img){var t=this,e=!0;if(this.$refs.WaterFallVue.dataList.forEach((function(o){var n;(null==o||null===(n=o.banner)||void 0===n?void 0:n.url)==img&&(e=!1,o.isCheck=!1,t.$refs.WaterFallVue.clearCheck([o]))})),e&&this.checkList.indexOf(img)>-1||!img){var o=this.checkList.indexOf(img);this.checkList.splice(o,1),this.formData.ids.splice(o,1)}},imagDeleteAll:function(){var t=this;this.checkList=[],this.formData.ids=[],this.$refs.WaterFallVue.checkList.url=[],this.$refs.WaterFallVue.checkList.ids=[],this.$refs.WaterFallVue.dataList.forEach((function(e){e.isCheck&&(e.isCheck=!1,t.$refs.WaterFallVue.clearCheck([e]))}))},onPlay:function(){var t=this;this.editLoading||this.playLoading||(!this.formData.ids||this.formData.ids.length<1?this.$message({message:this.$t("selectPicturesLeast"),type:"warning"}):this.$confirm(this.$t("picturesTip"),this.$t("Tip"),{confirmButtonText:this.$t("Confirm"),cancelButtonText:this.$t("Cancel"),customClass:"collectConfirm",type:"warning"}).then((function(){t.playLoading=!0,t.onEdit(!0)})))},getChecList:function(t){this.checkList=t.url,this.formData.ids=t.ids},getData:function(t){var e=this;Object(n.W)({id:this.$route.params.id}).then((function(o){var n,r;1e4==o.status.code&&(e.datas=o.data,null!==(n=e.datas)&&void 0!==n&&n.list&&(null===(r=e.datas)||void 0===r?void 0:r.list.length)>0?e.datas.list.forEach((function(o){var n,r;e.checkList.push(null==o||null===(n=o.banner)||void 0===n?void 0:n.url),e.formData.ids.push(null==o?void 0:o.id),e.$refs.WaterFallVue.checkList.url.push(null==o||null===(r=o.banner)||void 0===r?void 0:r.url),e.$refs.WaterFallVue.checkList.ids.push(null==o?void 0:o.id),t&&e.getList()})):e.getList())}))},handleClick:function(){this.noMore=!1,this.loading=!1,this.list=[],this.queryParam.page=1,this.queryParam.time_to=0,this.getList()},onEdit:function(t){var e=this;this.editLoading||this.formData.ids&&(this.checkList.forEach((function(t,i){t||e.formData.ids.splice(i,1)})),this.editLoading=!0,Object(n.U)(this.formData).then((function(o){1e4==o.status.code&&(t?Object(n.X)({id:e.$route.params.id}).then((function(t){1e4==t.status.code&&(e.$message({message:e.$t("PulishSuccess"),type:"success"}),e.$router.back())})).finally((function(){e.playLoading=!1})):(e.$message({message:e.$t("SaveSuccess"),type:"success"}),e.$router.back()))})).finally((function(){e.editLoading=!1})))},onDelete:function(){var t=this;this.$confirm(this.$t("confirmDeletion"),this.$t("Tip"),{confirmButtonText:this.$t("Confirm"),cancelButtonText:this.$t("Cancel"),customClass:"collectConfirm",type:"warning"}).then((function(){Object(n.V)({id:t.$route.params.id}).then((function(e){1e4==e.status.code&&t.$router.back()}))})).catch((function(){}))},getList:function(t){var e=this;if(!this.loading&&!this.noMore)return this.loading=!0,this.queryParam.order_by="new",this.queryParam.artwork_types=[1,3],new Promise((function(o,n){Object(c.artworkList)(e.queryParam).then((function(n){1e4===n.status.code&&(e.noMore=!n.data.has_more,e.list=t?e.list.concat(n.data.items||[]):n.data.items||[],1===e.queryParam.page&&n.data.time_ms&&(e.queryParam.time_to=n.data.time_ms),e.queryParam.page++,o())})).catch((function(t){n(t)})).finally((function(){e.loading=!1}))}))}}},h=(o(2503),o(2504),o(0)),component=Object(h.a)(d,(function(){var t,e=this,o=e._self._c;return o("div",{staticClass:"imageGatherDetails"},[e._v("\n  111\n  "),o("el-backtop",{attrs:{bottom:30,right:30}},[o("i",{staticClass:"el-icon-top"})]),e._v(" "),o("div",{staticClass:"topBox"},[o("div",{staticClass:"left"},[e.datas.portfolio?o("div",{staticClass:"item"},[o("span",{staticClass:"lab"},[e._v(e._s(e.$t("trainName"))+":")]),e._v(" "),o("span",{staticClass:"txt"},[e._v(e._s(null===(t=e.datas)||void 0===t||null===(t=t.portfolio)||void 0===t?void 0:t.name))])]):e._e()]),e._v(" "),o("div",{staticClass:"right"},[o("div",{staticClass:"addBox",staticStyle:{background:"initial"},on:{click:e.onDelete}},[o("div",{staticClass:"add"},[o("span",{staticStyle:{color:"#b2b1b7"}},[e._v(e._s(e.$t("deleteImageSet")))])])]),e._v(" "),o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.editLoading,expression:"editLoading"}],staticClass:"addBox",staticStyle:{background:"#535a64"},on:{click:function(t){return e.onEdit(!1)}}},[o("div",{staticClass:"add"},[o("span",{staticStyle:{color:"#b2b1b7"}},[e._v(e._s(e.$t("Save")))])])]),e._v(" "),o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.playLoading,expression:"playLoading"}],staticClass:"addBox",on:{click:e.onPlay}},[o("div",{staticClass:"add"},[o("span",[e._v(e._s(e.$t("postImageGallery")))])])])])]),e._v(" "),o("div",{staticClass:"myImgs"},[o("div",{staticClass:"imgTit"},[o("span",[e._v(" "+e._s(e.$t("imageAlbum"))+" ("+e._s(e.checkList.length)+"/20) ")]),e._v(" "),o("div",[o("i",{staticClass:"el-icon-warning-outline"}),e._v(" "),o("span",[e._v(e._s(e.$t("gatherDeldesc")))])])])]),e._v(" "),o("div",{staticClass:"imgs"},[0==e.checkList.length?o("div",{staticClass:"defTxt"},[e._v(e._s(e.$t("selectImageBelow")))]):o("div",{staticClass:"imgList",attrs:{id:"dropBox"}},e._l(e.checkList,(function(t,n){return o("div",{key:"sampleIMG_"+n,staticClass:"imgItem",attrs:{draggable:"true"},on:{dragstart:function(o){return e.dragStart(t,o)},dragenter:function(o){return e.dragEnter(t,o)},dragend:e.dragEnd,dragover:e.dragOver}},[o("img",{attrs:{src:e.replaceImageType(t,"low"),alt:""}}),e._v(" "),o("div",{staticClass:"imgClear",on:{click:function(o){return e.imagDelete(t)}}},[o("i",{staticClass:"iconfont icon-delete-gpt"})])])})),0),e._v(" "),e.checkList.length>0?o("div",{staticClass:"clearAll",on:{click:e.imagDeleteAll}},[o("i",{staticClass:"iconfont icon-moveDelete"}),e._v(" "),o("span",[e._v(e._s(e.$t("clearAl")))])]):e._e()]),e._v(" "),o("div",{staticClass:"trainTabs"},[o("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:e.$t("personalFeed"),name:"Feed"}})],1)],1),e._v(" "),o("div",{staticClass:"workTip"},[o("i",{staticClass:"el-icon-warning-outline"}),e._v(" "),o("span",[e._v(e._s(e.$t("modelWorkDesc")))])]),e._v(" "),o("div",{staticClass:"search"},[o("div",[o("i",{staticClass:"iconfont icon-min-search"}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.queryParam.keyword,expression:"queryParam.keyword"}],attrs:{type:"text",placeholder:e.$t("Search")},domProps:{value:e.queryParam.keyword},on:{keypress:e.search,input:function(t){t.target.composing||e.$set(e.queryParam,"keyword",t.target.value)}}})]),e._v(" "),e.queryParam.keyword.length>0?o("i",{staticClass:"el-icon-close",on:{click:e.clear}}):e._e()]),e._v(" "),o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"wraper",staticClass:"wraper"},[o("WaterFallVue",{ref:"WaterFallVue",attrs:{type:"artwork",cols:7,container:"wraper",list:e.list,lazy:!0,dislikeShow:!0,isCheck:!0,checkMax:20,alreadyNoMoreData:e.noMore},on:{load:function(t){return e.getList(!0)},getChecList:e.getChecList}})],1)],1)}),[],!1,null,"4cc15ee4",null);e.default=component.exports},3312:function(t,e,o){"use strict";o.r(e);var n={name:"QQCallback",data:function(){return{}},created:function(){this.init()},mounted:function(){},methods:{init:function(){this.$route.query.code?this.$router.push({path:"/",query:{openLoginDialog:"1",tencentCode:this.$route.query.code,tencentType:"qq"}}):(this.$router.push({path:"/home"}),this.$message.error(this.$t("ServerError")))}}},r=o(0),component=Object(r.a)(n,(function(){return(0,this._self._c)("div")}),[],!1,null,"f4e0eeb2",null);e.default=component.exports},3313:function(t,e,o){"use strict";o.r(e);var n={name:"WechatCallback",data:function(){return{}},created:function(){this.init()},mounted:function(){},methods:{init:function(){this.$route.query.code?this.$router.push({path:"/",query:{openLoginDialog:"1",tencentCode:this.$route.query.code,tencentType:"wechat"}}):(this.$router.push({path:"/home"}),this.$message.error(this.$t("ServerError")))}}},r=o(0),component=Object(r.a)(n,(function(){return(0,this._self._c)("div")}),[],!1,null,"53bd4970",null);e.default=component.exports},3341:function(t,e,o){"use strict";o.r(e);o(9),o(11),o(12);var n=o(15),r=o(2),l=(o(16),o(7),o(32),o(10),o(19),o(8),o(4),o(18),o(6),o(51)),c=o(79),d=o(1);function h(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function f(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?h(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var v={name:"SetTagModal",data:function(){return{visible:!1,submitLoading:!1,info:null,infoDetail:null,formData:{tags:[],show_in:2},selectList:[],loading:!1,tagType:1,infoLoading:!1,tempTags:[],curstomTag:[],intRmdTag:[]}},computed:f(f({},Object(d.e)("user",["userInfo"])),{},{list:function(){return[].concat(Object(n.a)(this.selectList),Object(n.a)(this.curstomTag))}}),created:function(){this.init()},methods:{setIntRmdTag:function(t){var e,o=this;t&&(this.selectList=[].concat(Object(n.a)(this.intRmdTag),Object(n.a)(null===(e=this.formData)||void 0===e?void 0:e.tags.filter((function(t){return!o.intRmdTag.find((function(e){return e.title===t.title}))})))))},remoteMethod:function(t){var e=this;t&&Object(l.f)({prefix:t,except_num:20,source_type:3}).then((function(t){var o;1e4==t.status.code&&(e.selectList=[],null==t||null===(o=t.data)||void 0===o||o.items.forEach((function(t){e.selectList.push({title:t.title,id:t.title})})))}))},init:function(){var t=this;this.$EventBus.$on("openTagPopup",(function(e){t.openModal(e)}))},changeTag:function(t){var e,o=this.userInfo,n=o.role,r=o.managed_tags;if("reviewer_only"===n){var l=this.tempTags.filter((function(e){return!t.includes(e)}));if(!(null==r?void 0:r.includes(null===(e=l[0])||void 0===e?void 0:e.id))&&l.length){var c=this.curstomTag.find((function(t){var e;return t.title===(null===(e=l[0])||void 0===e?void 0:e.title)}));c?(this.formData.tags=this.tempTags,this.$message("您暂无".concat(c.title,"的操作权限"))):this.tempTags=t}else this.tempTags=t}},isEditRole:function(t){var e=this.userInfo,o=e.role,n=e.managed_tags;return"reviewer_only"!==o||(null==n?void 0:n.includes(t))},getTagList:function(){var t=this,e=this.userInfo,o=e.role,r=e.managed_tags;this.selectList=[],this.loading=!0,Object(c.j)({size:1e3}).then((function(e){var l=e||{},c=l.data,data=void 0===c?{}:c;l.code;"reviewer_only"===o?(r.forEach((function(e){null==data||data.items.forEach((function(o){e!=o.title&&e!=o.id||t.selectList.push({title:o.title||e==o.id,id:o.title||e==o.id})}))})),t.intRmdTag=Object(n.a)(t.selectList)):(t.selectList=null==data?void 0:data.items,t.intRmdTag=null==data?void 0:data.items)})).finally((function(){t.loading=!1}))},getInfoDetail:function(){var t=this,e={id:this.info.id};this.infoLoading=!0,(0,{1:c.e,2:c.g,4:c.h,5:c.o,15:c.d}[this.tagType])(e).then((function(e){var o;if([1e4,"10000"].includes(null==e||null===(o=e.status)||void 0===o?void 0:o.code)){var n,r=(null==e||null===(n=e.data)||void 0===n?void 0:n.items)||[];t.curstomTag=r.map((function(t){return{title:t.title||t.id,id:t.id||t.title}})),t.tempTags=t.curstomTag,t.formData.show_in=2,t.$set(t.formData,"tags",t.curstomTag),t.setIntRmdTag(!0)}})).finally((function(){t.infoLoading=!1}))},openModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.resetData(),this.info=t,this.tagType=t.type,this.getTagList(),this.getInfoDetail(),this.visible=!0},resetData:function(){this.tagType=1,this.info=null,this.formData.tags=[],this.submitLoading=!1,this.loading=!1,this.infoDetail=null},handleClose:function(){this.visible=!1},handleConfirm:function(){var t=this,e=JSON.parse(JSON.stringify(this.formData));e.tags.forEach((function(t,i){t.title||(e.tags[i]={title:t});var o=Object.keys(t);2===o.length&&o.every((function(t){return["title","id"].includes(t)}))&&delete e.tags[i].id}));var o=f({id:this.info.id},e),n={1:c.r,2:c.s,4:c.t,5:c.v,15:c.q}[this.tagType];this.submitLoading=!0,n(o).then((function(e){var o;[1e4,"10000"].includes(null==e||null===(o=e.status)||void 0===o?void 0:o.code)&&(t.handleClose(),t.$emit("needRefresh"))})).finally((function(){t.submitLoading=!1}))}}},m=v,_=(o(3177),o(0)),component=Object(_.a)(m,(function(){var t,e=this,o=e._self._c;return o("el-dialog",{staticClass:"custom-dialog",attrs:{title:e.$t("SetTags"),visible:e.visible,"custom-class":"set-tag-modal","append-to-body":""},on:{"update:visible":function(t){e.visible=t}}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading||e.infoLoading,expression:"loading || infoLoading"}],ref:"form",staticClass:"custom-form",attrs:{model:e.formData}},[o("el-form-item",{attrs:{label:e.$t("TagsAssociation")}},[o("el-select",{staticClass:"show-tag",staticStyle:{width:"100%"},attrs:{"value-key":"title",placeholder:e.$t("TagsAssociationTips"),multiple:"","popper-class":"show-tag-select",clearable:"",filterable:"","allow-create":"","default-first-option":"",remote:"reviewer_only"!==(null===(t=e.userInfo)||void 0===t?void 0:t.role),"remote-method":e.remoteMethod},on:{"visible-change":e.setIntRmdTag,change:e.changeTag},model:{value:e.formData.tags,callback:function(t){e.$set(e.formData,"tags",t)},expression:"formData.tags"}},e._l(e.selectList,(function(t,i){return o("el-option",{key:"tag_".concat(t.id+i),attrs:{label:t.title,value:t}})})),1)],1)],1),e._v(" "),o("div",{staticClass:"dialog-btn",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.handleClose}},[e._v(e._s(e.$t("Cancel")))]),e._v(" "),o("el-button",{attrs:{type:"primary",loading:e.submitLoading,disabled:e.loading||e.infoLoading},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Submit")))])],1)],1)}),[],!1,null,null,null);e.default=component.exports},3342:function(t,e,o){"use strict";o.r(e);o(14),o(9),o(11),o(12),o(8),o(6);var n=o(2),r=(o(7),o(4),o(1)),l=o(1887);function c(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function d(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var h={name:"SetTagModal",data:function(){return{visible:!1,submitLoading:!1,formData:{obj_id:"",isRecommend:1,recommend_types:[]},rules:{},allTypes:[],recommendTypes:[],notRecommendedTypes:[],currentTypes:[],loading:!1,info:null,tagType:1,initRecommendType:1}},computed:d(d({},Object(r.e)("user",["userInfo"])),{},{coverUrl:function(){var t,e,o,n;return(null===(t=this.info)||void 0===t||null===(t=t.item)||void 0===t?void 0:t.replaceUrl)||(null===(e=this.info)||void 0===e||null===(e=e.item)||void 0===e?void 0:e.cover)||(null===(o=this.info)||void 0===o||null===(o=o.item)||void 0===o||null===(o=o.banner)||void 0===o?void 0:o.replaceUrl)||(null===(n=this.info)||void 0===n||null===(n=n.item)||void 0===n||null===(n=n.banner)||void 0===n?void 0:n.url)},role:function(){var t;return null===(t=this.userInfo)||void 0===t?void 0:t.role}}),created:function(){this.init()},methods:{init:function(){var t=this;this.$EventBus.$on("openRecPopup",(function(e){t.openModal(e)}))},changeTypes:function(t){this.currentTypes=1===t?this.recommendTypes:this.notRecommendedTypes,this.formData.recommend_types=[]},getTagList:function(){var t=this;this.loading=!0,Object(l.b)({size:1e3}).then((function(e){var o=e.data||{},n=o.items;o.total;"reviewer"===t.role&&(t.allTypes=n,t.recommendTypes=n.filter((function(t){return 1===(null==t?void 0:t.is_recommend)})),t.notRecommendedTypes=n.filter((function(t){return 2===(null==t?void 0:t.is_recommend)})),t.currentTypes=1===t.initRecommendType?t.recommendTypes:t.notRecommendedTypes)})).finally((function(){t.loading=!1}))},openModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.resetData(),this.tagType=t.type,this.initRecommendType=t.recommendType,this.formData.obj_id=t.id,this.formData.isRecommend=t.recommendType,this.info=t,this.getTagList(),this.visible=!0},resetData:function(){this.tagType=1,this.info=null,this.formData={obj_id:"",isRecommend:1,recommend_types:[]},this.submitLoading=!1,this.loading=!1},handleClose:function(){this.visible=!1},handleConfirm:function(){var t=this;this.$refs.form.validate((function(e){e&&t.submitData()}))},submitData:function(){var t=this;if("reviewer"===this.role){var e=this.formData,o=e.obj_id,n=e.isRecommend,r=e.recommend_types,c={obj_id:o,is_recommend:n,cover_uri:this.coverUrl,category_ids:r};this.submitLoading=!0,Object(l.a)(c).then((function(){t.$message.success("操作成功"),t.handleClose()})).finally((function(){t.submitLoading=!1}))}}}},f=h,v=(o(3178),o(0)),component=Object(v.a)(f,(function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"custom-dialog",attrs:{title:"设置分类",visible:t.visible,"custom-class":"set-tag-modal","append-to-body":""},on:{"update:visible":function(e){t.visible=e}}},[e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"form",staticClass:"custom-form",attrs:{model:t.formData,rules:t.rules}},[e("el-form-item",{attrs:{label:"类别",prop:"isRecommend",required:""}},[e("el-radio-group",{on:{input:t.changeTypes},model:{value:t.formData.isRecommend,callback:function(e){t.$set(t.formData,"isRecommend",e)},expression:"formData.isRecommend"}},[e("el-radio",{attrs:{label:1}},[t._v("推荐")]),t._v(" "),e("el-radio",{attrs:{label:2}},[t._v("不推荐")])],1)],1),t._v(" "),e("el-form-item",{attrs:{label:"关联分类",prop:"recommend_types",required:""}},[e("el-select",{staticClass:"recommend-select",attrs:{placeholder:"请选择关联分类","popper-class":"custom-select",filterable:"",multiple:""},model:{value:t.formData.recommend_types,callback:function(e){t.$set(t.formData,"recommend_types",e)},expression:"formData.recommend_types"}},t._l(t.currentTypes,(function(t,o){return e("el-option",{key:"types_"+t.id+o,attrs:{label:t.name,value:t.id}})})),1)],1)],1),t._v(" "),e("div",{staticClass:"dialog-btn",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.handleClose}},[t._v(t._s(t.$t("Cancel")))]),t._v(" "),e("el-button",{attrs:{type:"primary",loading:t.submitLoading,disabled:t.loading},on:{click:t.handleConfirm}},[t._v(t._s(t.$t("Submit"))+"\n    ")])],1)],1)}),[],!1,null,"00ceb940",null);e.default=component.exports},3349:function(t,e,o){"use strict";o.r(e);o(14),o(9),o(11),o(12),o(8),o(6);var n=o(3),r=o(2),l=(o(20),o(16),o(7),o(32),o(28),o(4),o(5)),c=o(1);function d(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function h(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?d(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var f={name:"ShareCreteDialog",props:{type:{type:String,default:""},workId:{type:String,default:""},showDownload:{type:Boolean,default:!0}},data:function(){return{saveImg:l.z,copyTextToClipboard:l.d,isShowDialog:!1,inDownload:!1,from:"",imageData:null,config:[{name:"Facebook",icon:"icon-facebook",color:"#F7FBFA",bgColor:"#1D93FF"},{name:"X",icon:"icon-X1",color:"#000000",bgColor:"#FFFFFF"},{name:"WhatsApp",icon:"icon-whatsapp",color:"#FFFFFF",bgColor:"#5CC767"},{name:"copyLink",icon:"a-copylink",color:"#000000",bgColor:"#FFFFFF"},{name:"Download",icon:"icon-Download",color:"#000000",bgColor:"#FFFFFF"}],shareText:"",shareHashTag:"SeaArt,AIart,AIイラスト,stablediffusion"}},computed:h(h(h({},Object(c.e)("creation",["generateViewShow"])),Object(c.c)("user",["userInfo","isLoggedIn"])),{},{imageRatio:function(){var t,e,o,n;return null!==(t=this.imageData)&&void 0!==t&&t.width&&null!==(e=this.imageData)&&void 0!==e&&e.height?(null===(o=this.imageData)||void 0===o?void 0:o.width)>=(null===(n=this.imageData)||void 0===n?void 0:n.height)?"wide":"tall":"wide"},imageRatioClass:function(){return"wide"===this.imageRatio?"wide-dialog":"tall"===this.imageRatio?"tall-dialog":"default-dialog"},inviteCode:function(){var t;return(null===(t=this.userInfo)||void 0===t?void 0:t.invite_user_code)||""},shareUrl:function(){var t;if(null!==(t=this.imageData)&&void 0!==t&&t.id){var e=this.$isChinaSite?"www.seaart.me":"www.seaart.ai";return"https://".concat(e,"/explore/detail/").concat(this.imageData.id,"?source=share_link")+(this.inviteCode?"?u_code=".concat(this.inviteCode):"")}},posterImage:function(){var t;return null===(t=this.imageData)||void 0===t?void 0:t.url},getIconStyle:function(){return function(t){return{color:t.color,backgroundColor:t.bgColor}}},rateNumber:function(){return Math.floor(5*Math.random())+95},connectConfig:function(){return this.$isChinaSite?this.config.filter((function(t){return"Download"===t.name||"copyLink"===t.name})):this.config}}),mounted:function(){var t=this;this.shareText=this.$t("HomeTitle"),this.$EventBus.$on("shareToNetworks",function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(data){var o,n,r,l,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(o=data||{}).imageTask,r=void 0===n?{}:n,l=o.from,c=void 0===l?"createTask":l,e.next=3,t.checkTimeShowDialog();case 3:if(!e.sent){e.next=19;break}if(d=t.getValidItem(r),!t.imageData){e.next=12;break}if(!t.generateViewShow){e.next=10;break}return t.isShowDialog=!0,e.next=10,t.saveShowDialog();case 10:e.next=19;break;case 12:if(!d){e.next=19;break}if(t.imageData=d,!t.generateViewShow){e.next=18;break}return t.isShowDialog=!0,e.next=18,t.saveShowDialog();case 18:!t.from&&(t.from=c);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},beforeDestroy:function(){this.$EventBus.$off("shareToNetworks")},methods:{close:function(){this.isShowDialog=!1},resetData:function(){this.imageData=null,this.from=""},handleCopyLink:function(){this.copyTextToClipboard(this.shareUrl),this.$message.success(this.$t("CopiedURLToClipboard"))},handleDownloadImg:function(){var t=this;if(this.isLoggedIn){if(!this.inDownload){this.inDownload=!0;var element=document.querySelector("#shareCard");o(569)(element,{scale:1,useCORS:!0,allowTaint:!1}).then((function(canvas){var link=document.createElement("a");link.href=canvas.toDataURL(),link.download="share.png",link.click(),t.inDownload=!1}))}}else this.$EventBus.$emit("openLoginDialog")},handleClick:function(t){switch(this.$logEvent("log_actions",{operation:"click_share",behavior_info:"on_excellent_rating_pop",behavior_info_sub:"click_".concat(t.name)}),t.name){case"Facebook":case"X":case"WhatsApp":this.handleShare(t.name);break;case"Download":this.handleDownloadImg();break;case"copyLink":this.handleCopyLink()}},handleShare:function(t){var e={Facebook:"https://www.facebook.com/sharer/sharer.php?u=",X:"https://twitter.com/intent/tweet?",WhatsApp:"https://web.whatsapp.com/send?"};switch(console.log("handleShare",e[t],this.shareUrl,this.shareText),t){case"Facebook":window.open(e[t]+encodeURIComponent(this.shareUrl),"_blank");break;case"X":window.open(e[t]+"url="+encodeURIComponent(this.shareUrl)+"&text="+encodeURIComponent(this.shareText)+"&hashtags="+encodeURIComponent(this.shareHashTag),"_blank");break;case"WhatsApp":var text=encodeURIComponent("".concat(this.shareText," ").concat(this.shareUrl));window.open(e[t]+"text="+text,"_blank")}},saveShowDialog:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$logEvent("log_actions",{operation:"excellent_rating_pop_show",behavior_info:"on_creation"}),o="shareDialog"+t.userInfo.id,e.next=4,localStorage.setItem(o,(new Date).getTime());case 4:case"end":return e.stop()}}),e)})))()},checkTimeShowDialog:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="shareDialog"+t.userInfo.id,e.next=3,localStorage.getItem(o);case 3:if(n=e.sent){e.next=8;break}return e.abrupt("return",!0);case 8:if(r=new Date,l=new Date(Number(n)),r.getDate()===l.getDate()){e.next=12;break}return e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})))()},getValidItem:function(t){if(null!=t&&t.share){var e,o=null==t||null===(e=t.share)||void 0===e?void 0:e.artwork_id;return h(h({},null==t?void 0:t.img_uris.find((function(t){return t.artwork_no===o}))),{},{id:o})}},getRandomSubtitle:function(){var t=Math.floor(4*Math.random())+2;return this.$t("shareDlgTitleSub".concat(t))}}},v=f,m=(o(3192),o(0)),component=Object(m.a)(v,(function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"share-create-dialog custom-dialog",class:t.imageRatioClass,attrs:{visible:t.isShowDialog,"append-to-body":"","show-close":!1,"destroy-on-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(e){t.isShowDialog=e},closed:t.resetData}},[e("div",{staticClass:"close-icon",on:{click:t.close}},[e("i",{staticClass:"el-icon-close"})]),t._v(" "),e("div",{staticClass:"container",attrs:{id:"shareCard"}},[e("div",{staticClass:"top"},[e("div",{staticClass:"slogan"},[t._v(" "+t._s(t.$t("excellent")))]),t._v(" "),e("div",{staticClass:"desc"},[t._v("\n        "+t._s(t.getRandomSubtitle())+"\n      ")])]),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.inDownload,expression:"inDownload"}],staticClass:"content"},[e("div",{staticClass:"mask"},[t.posterImage?e("img",{staticClass:"poster",attrs:{alt:"poster",src:t.posterImage},on:{mousedown:function(t){t.preventDefault()},contextmenu:function(t){t.preventDefault()}}}):t._e()]),t._v(" "),"wide"===t.imageRatio?e("div",{staticClass:"rate-content wide"},[e("div",{staticClass:"rate-logo"},[e("img",{attrs:{src:o(637),alt:"seaart-icon"},on:{mousedown:function(t){t.preventDefault()},contextmenu:function(t){t.preventDefault()}}})]),t._v(" "),e("div",{staticClass:"rate-right"},[e("div",{staticClass:"rate-number"},[t._v(t._s(t.rateNumber))]),t._v(" "),e("div",{staticClass:"rate-star"},t._l(5,(function(t){return e("i",{key:t,staticClass:"iconfont icon-icon-star"})})),0)])]):e("div",{staticClass:"rate-content height"},[e("div",{staticClass:"rate-logo"},[e("img",{attrs:{src:o(638),alt:"seaart-icon"},on:{mousedown:function(t){t.preventDefault()},contextmenu:function(t){t.preventDefault()}}})]),t._v(" "),e("div",{staticClass:"rate-right"},[e("div",{staticClass:"rate-number"},[t._v(t._s(t.rateNumber))]),t._v(" "),e("div",{staticClass:"rate-star"},t._l(5,(function(t){return e("i",{key:t,staticClass:"iconfont icon-icon-star"})})),0)])])]),t._v(" "),e("div",{staticClass:"bottom"},[e("div",{staticClass:"share-networks"},t._l(t.connectConfig,(function(o,n){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.showDownload||"Download"!==o.name,expression:"showDownload || item.name !== 'Download'"}],key:"network_"+n,staticClass:"network",on:{click:function(e){return t.handleClick(o)}}},[e("i",{class:"iconfont icon-"+o.icon,style:t.getIconStyle(o)})])})),0)])])])}),[],!1,null,"6bbcc889",null);e.default=component.exports},3350:function(t,e,o){"use strict";o.r(e);o(23),o(37);var n={data:function(){return{showOverlay:!1,overlayMessage:"bannedTipCharter"}},mounted:function(){this.$EventBus.$on("openBannedMask",this.showOverlayModal)},beforeDestroy:function(){this.$EventBus.$off("openBannedMask")},methods:{showOverlayModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bannedTipCharter";this.overlayMessage=t,this.showOverlay=!0},hideOverlayModal:function(){this.showOverlay=!1;var t=this.localePath("/");this.$router.replace(t)}}},r=n,l=(o(3193),o(0)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",[t.showOverlay?e("div",{staticClass:"overlay"},[e("div",{staticClass:"modal"},[e("img",{staticClass:"null-image",attrs:{src:o(327),alt:"null_image"}}),t._v(" "),e("p",[t._v(t._s(t.$t(t.overlayMessage)))]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.hideOverlayModal}},[t._v(t._s(t.$t("Back"))+t._s(t.$t("Home")))])],1)]):t._e()])}),[],!1,null,"61426762",null);e.default=component.exports},3352:function(t,e,o){"use strict";o.r(e);o(9),o(7),o(11),o(12),o(8),o(4),o(6);var n=o(3),r=o(2),l=(o(20),o(1)),c=o(24),d=o(21);function h(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function f(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?h(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var v={data:function(){return{deferredPrompt:null}},mounted:function(){window.addEventListener("beforeinstallprompt",this.handleBeforeInstallPrompt)},beforeDestroy:function(){window.removeEventListener("beforeinstallprompt",this.handleBeforeInstallPrompt)},computed:f(f({},Object(l.c)("user",["isLoggedIn","userInfo"])),{},{show_download:function(){var t;return!1===(null===(t=this.userInfo)||void 0===t?void 0:t.show_download)}}),methods:f(f({},Object(l.d)("user",["SET_USER_INFO"])),{},{handleBeforeInstallPrompt:function(t){t.preventDefault(),this.deferredPrompt=t},detectShortcut:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.deferredPrompt&&t.show_download){e.next=2;break}return e.abrupt("return");case 2:return t.$logEvent("log_actions",{operation:"quick_enter_show",behavior_info:"on_quick_enter_popup"}),e.prev=3,e.next=6,Object(d.mb)();case 6:if(n=e.sent,r=n.data,data=void 0!==r&&r,"742295477"!==(null===(o=t.userInfo)||void 0===o?void 0:o.id)){e.next=11;break}return t.addToDesktop(),e.abrupt("return");case 11:data&&t.addToDesktop(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})))()},addToDesktop:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.deferredPrompt.prompt(),e.next=4,t.deferredPrompt.userChoice;case 4:o=e.sent,n=o.outcome,console.log("用户对安装提示的响应: ".concat(n)),"accepted"===n&&t.$logEvent("log_actions",{operation:"click_download",behavior_info:"on_quick_enter_popup"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("添加到桌面时出错:",e.t0);case 13:return e.prev=13,t.deferredPrompt=null,e.next=17,Object(d.mb)({type:"finish"});case 17:return t.changeUserStatus(),e.finish(13);case 19:case"end":return e.stop()}}),e,null,[[0,10,13,19]])})))()},changeUserStatus:function(){var t=Object(c.cloneDeep)(this.userInfo);t.show_download=!0,this.SET_USER_INFO(t)}})},m=o(0),component=Object(m.a)(v,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null);e.default=component.exports},338:function(t,e,o){"use strict";o(10),o(28),o(36),o(14),o(8);var n=o(5),r={props:{item:{type:Object,default:function(){return{}}},keyword:{type:String,default:""},showType:{type:Number,default:1}},data:function(){return{formatNumber:n.h,timeFormat:n.F,seseimg:o(639)}},computed:{payload:function(){var t=this.item.payload||"{}";return JSON.parse(t)}},methods:{handClick:function(){this.$emit("onClick",this.item)}}},l=(o(2116),o(0)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"big-item flex",class:t.item.active&&"item-active",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handClick.apply(null,arguments)},mousedown:function(t){t.preventDefault()}}},[e("div",{staticClass:"left"},[e("el-image",{staticClass:"img",attrs:{src:t.item.cover||t.seseimg}},[e("div",{staticClass:"image-err-slot flex_c_m",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"iconfont icon-image-load-error"}),t._v(" "),e("div",{staticClass:"text"},[t._v(t._s(t.$t("loadErr")))])])]),t._v(" "),t.item.type&&"portfolio"===t.item.type||t.payload.num?e("div",{staticClass:"img-num flex_c_m"},[e("i",{staticClass:"iconfont icon-imgNum"}),t._v(" "),e("span",[t._v(t._s(t.payload.num||0))])]):t._e(),t._v(" "),t.item.type&&"lookbook"===t.item.type&&t.payload.dur?e("div",{staticClass:"video-time flex_c_m"},[e("span",[t._v(t._s(t.timeFormat(t.payload.dur||0)))])]):t._e()],1),t._v(" "),e("div",{staticClass:"right"},[e("div",{directives:[{name:"hword",rawName:"v-hword",value:{str:t.item.title,target:t.keyword,color:"#000",bgcolor:"#FCC419"},expression:"{\n        str: item.title,\n        target: keyword,\n        color: '#000',\n        bgcolor: '#FCC419',\n      }"}],staticClass:"word-text"}),t._v(" "),e("div",{staticClass:"user-info flex_m"},[e("div",{staticClass:"head"},[e("el-image",{staticClass:"img",attrs:{fit:"contain",src:t.item.account.cover}},[e("b",{attrs:{slot:"error"},slot:"error"},[t._v(t._s(t.item.account.name.slice(0,1)))])])],1),t._v(" "),e("div",{staticClass:"name"},[t._v(t._s(t.item.account.name))]),t._v(" "),t.item.type&&2===t.showType?e("div",{staticClass:"type-model flex_c_m"},[t._v("\n        "+t._s("TextualInversion"===t.item.type?"Embedding":t.item.type)+"\n      ")]):t._e()]),t._v(" "),e("div",{staticClass:"look-data flex"},[[7].includes(t.showType)?e("div",{staticClass:"item flex_c_m"},[e("i",{staticClass:"iconfont icon-like"}),t._v(" "),e("span",[t._v(t._s(t.formatNumber(t.item.stat.num_of_like)))])]):t._e(),t._v(" "),[2,7,13,14,11].includes(t.showType)?e("div",{staticClass:"item flex_c_m"},[e("i",{staticClass:"iconfont icon-icon-collect1"}),t._v(" "),e("span",[t._v(t._s(t.formatNumber(t.item.stat.num_of_collection)))])]):t._e(),t._v(" "),[2,13,14,11].includes(t.showType)?e("div",{staticClass:"item flex_c_m"},[e("i",{staticClass:"iconfont icon-creation-center-icon"}),t._v(" "),e("span",[t._v(t._s(t.formatNumber(t.item.stat.num_of_task)))])]):t._e(),t._v(" "),[13].includes(t.showType)?e("div",{staticClass:"item flex_c_m"},[e("i",{staticClass:"iconfont icon-icon_jiedian"}),t._v(" "),e("span",[t._v(t._s(t.formatNumber(t.payload.node_num)))])]):t._e(),t._v(" "),[9].includes(t.showType)?e("div",{staticClass:"item flex_c_m"},[e("i",{staticClass:"iconfont icon-a-home-top-personl1"}),t._v(" "),e("span",[t._v(t._s(t.formatNumber(t.item.stat.num_of_token)))])]):t._e(),t._v(" "),[2].includes(t.showType)?e("div",{staticClass:"item flex_c_m"},[e("i",{staticClass:"iconfont icon-icon-Download"}),t._v(" "),e("span",[t._v(t._s(t.formatNumber(t.item.stat.num_of_download)))])]):t._e()])])])}),[],!1,null,"1d6da3f5",null),c=component.exports,d={props:{item:{type:Object,default:function(){return{}}},keyword:{type:String,default:""},showType:{type:Number,default:1}},data:function(){return{formatNumberForeign:n.i,seseimg:o(639)}},computed:{payload:function(){var t=this.item.payload||"{}";return JSON.parse(t)}},methods:{handClick:function(){this.$emit("onClick",this.item)}}},h=(o(2117),Object(l.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"big-item flex",class:t.item.active&&"item-active",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handClick.apply(null,arguments)},mousedown:function(t){t.preventDefault()}}},[e("div",{staticClass:"left"},[e("el-image",{staticClass:"img",attrs:{src:t.item.cover||t.seseimg}},[e("div",{staticClass:"image-err-slot flex_c_m",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"iconfont icon-image-load-error"})])])],1),t._v(" "),e("div",{staticClass:"right"},[e("div",{directives:[{name:"hword",rawName:"v-hword",value:{str:t.item.title,target:t.keyword,color:"#000",bgcolor:"#FCC419"},expression:"{\n        str: item.title,\n        target: keyword,\n        color: '#000',\n        bgcolor: '#FCC419',\n      }"}],staticClass:"word-text"}),t._v(" "),e("div",{staticClass:"look-data flex"},[[6].includes(t.showType)?[e("div",{staticClass:"item flex_c_m"},[e("b",[t._v(t._s(t.formatNumberForeign(t.item.stat.num_of_artwork)))]),t._v(" "),e("span",[t._v(t._s(t.$t("Explore")))])]),t._v(" "),e("div",{staticClass:"item flex_c_m"},[e("b",[t._v(t._s(t.formatNumberForeign(t.item.stat.num_of_model)))]),t._v(" "),e("span",[t._v(t._s(t.$t("AIModel")))])]),t._v(" "),e("div",{staticClass:"item flex_c_m"},[e("b",[t._v(t._s(t.formatNumberForeign(t.item.stat.num_of_post)))]),t._v(" "),e("span",[t._v(t._s(t.$t("Post")))])])]:t._e(),t._v(" "),[8].includes(t.showType)?[e("div",{staticClass:"item flex_c_m"},[e("b",[t._v(t._s(t.formatNumberForeign(t.item.stat.num_of_collected)))]),t._v(" "),e("span",[t._v(t._s(t.$t("Collects")))])]),t._v(" "),e("div",{staticClass:"item flex_c_m"},[e("b",[t._v(t._s(t.formatNumberForeign(t.item.stat.num_of_follower)))]),t._v(" "),e("span",[t._v(t._s(t.$t("Follower")))])])]:t._e()],2)])])}),[],!1,null,"237e12c2",null)),f={components:{WorksItem:c,UserItem:h.exports},props:{list:{type:Array,default:function(){return[]}},keyword:{type:String,default:""},showType:{type:Number,default:1}},data:function(){return{}},methods:{handClick:function(t){this.$emit("onClick",t)}}},v=(o(2118),Object(l.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"lenovo-list-box"},[[2,7,13,14,11,9].includes(t.showType)?t._l(t.list,(function(o,i){return e("WorksItem",{key:o.source_id+i,attrs:{item:o,keyword:t.keyword,showType:t.showType},on:{onClick:t.handClick,mousedown:function(t){t.preventDefault()}}})})):t._e(),t._v(" "),[6,8].includes(t.showType)?t._l(t.list,(function(o,i){return e("UserItem",{key:o.source_id+i,attrs:{item:o,keyword:t.keyword,showType:t.showType},on:{onClick:t.handClick,mousedown:function(t){t.preventDefault()}}})})):t._e()],2)}),[],!1,null,"c9d62b60",null));e.a=v.exports},345:function(t,e,o){"use strict";o(14),o(1175),o(44);var n=o(573),r=o.n(n),l=o(134),c=o(539),d=o(33),h=o(5),f={name:"commentDrawer",components:{cmtComments:l.a,AiChatHead:c.a,ElDrawer:r.a},mixins:[d.a],props:{isShowSetting:{type:Boolean,default:!1},characterId:{type:String,default:""}},filters:{formatNumberForeign:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(h.i)(t)}},data:function(){return{visible:!1,direction:"rtl",characterInfo:{},dotReportInfo:{category:"default",view_domain:"details_one",batch_id:""},isShowModeHandle:!1,modeList:[{name:"AdvancedMode",value:"GPT-4-Turbo-1106",tips:this.$t("AdvancedModeTips")},{name:"UniversalMode",value:"GPT-35-Turbo-1106",tips:this.$t("UniversalModeTips")},{name:"OvervalueMode",value:"Normal",tips:this.$t("OvervalueModeTips")}],modeIndex:0}},methods:{newChat:function(){this.$emit("newChat")},toViewCharacter:function(){this.$router.push(this.localePath("/cyberPubPage/"+this.characterInfo.id))},openModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.characterInfo=t||{},this.visible=!0},resetData:function(){this.characterInfo={}},handleClose:function(){this.visible=!1},handlerUpdateCountNum:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.characterInfo.stat=Object.assign((null===(t=this.characterInfo)||void 0===t?void 0:t.stat)||{},{num_of_comment:e}),this.$emit("updateCountNum",this.characterInfo)},share:function(){if(this.$logEvent("log_actions",{operation:"tavern_on_detail_page",behavior_info:"click_share"}),this.characterId){var t=location.host+this.localePath("/");return Object(h.d)(t+"/cyberPub/".concat(this.characterId)),void this.$message.success(this.$t("CopiedURLToClipboard"))}Object(h.d)(location.href),this.$message.success(this.$t("CopiedURLToClipboard"))}}},v=f,m=(o(2680),o(0)),component=Object(m.a)(v,(function(){var t,e,o,n,r,l,c,d=this,h=d._self._c;return h("el-drawer",{attrs:{title:"",visible:d.visible,direction:d.direction,"append-to-body":"","custom-class":"comment-drawer","before-close":d.handleClose},on:{"update:visible":function(t){d.visible=t}}},[d.isShowSetting?h("div",{staticClass:"comment-drawer-set"},[d._t("Settings")],2):d._e(),d._v(" "),d.isShowSetting?h("div",{staticClass:"comment-drawer-info"},[h("img",{attrs:{src:null===(t=d.characterInfo)||void 0===t||null===(t=t.cover)||void 0===t?void 0:t.url,alt:null===(e=d.characterInfo)||void 0===e?void 0:e.name},on:{click:d.toViewCharacter}}),d._v(" "),h("div",{staticClass:"comment-drawer-info-right"},[h("div",{staticClass:"name",on:{click:d.toViewCharacter}},[d._v(d._s(null===(o=d.characterInfo)||void 0===o?void 0:o.name))]),d._v(" "),h("div",[h("span",{staticClass:"comment-btn"},[h("i",{staticClass:"iconfont icon-comment"}),d._v(" "),h("span",{staticClass:"comment-btn-text"},[d._v(d._s(d._f("formatNumberForeign")(null===(n=d.characterInfo)||void 0===n||null===(n=n.stat)||void 0===n?void 0:n.num_of_token)))])]),d._v(" "),h("span",{staticClass:"comment-btn"},[h("i",{staticClass:"iconfont icon-browse"}),d._v(" "),h("span",{staticClass:"comment-btn-text"},[d._v(d._s(d._f("formatNumberForeign")(null===(r=d.characterInfo)||void 0===r||null===(r=r.stat)||void 0===r?void 0:r.num_of_view)))])]),d._v(" "),h("span",{staticClass:"comment-btn",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),d.setCollect(d.characterInfo,"character")}}},[h("i",{staticClass:"iconfont icon-browse",class:d.setCollectData(d.characterInfo)}),d._v(" "),h("span",{staticClass:"comment-btn-text"},[d._v(d._s(d._f("formatNumberForeign")(null===(l=d.characterInfo)||void 0===l||null===(l=l.stat)||void 0===l?void 0:l.num_of_collection)))])]),d._v(" "),h("span",{staticClass:"comment-btn",on:{click:d.share}},[h("i",{staticClass:"iconfont icon-icon_share"}),d._v(" "),h("span",{staticClass:"comment-btn-text"},[d._v(d._s(d.$t("Share")))])])])])]):d._e(),d._v(" "),d.visible?h("div",{staticClass:"comment-drawer-content"},[d.visible&&null!==(c=d.characterInfo)&&void 0!==c&&c.id?h("cmt-comments",{attrs:{infos:d.characterInfo,type:9,dotReportInfo:d.dotReportInfo},on:{newChat:d.newChat,updateCountNum:d.handlerUpdateCountNum}}):d._e()],1):d._e()])}),[],!1,null,null,null);e.a=component.exports},349:function(t,e,o){"use strict";o(9),o(7),o(11),o(12),o(8),o(4),o(6);var n=o(2);function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function l(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var c=o(31),d=o(3),h=(o(20),o(10),o(28),o(3207),o(50),o(48),o(29),o(38)),f=(o(3208),o(2005)),v={model:{prop:"htmlStr",event:"onChange"},props:{uploadCategory:{type:Number,default:19},htmlStr:{type:String,default:""},height:{type:String,default:"200px"},toolbarConfig:{type:Object,default:function(){return{toolbarKeys:f.a}}},editorConfig:{type:Object,default:function(){return{}}},isErr:{type:Boolean,default:!1},defaultProps:{type:Object,default:function(){return{}}}},data:function(){var t=this;return{editor:null,toolBarComponent:null,editorComponent:null,editorConfigBase:{MENU_CONF:{uploadImage:{customUpload:function(e,o){console.log(t),t.uploadImageFn(e,o)}}}}}},mounted:function(){this.loadEditor()},methods:{loadEditor:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var n,r,l,d,h,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([o.e(0),o.e(6),o.e(1),o.e(5),o.e(2),o.e(4),o.e(3)]).then(o.t.bind(null,3241,7));case 3:return e.next=5,Promise.all([o.e(23).then(o.bind(null,4253)),Promise.all([o.e(23),o.e(131)]).then(o.bind(null,4281))]);case 5:n=e.sent,r=Object(c.a)(n,2),l=r[0],d=r[1],h=["zhTW","zhCN"].includes(t.$i18n.locale),f=h?"zh-CN":"en",t.editorComponent=d.Editor,t.toolBarComponent=d.Toolbar,l.i18nChangeLanguage(f),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))()},onCreated:function(t){this.editor=Object.seal(t)},onChange:function(t){t.isEmpty()||this.$emit("onChange",t.getHtml())},setHtml:function(html){var t=this;setTimeout((function(){t.editor&&t.editor.setHtml(html)}),500)},uploadImageFn:function(t,e){new h.a({type:this.uploadCategory}).startUpload(t).then((function(t){e(t),console.log(t)}))}}},m=(o(2453),o(0)),component=Object(m.a)(v,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"editor-box",class:t.isErr&&"editor-box-err"},[e(t.toolBarComponent,t._b({tag:"component",staticClass:"tools-bar",attrs:{editor:t.editor,"default-config":t.toolbarConfig}},"component",t.defaultProps,!1)),t._v(" "),e(t.editorComponent,t._b({tag:"component",staticClass:"edit-works",style:{height:t.height},attrs:{value:t.htmlStr,"default-config":l({editorConfig:t.editorConfig},t.editorConfigBase)},on:{onCreated:t.onCreated,onChange:t.onChange}},"component",t.defaultProps,!1))],1)])}),[],!1,null,"4403251c",null);e.a=component.exports},354:function(t,e,o){"use strict";var n={name:"NoData",props:{imgSrc:{type:String,default:o(586)},tips:{type:String,default:"no_data"}}},r=(o(2889),o(0)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"no-data"},[e("img",{attrs:{src:t.imgSrc,alt:"empty"}}),t._v(" "),e("div",{staticClass:"desc"},[t._v(t._s(t.$t(t.tips)))])])}),[],!1,null,"c4346ef6",null);e.a=component.exports},355:function(t,e,o){"use strict";var n=o(5),r={props:{item:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{imgUrl:function(){var t,e=this.item,o=e.nsfw,n=e.obj_type;return 1===o&&9===n?"https://image.cdn2.seaart.ai/static/upload/20231207/39b3e881-ae85-415d-b7aa-74182b3b6267.webp":(null===(t=this.item)||void 0===t||null===(t=t.cover)||void 0===t?void 0:t.url)||""}},methods:{imgErrfn:function(t){this.imgUrl&&(t.target.style.display="none",Object(n.a)(this.imgUrl),Object(n.m)().length>=10&&(Object(n.C)("imgerr",Object(n.m)()||[]),Object(n.g)()))}}},l=(o(2951),o(0)),component=Object(l.a)(r,(function(){var t,e=this,o=e._self._c;return o("div",{directives:[{name:"lazyload",rawName:"v-lazyload"}],staticClass:"image-item-box flex_c_m"},[o("img",{staticClass:"bg-image",attrs:{"data-src":e.imgUrl,alt:(null===(t=e.item)||void 0===t?void 0:t.title)||""},on:{error:e.imgErrfn}})])}),[],!1,null,"ed20a61a",null);e.a=component.exports},491:function(t,e,o){"use strict";(function(t){o(9),o(11),o(12),o(6);var n=o(97),r=o(3),l=o(31),c=o(2),d=(o(3148),o(44),o(3149)),h=o.n(d),f=(o(615),o(337)),v=o.n(f),m=(o(20),o(16),o(7),o(10),o(14),o(8),o(4),o(23),o(49),o(18),o(37),o(120),o(21)),_=o(1914),y=o(1915),w=o(1916),C=o(1917),k=o(1918),O=o(1919),x=o(1920),P=o(1921),j=o(184),$=o(1),L=o(1922),I=o(30),S=o(42),D=["openLoginDialog"];function T(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function F(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?T(Object(o),!0).forEach((function(e){Object(c.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):T(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}e.a={name:"LoginPopup",components:{EmailLogin:_.a,PhoneLogin:y.a,SendEmail:w.a,RegisterInput:C.a,SetPassword:k.a,TagView:O.a,GoogleLogin:x.a,FacebookLogin:P.a,Agreement:L.a,ElDivider:v.a,ElCard:h.a},props:{isShowPopup:{type:Boolean,default:!1},redirect:{type:String,default:"/"},isShowCloseIcon:{type:Boolean,default:!0},isAutoFoucs:{type:Boolean,default:!0},paramsCallBack:{type:Function,default:null},showActive:{type:Boolean,default:!1},loginFrom:{type:String,required:!0,default:""},dotCover:{type:Boolean,default:!1},backgroundUrl:{type:String,default:""},autoActive:{type:Boolean,default:!1}},data:function(){return{loginLoading:!1,titleText:"Login",showText:"SelectTLMYN",step:"login-types",stepMap:{"login-types":["Login","SelectTLMYN"],"email-login":["Login","SignIWYE"],"send-email":["VerifyIdentity",""],"register-input":["Register","RegisterWYE"],"set-password":["Register","ResetPassword"],"final-step":["Get Started","Please complete your personal information"]},allSteps:["login-types","email-login","send-email","register-input","set-password","final-step"],verificationMethod:"email",sendEmailValue:"",registerPass:"",sendEmailType:"register",accountNum:"",token:"",needCode:!0,code:"",userCode:"",inviteType:"",authed:!0,showRegister:!1,emailOrPhone:!0,showDtlForEn:!1,errorCodeMap:{20001:"AccountNoExistent",20004:"AccountDisabled",20005:"PasswordError",20002:"ResetLinkExpired",20003:"ResetLinkExpired",20010:"actNotAvailable",20100:"InvalidEmail",20101:"EmailRegistered",20105:"VerifiCodeError",40002:"InviteCodeError"},descriptionList:[{title:"AI_Images",desc:"AI_Images_Desc"},{title:"gpt_tab_person",desc:"gpt_tab_person_desc"},{title:"AI_Tools",desc:"AI_Tools_Desc"}]}},computed:F(F(F(F(F({},Object($.e)("user",["used","userInfo"])),Object($.e)("app",["ABInfo"])),Object($.c)("user",["isLoggedIn"])),Object($.c)("creation",["showSampleMode"])),{},{loginSource:function(){var t=this.dotCover;return("recommendPage"!==this.loginFrom?this.loginFrom:"B"===this.ABInfo.filter_recommend?"recommendPage_recommend":"recommendPage_hot")+(t?"_cover":"")},inviteCodeObj:function(){var t={};return this.code&&(t.invitation_code=this.code),this.userCode&&(t.invite_user_code=this.userCode),t.source=this.loginSource,this.showSampleMode&&(t.source="simple_flow"),t},filterDescriptionList:function(){if(this.$isChinaSite){var t=["gpt_tab_person"];return this.descriptionList.filter((function(e){return!t.includes(e.title)}))}return this.descriptionList},backgroundStyle:function(){return this.backgroundUrl?{backgroundImage:"url(".concat(this.backgroundUrl,")")}:{}}}),watch:{step:{handler:function(t){if(-1!==this.allSteps.indexOf(t)){var e=Object(l.a)(this.stepMap[t],2),title=e[0],text=e[1];this.showText=text,"register"===this.sendEmailType&&"send-email"===t?this.titleText="Register":"set-password"===t&&"forget"===this.sendEmailType?this.titleText="ResetPassword":this.titleText=title}else this.step="login-types"},immediate:!0},showActive:{handler:function(t){t&&(this.step="final-step")},immediate:!0}},mounted:function(){this.userCode=Object(S.m)(),this.updateIsNewUser();var t=Object(S.i)();t&&["0","1","true","false"].includes(t)&&localStorage.removeItem("loginFrom")},methods:F(F(F(F({},Object($.b)("user",["setUserInfo","getAccountInfo","setTempToken","setName","updateIsNewUser","logout"])),Object($.b)("chatgpt",["getMainMessage"])),Object($.b)("payment",["getPaymentInfo"])),{},{getUrlQuery:function(){if(this.code=localStorage.getItem("inviteCode"),this.inviteType=localStorage.getItem("inviteType"),window.location.search.length>1){var t=this.$route.query,e=t.type,o=t.token,n=t.account_no,code=t.code,r=t.inviteType,l=t.toActive,c=t.u_code,d=t.tencentCode,h=t.tencentType,f=c,v=void 0===h?"qq":h;if(l)return void(this.step="final-step");this.saveUrlData(code,r),"undefined"!==String(f)&&this.updateUCode(f),o?this.dealPathToken(o,e,n):(this.step="login-types",d&&this.loginTencent(v,d))}},dealPathToken:function(t,e,o){if(t)if(this.token=t,"resetpassword"===e)this.setPassword();else{var n={register:4,login:6,12:12}[e];n&&this.loginToken(n)}},loginToken:function(t){if(this.token){var param={token:this.token,type:t};this.loginFun(param)}},setPassword:function(){this.sendEmailType="forget",this.step="set-password"},saveUrlData:function(code,t){this.needCode&&(this.code=code,localStorage.setItem("inviteCode",this.code)),t&&(this.inviteType=t,localStorage.setItem("inviteType",t))},goto:function(t){var e=t.pagename,o=t.type,param=t.param;"forget-password"===e?(this.sendEmailValue=param.email,this.sendEmailType="forget"):"send-email"===e&&("forget"===o?(this.sendEmailValue=param.email,this.sendEmailType="forget",this.sendEmail()):"register"===o&&(this.sendEmailValue=param.email,this.registerPass=param.password,this.sendEmailType="register",this.sendEmail())),"login-types"===e&&(this.showRegister=!1),"register-input"!==e?this.step=e:this.showRegister=!0},sendEmail:function(){this.sendEmailType&&this.sendVerifyEmail(this.sendEmailType)},sendVerifyEmail:function(t){var e=this;if("register"===t){var param={email:this.sendEmailValue,password:this.registerPass};param=Object.assign({},param,this.inviteCodeObj),localStorage.getItem("reg_source_try")&&(param.source=localStorage.getItem("reg_source_try")),Object(m.hb)(param).then((function(t){var o=t.status,n=(void 0===o?{}:o).code,code=void 0===n?0:n;1e4===code?e.$message.success(e.$t("SendingSucceeded")):Object.keys(e.errorCodeMap).includes(String(code))?e.$message.error(e.$t(e.errorCodeMap[code])):e.$message.error(t.status.msg||e.$t("FailSendEmail"))})).finally((function(){localStorage.removeItem("reg_source_try")}))}else"forget"===t&&Object(m.x)({email:this.sendEmailValue}).then((function(t){1e4===t.status.code?e.$message.success(e.$t("SendingSucceeded")):e.$message.error(t.status.msg||e.$t("FailSendEmail"))}))},authForSignIn:function(){this.authed=!0,this.showText="SetUpAccount",console.log("this.authed","--",this.authed,this.$t(this.showText))},loginByThird:function(t){console.log("loginByThird","--",t);var e=t.token,o=void 0===e?"":e,n=t.type,param={token:o,type:void 0===n?2:n};this.loginFun(param)},loginTencent:function(){var param={token:arguments.length>1?arguments[1]:void 0,type:"qq"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"qq")?10:11};this.loginFun(param)},loginFun:function(param){var t=this;this.loginLoading=!0;var p=F({},param);p=Object.assign({},p,this.inviteCodeObj);var e=Object(S.e)(),o=e.track_id,n=e.creative_id;o&&(p.track_id=o),n&&(p.creative_id=n);var r=localStorage.getItem("from_url");p.from_url=r||"";var l=localStorage.getItem("skyfallParams")?JSON.parse(localStorage.getItem("skyfallParams")):{};0!==Object.keys(l).length&&(p=Object.assign(p,l)),(localStorage.getItem("yahooFlag")||null)&&(p.utm_source="yahoo"),this.autoActive&&(p.activate=1),Object(m.N)(p).then((function(e){var o,code=null==e||null===(o=e.status)||void 0===o?void 0:o.code;if(1e4===code){localStorage.removeItem("skyfallParams"),localStorage.removeItem("yahooFlag"),t.addMarketLogEvent(p);var n=e.data.account,r=n.status,l=n.device_code;if(2===n.guide_status&&p.utm_source&&p.utm_source,![1,3].includes(r))return void t.$message.error(t.$t("AccountDisabled"));t.$logEvent("web_login"),l&&t.$cookies.set("deviceId",l),t.code&&localStorage.removeItem("inviteCode"),t.finalPage(r,e.data,null==param?void 0:param.type)}else Object.keys(t.errorCodeMap).includes(String(code))?(t.$message.error(t.$t(t.errorCodeMap[code])),40002===code&&(t.userCode="",Object(S.q)())):t.$message.error(e.status.msg||t.$t("LoginFailed"))})).finally((function(){t.loginLoading=!1;try{t.$refs.google.loadingGoogle.close(),t.$refs.facebook.loadingFacebook.close()}catch(t){}}))},finalPage:function(){var t=arguments,e=this;return Object(r.a)(regeneratorRuntime.mark((function o(){var n,data,r,l,c,d,h,f,v;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(n=t.length>0&&void 0!==t[0]?t[0]:1,data=t.length>1&&void 0!==t[1]?t[1]:{},r=t.length>2&&void 0!==t[2]?t[2]:1,Object(S.q)(),l=data.account,l.id,l.name,c=l.email,d=l.create_at,h=l.status,f=l.lang_code,1===n){e.updateIsNewUser(r.toString()),e.$message.success(e.$t("LoginSuccess"));try{Object(j.c)(data.account)}catch(t){console.log("error",t)}e.$cookies.set("T",data.token,{maxAge:5184e3,path:"/"}),Object(I.m)(),e.$store.dispatch("creation/getTaskOptionsInfo"),e.setUserInfo(F({},data)),e.closePopup(1),e.getMainMessage(),e.$logEvent("log_login_accounts",{source:e.code,mail:c,reg_at:d}),e.resetForm(),v="/"!==e.redirect&&""!==e.redirect,f&&e.$cookies.set("lang",f,{maxAge:31536e3,path:"/"}),v?e.$router.replace(e.localePath(e.redirect,f)):f!==e.$i18n.locale&&e.$router.replace(e.switchLocalePath(f))}else 3===n&&(e.setTempToken(data.token),e.setName(data.account.name),e.isShowPopup?e.step="final-step":e.$EventBus.$emit("openLoginDialog",{openActive:!0}));3!==h&&e.$EventBus.$emit("hasCanRewards"),e.paramsCallBack&&e.paramsCallBack();case 8:case"end":return o.stop()}}),o)})))()},resetForm:function(){this.step="login-types",this.showDtlForEn=!1,this.emailOrPhone=!0,this.showRegister=!1},closePopup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.resetForm(),0===t&&this.$route.name.includes("Home")){var e=this.$route.query,o=(e.openLoginDialog,Object(n.a)(e,D));this.$router.replace({path:this.$route.path,query:o}).catch((function(t){}))}this.$emit("changeShowPopup",!1)},discordLogin:function(){var t=this.userCode?"&state="+this.userCode:"&state=",source="|"+this.loginSource;this.showSampleMode&&(source="|simple_flow"),t+=source;var link="https://discord.com/oauth2/authorize?response_type=code&client_id=".concat("1090452818831347793","&scope=identify%20guilds.join").concat(t,"&redirect_uri=").concat("https://www.seaart.ai/api/v1/account/notify/discord");console.log("link",link),window.open(link,"_self")},QQLogin:function(){var t=encodeURIComponent("https://www.haiyiai.com/qqcallback");console.log("redirectUrl",t);var e=Math.floor(9e6*Math.random())+1e6;window.open("https://graph.qq.com/oauth2.0/authorize?client_id=102060842&response_type=code&scope=get_user_info&state=".concat(e,"&redirect_uri=").concat(t),"_self")},wechatLogin:function(){var e=encodeURIComponent(t.env.VUE_APP_CN_URL+"wechatcallback"),o=Math.floor(9e6*Math.random())+1e6;window.open("https://open.weixin.qq.com/connect/qrconnect?appid=wx4b6f9720ccb40ac7&redirect_uri=".concat(e,"&response_type=code&scope=snsapi_login&state=").concat(o),"_self")},toggleEmlOrPhone:function(t){this.showDtlForEn=!0,this.showRegister=!1,this.emailOrPhone=t},updateUCode:function(code){console.log("updateUCode",code),code&&(this.userCode=code,Object(S.w)(code),console.log("index 更新邀请码",code))},addMarketLogEvent:function(p){var t="";switch(p.type){case 2:t="web_login_google";break;case 3:t="web_login_facebook";break;case 6:t="web_login_discord";break;case 1:t="web_login_email";break;case 9:t="web_login_phone"}this.$logEvent(t)}})}}).call(this,o(195))},499:function(t,e,o){"use strict";o(9),o(7),o(11),o(12),o(8),o(4),o(6);var n=o(3),r=o(2),l=(o(20),o(1)),c=o(21),d=(o(14),o(16),o(10),o(36),o(29),o(5)),h=o(15);o(70),o(19),o(28);function f(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function v(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?f(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var m={props:{value:{type:Boolean,default:!1},followCount:{type:Number,default:0},type:{type:String,default:"following"},userid:{type:String,default:null}},computed:v(v({},Object(l.e)("user",["userInfo"])),{},{dialogVisible:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},setFollow:function(){return function(t){return t.is_follow?"follower"==this.type?"MutualFollowing":"follow-cancel":"follow-repeal"}}}),data:function(){return{followList:[],formData:{after_id:0,limit:10},loading:!1,followLoading:!1,noMoreData:!1,chageCount:0}},watch:{dialogVisible:{handler:function(t){var e=this;t?("following"==this.type?this.chageCount=this.followCount:this.chageCount=0,0==this.followList.length&&this.getFollowList(),this.$nextTick((function(){e.$refs.list.addEventListener("scroll",e.checkLoadMore)}))):(this.formData.after_id=0,this.noMoreData=!1,this.followList=[],this.$refs.list.removeEventListener("scroll",this.checkLoadMore))}},userid:{handler:function(t){t?this.formData.account_no=t:delete this.formData.account_no}}},mounted:function(){this.userid&&(this.formData.account_no=this.userid)},methods:v(v({},Object(l.d)("user",["changeFollowData"])),{},{getFollowList:function(){var t=this;if(!this.loading&&!this.noMoreData){this.loading=!0;var e=c.C;"follower"==this.type&&(e=c.D),e(this.formData).then((function(e){var o;if(t.loading=!1,0!=e.data.items.length){var n=e.data.items||[];"following"==t.type&&n.forEach((function(element){element.is_follow=!0})),(o=t.followList).push.apply(o,Object(h.a)(n)),t.formData.after_id=t.followList[t.followList.length-1].follow_at||t.followList[t.followList.length-1].follower_at}else t.noMoreData=!0})).catch((function(e){t.loading=!1}))}},checkLoadMore:function(){var t=this.$refs.list,e=t.scrollTop,o=t.scrollHeight;e+t.clientHeight>=o-300&&this.getFollowList()},followCancel:function(t){var e=this;if(!this.followLoading){this.followLoading=!0;var o=this.followList[t];o.is_follow?Object(c.w)({follow_account_no:o.account_no}).then((function(t){1e4==t.status.code&&(e.$logEvent("log_actions",{operation:"unfollow",behavior_info:o.account_no}),e.chageCount--,e.$set(o,"is_follow",!1),e.changeFollowData({id:o.id,is_follow:!1}))})).finally((function(){e.followLoading=!1})):Object(c.v)({follow_account_no:o.account_no}).then((function(t){1e4==t.status.code&&(e.chageCount++,e.$set(o,"is_follow",!0),e.changeFollowData({id:o.id,is_follow:!0}),e.$logEvent("log_actions",{operation:"follow",behavior_info:o.account_no}))})).finally((function(){e.followLoading=!1}))}},onClose:function(){this.$emit("close",this.chageCount)},initials:function(t){return t.split(" ").map((function(t){return t[0]})).join("")},otherUser:function(t){var path="/user/"+encodeURIComponent(t.account_no);this.userInfo.id==t.account_no&&(path="/personal"),this.$router.push(this.localePath(path)),this.dialogVisible=!1}})},_=(o(2480),o(0)),y=Object(_.a)(m,(function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{title:"following"==t.type?t.$t("Following")+"(".concat(t.followCount,")"):t.$t("Follower")+"(".concat(t.followCount,")"),visible:t.dialogVisible,top:"30vh",width:"508px","custom-class":"SaDialog","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e},close:t.onClose}},[e("div",{staticClass:"main"},[e("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"list",staticClass:"list"},t._l(t.followList,(function(o,n){return e("li",{key:n},[e("div",{staticClass:"user",on:{click:function(e){return t.otherUser(o)}}},[o.head?e("img",{staticClass:"avatorClass",attrs:{decoding:"async",loading:"lazy",src:o.head,alt:""}}):e("div",{staticClass:"avatorClass"},[t._v("\n\t\t\t\t\t\t"+t._s(t.initials(o.name||o.id))+"\n\t\t\t\t\t")]),t._v(" "),e("span",{staticClass:"ellipsis-text"},[t._v(t._s(o.name||o.id))])]),t._v(" "),t.userid?t._e():e("i",{directives:[{name:"loading",rawName:"v-loading",value:t.followLoading,expression:"followLoading"}],class:"bnt iconfont icon-".concat(t.setFollow(o)),on:{click:function(e){return t.followCancel(n)}}})])})),0)])])}),[],!1,null,"455dae06",null).exports,w=o(263),C=(o(18),o(45)),k=o(38),O=o(2006);function x(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}var P={name:"SettingDialog",components:{draggable:o.n(O).a},data:function(){return{loading:!1,isShowDialog:!1,avatarUploading:!1,avatarUrl:"",userName:"",gender:0,intro:"",notice:"",bgUploading:!1,bgUrl:"",isOpen:!0,listArr:[{key:"Work",obj_type:1,is_show:!0},{key:"Model",obj_type:2,is_show:!0},{key:"digitalHuman",obj_type:9,is_show:!0},{key:"Post",obj_type:7,is_show:!0},{key:"Canvas",obj_type:11,is_show:!0},{key:"WorkflowAIAPP",obj_type:13,is_show:!0},{key:"AIAudio",obj_type:16,is_show:!0}]}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?x(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):x(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(l.e)("user",["userInfo","avatar"])),methods:{show:function(){var t,e,o,n,r,l,c,d;this.avatarUrl=(null===(t=this.userInfo)||void 0===t||null===(t=t.review)||void 0===t?void 0:t.avatar)||(null===(e=this.userInfo)||void 0===e?void 0:e.head)||this.avatar,this.userName=this.userInfo.name,this.gender=(null===(o=this.userInfo)||void 0===o||null===(o=o.home_set)||void 0===o?void 0:o.sex)||0,this.intro=(null===(n=this.userInfo)||void 0===n||null===(n=n.home_set)||void 0===n?void 0:n.intro)||"",this.notice=(null===(r=this.userInfo)||void 0===r||null===(r=r.home_set)||void 0===r?void 0:r.notice)||"",this.bgUrl=(null===(l=this.userInfo)||void 0===l||null===(l=l.home_set)||void 0===l?void 0:l.background_img)||"",(null===(c=this.userInfo)||void 0===c?void 0:c.overview_list)&&(this.listArr=null===(d=this.userInfo)||void 0===d?void 0:d.overview_list),this.listArr.forEach((function(t){"ComfyUI"===t.key&&(t.key="WorkflowAIAPP")})),this.isShowDialog=!0},close:function(){this.isShowDialog=!1},avatarBeforeUpload:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.avatarUploading=!0,["image/jpeg","image/png","image/webp","image/jpg"].includes(t.type)){o.next=6;break}return e.avatarUploading=!1,e.$message.error(e.$t("AllowImageFiles")),o.abrupt("return",!1);case 6:if(t.size/1024/1024<=2){o.next=19;break}return o.prev=8,o.next=11,Object(C.a)(t,2097152);case 11:t=o.sent,o.next=19;break;case 14:return o.prev=14,o.t0=o.catch(8),console.error("Compression failed:",o.t0),e.avatarUploading=!1,o.abrupt("return",!1);case 19:if(t.size/1024/1024<=2){o.next=24;break}return e.avatarUploading=!1,e.$message.error(e.$t("UploadImageExceed2MB")),o.abrupt("return",!1);case 24:e.handleAvatarUpload(t);case 25:case"end":return o.stop()}}),o,null,[[8,14]])})))()},handleAvatarUpload:function(t){var e=this;new k.a({type:23}).startUpload(t).then((function(t){e.avatarUploading=!1,e.avatarUrl=t})).catch((function(){e.avatarUploading=!1,console.error("上传头像失败")}))},bgBeforeUpload:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.bgUploading=!0,["image/jpeg","image/png","image/webp","image/jpg"].includes(t.type)){o.next=6;break}return e.bgUploading=!1,e.$message.error(e.$t("AllowImageFiles")),o.abrupt("return",!1);case 6:if(t.size/1024/1024<=10){o.next=19;break}return o.prev=8,o.next=11,Object(C.a)(t,10485760);case 11:t=o.sent,o.next=19;break;case 14:return o.prev=14,o.t0=o.catch(8),console.error("Compression failed:",o.t0),e.bgUploading=!1,o.abrupt("return",!1);case 19:if(t.size/1024/1024<=10){o.next=24;break}return e.bgUploading=!1,e.$message.warning(e.$t("ExceedingNumberMB",{number:10})),o.abrupt("return",!1);case 24:e.handleBgUpload(t);case 25:case"end":return o.stop()}}),o,null,[[8,14]])})))()},handleBgUpload:function(t){var e=this;new k.a({type:5}).startUpload(t).then((function(t){e.bgUploading=!1,e.bgUrl=t})).catch((function(){e.bgUploading=!1,console.error("上传背景失败")}))},handleSave:function(){var t=this;this.userName?(this.loading=!0,Object(c.t)({avatar:this.avatarUrl,nickname:this.userName,home_set:{sex:this.gender,intro:this.intro,notice:this.notice,background_img:this.bgUrl},overview_list:this.listArr}).then((function(e){t.$message.success(t.$t("SaveSuccess")),t.close(),t.loading=!1})).catch((function(){t.$message.error(t.$t("SaveFailed")),t.loading=!1}))):this.$message.warning(this.$t("EnterNickname"))}}},j=P,$=(o(2481),Object(_.a)(j,(function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"setting-dialog",attrs:{width:"690px","append-to-body":"",modal:!1,visible:t.isShowDialog,"show-close":!1,"close-on-click-modal":!1,"destroy-on-close":!0},on:{"update:visible":function(e){t.isShowDialog=e}}},[e("i",{staticClass:"setting-dialog-close el-icon-close",on:{click:t.close}}),t._v(" "),e("div",{staticClass:"setting-dialog-title"},[t._v(t._s(t.$t("EditProfile")))]),t._v(" "),e("div",{staticClass:"setting-dialog-avatar"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("AI_person_avatar")))]),t._v(" "),e("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:t.avatarUploading,expression:"avatarUploading"}],staticClass:"uploader",attrs:{action:"/",accept:"image/*","show-file-list":!1,"http-request":function(){},"before-upload":t.avatarBeforeUpload}},[t.avatarUrl?e("img",{staticClass:"avatar",attrs:{src:t.avatarUrl}}):e("i",{staticClass:"el-icon-plus"})])],1),t._v(" "),e("div",{staticClass:"setting-dialog-name"},[e("div",{staticClass:"label"},[e("span",{staticClass:"red-star"},[t._v("*")]),t._v(t._s(t.$t("enterName"))+"\n\t\t")]),t._v(" "),e("el-input",{staticClass:"user-name-input",attrs:{placeholder:t.$t("EnterNickname"),minlength:"1",maxlength:"20","show-word-limit":""},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}})],1),t._v(" "),e("div",{staticClass:"setting-dialog-gender"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("gender")))]),t._v(" "),e("el-radio-group",{staticClass:"gender-raido-group",model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},[e("el-radio",{attrs:{label:1}},[t._v(t._s(t.$t("Male")))]),t._v(" "),e("el-radio",{attrs:{label:2}},[t._v(t._s(t.$t("Female")))]),t._v(" "),e("el-radio",{attrs:{label:0}},[t._v(t._s(t.$t("NoGender")))])],1)],1),t._v(" "),e("div",{staticClass:"setting-dialog-intro"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("gpt_profile")))]),t._v(" "),e("el-input",{staticClass:"setting-textarea",attrs:{type:"textarea",resize:"none",maxlength:400,"show-word-limit":""},model:{value:t.intro,callback:function(e){t.intro=e},expression:"intro"}})],1),t._v(" "),e("div",{staticClass:"setting-dialog-notice"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("publicNotice")))]),t._v(" "),e("el-input",{staticClass:"setting-textarea",attrs:{type:"textarea",resize:"none",maxlength:400,"show-word-limit":""},model:{value:t.notice,callback:function(e){t.notice=e},expression:"notice"}})],1),t._v(" "),e("div",{staticClass:"setting-dialog-bg"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("BgImg")))]),t._v(" "),e("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:t.bgUploading,expression:"bgUploading"}],staticClass:"uploader",attrs:{action:"/",accept:"image/*","show-file-list":!1,"http-request":function(){},"before-upload":t.bgBeforeUpload}},[t.bgUrl?e("div",{staticClass:"uploaded-box"},[e("div",{staticClass:"del-icon flex-center",on:{click:function(e){e.stopPropagation(),t.bgUrl=""}}},[e("i",{staticClass:"del el-icon-close"})]),t._v(" "),e("img",{staticClass:"bg",attrs:{src:t.bgUrl},on:{click:function(t){t.stopPropagation()}}})]):e("div",{staticClass:"upload-tip flex-center"},[e("i",{staticClass:"el-icon-upload"}),t._v(" "),e("div",{staticClass:"text"},[t._v(t._s(t.$t("BgUploadSuggestion")))])])])],1),t._v(" "),e("div",{staticClass:"setting-dialog-overview"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("OverviewDisplay")))]),t._v(" "),e("div",{staticClass:"desc"},[t._v("\n\t\t\t"+t._s(t.$t("OverviewDesc"))+"\n\t\t\t"),e("i",{staticClass:"el-icon-arrow-down",class:{"is-reverse":t.isOpen},on:{click:function(e){t.isOpen=!t.isOpen}}})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"list"},[e("draggable",{model:{value:t.listArr,callback:function(e){t.listArr=e},expression:"listArr"}},t._l(t.listArr,(function(o){return e("div",{key:o.key,staticClass:"item"},[e("div",[e("i",{staticClass:"el-icon-rank"}),t._v(" "),e("span",[t._v(t._s(t.$t(o.key)))])]),t._v(" "),e("el-switch",{model:{value:o.is_show,callback:function(e){t.$set(o,"is_show",e)},expression:"item.is_show"}})],1)})),0)],1)]),t._v(" "),e("div",{staticClass:"setting-dialog-footer"},[e("el-button",{staticClass:"cancel",on:{click:t.close}},[t._v(t._s(t.$t("Cancel")))]),t._v(" "),e("el-button",{staticClass:"save",attrs:{loading:t.loading},on:{click:t.handleSave}},[t._v(t._s(t.$t("Save")))])],1)])}),[],!1,null,null,null).exports);function L(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function I(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?L(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):L(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var S=o(291),D={name:"UserInfoLeft",components:{FollowList:y,InviteDialog:w.a,SettingDialog:$},props:{isOpen:{type:Boolean,default:!0},userData:{type:Object,default:function(){}}},data:function(){var t;return{isPersonal:null===(t=this.$route.meta)||void 0===t?void 0:t.isPersonal,followLoading:!1,statistics:[{key:"Following",value:"following_cnt"},{key:"Follower",value:"follower_cnt"},{key:"Collects",value:"colleted_cnt"},{key:"Views",value:"view_cnt"}],dialogVisible:!1,follwType:"following",tools:[{key:"share",icon:"icon-icons-Share"},{key:"setting",icon:"icon-icons-setting1"}],qrCode:null,copyTime:null,scrollY:0}},mounted:function(){var t=this;this.$nextTick((function(){t.appendQrCode()}))},beforeDestroy:function(){this.qrCode&&this.qrCode.clear()},watch:{inviteCode:function(){this.appendQrCode()}},computed:I(I(I(I(I({},Object(l.e)("user",["userInfo","cdnHost"])),Object(l.e)("payment",["paymentInfo"])),Object(l.e)("app",["topBanner"])),Object(l.c)("user",["accountData","isCompanyAccount"])),{},{getLeftStyle:function(){return{top:this.topBanner?"108px":"62px",left:this.isOpen?"0":"-320px"}},getUserData:function(){return this.isPersonal?this.userInfo:this.userData},isVip:function(){var t,e,o,n=null===(t=this.getUserData)||void 0===t?void 0:t.is_vip,r=(null===(e=this.paymentInfo)||void 0===e?void 0:e.activeState)||(null===(o=this.paymentInfo)||void 0===o?void 0:o.liteActiveState);return this.isPersonal?r:n},isMale:function(){var t;return 1==(null===(t=this.getUserData)||void 0===t||null===(t=t.home_set)||void 0===t?void 0:t.sex)},isJoin:function(){var t;return null===(t=this.getUserData)||void 0===t?void 0:t.join_stimulate},isModelCreator:function(){var t;return null===(t=this.getUserData)||void 0===t?void 0:t.is_model_creator},convertUsername:function(){var t=this.getUserData?this.getUserData.name||this.getUserData.id:"";return t=["",null,void 0].includes(t)?"V":t.length?t.slice(0,1).toUpperCase():"V"},getNumer:function(){var t=this;return function(e){var o;return Object(d.i)((null===(o=t.getUserData)||void 0===o?void 0:o[e.value])||0)}},inviteCode:function(){var t;return null===(t=this.getUserData)||void 0===t?void 0:t.invite_user_code},isShowLine:function(){var t,e;return(null===(t=this.getUserData)||void 0===t||null===(t=t.home_set)||void 0===t?void 0:t.intro)||this.isJoin||this.isModelCreator||(null===(e=this.getUserData)||void 0===e?void 0:e.c_home)}}),methods:I(I({},Object(l.b)("user",["getAccountInfo"])),{},{goMall:function(){this.isCompanyAccount||(this.$logEvent("log_actions",{operation:"subscription_page_show",behavior_info:location.href}),this.$router.push("/mall"))},goPlan:function(){var path=this.isJoin?"/creationCenter":"/motivatingTask";this.isJoin&&this.$logEvent("log_actions",{operation:"click_creator_revenue_center"}),this.$router.push(path)},handleNumberClick:function(t){if("Collects"!=t&&"Views"!==t){this.openFollewList({Following:"following",Follower:"follower"}[t])}},setCont:function(t){var e;"following"==this.follwType&&null!==(e=this.getUserData)&&void 0!==e&&e.following_cnt?this.getUserData.following_cnt=t:this.getUserData.following_cnt+=t},openFollewList:function(t){this.follwType=t,this.dialogVisible=!0},appendQrCode:function(){if(this.inviteCode&&!this.qrCode){var t=this.$refs.QRCodeContainer,e="".concat(window.location.origin,"/")+"home?u_code="+this.inviteCode;this.qrCode=new S(t,{text:e,width:76,height:76})}},copyCode:function(){var t=this,e=this.inviteCode;this.copyTime||(this.copyTime=setTimeout((function(){Object(d.d)(e),t.$message.success(t.$t("CopySuccess")),clearTimeout(t.copyTime),t.copyTime=null}),500))},handleToolClick:function(t){if(this.$logEvent("log_actions",{operation:{share:"click_share",setting:"click_edit"}[t],behavior_info:"on_personal_center"}),"share"==t){var e,o=this.getUserData.invite_user_code,n=this.localePath("/user/".concat(null===(e=this.getUserData)||void 0===e?void 0:e.id,"?u_code=").concat(o)),r=window.location.origin+n,l=Math.floor(8*Math.random())+1,c="https://".concat(this.cdnHost,"/Invite-images/invite_poster_").concat(l,".png");this.$refs.inviteDialog.show(r,c)}else this.$refs.settingDialog.show()},setFollow:function(t){var e=this;this.followLoading||(this.followLoading=!0,t?Object(c.v)({follow_account_no:this.$route.params.id}).then((function(t){1e4==t.status.code&&(e.$logEvent("log_actions",{operation:"follow",behavior_info:e.$route.params.id}),e.userData.is_follow=!0,e.userData.follower_cnt++)})).finally((function(){e.followLoading=!1})):Object(c.w)({follow_account_no:this.$route.params.id}).then((function(t){1e4==t.status.code&&(e.$logEvent("log_actions",{operation:"unfollow",behavior_info:e.$route.params.id}),e.userData.is_follow=!1,e.userData.follower_cnt--)})).finally((function(){e.followLoading=!1})))}})},T=(o(2482),Object(_.a)(D,(function(){var t,e,n,r,l,c,d,h,f,v,m=this,_=m._self._c;return _("div",{staticClass:"user-info-left",style:m.getLeftStyle},[_("div",{staticClass:"user-info-left-avatar"},[null!==(t=m.getUserData)&&void 0!==t&&t.head?_("img",{directives:[{name:"webp",rawName:"v-webp",value:m.$imgL,expression:"$imgL"}],staticClass:"width-height-hundred",attrs:{src:m.getUserData.head,alt:"avatar"}}):_("div",{staticClass:"name width-height-hundred flex-center"},[m._v("\n\t\t\t"+m._s(m.convertUsername)+"\n\t\t")]),m._v(" "),null!==(e=m.getUserData)&&void 0!==e&&null!==(e=e.home_set)&&void 0!==e&&e.sex?_("div",{staticClass:"gender flex-center"},[_("i",{staticClass:"iconfont",class:m.isMale?"icon-icon-nan":"icon-icon-nv"})]):m._e()]),m._v(" "),_("div",{staticClass:"user-info-left-name flex-center"},[_("span",{staticClass:"overflow-ellipsis"},[m._v(m._s(null===(n=m.getUserData)||void 0===n?void 0:n.name))]),m._v(" "),m.isVip?_("img",{attrs:{src:o(162),alt:"vip-icon"},on:{click:m.goMall}}):m._e()]),m._v(" "),m.isPersonal?_("div",{staticClass:"user-info-left-creation flex-center",class:{join:m.isJoin},on:{click:m.goPlan}},[_("i",{staticClass:"iconfont",class:m.isJoin?"icon-icon-jilijihua":"icon-a-jiaru1"}),m._v("\n\t\t"+m._s(m.$t(m.isJoin?"CreationCenter":"JoinPlan"))+"\n\t")]):_("div",{staticClass:"user-info-left-follow"},[m.userData.is_follow?_("div",{staticClass:"follow-btn following",on:{click:function(t){return m.setFollow(!1)}}},[_("i",{staticClass:"iconfont icon-icon-following1"}),m._v(" "),_("span",[m._v(m._s(m.$t("userFollowing")))])]):_("div",{staticClass:"follow-btn",on:{click:function(t){return m.setFollow(!0)}}},[_("i",{staticClass:"iconfont icon-icon-follow2"}),m._v(" "),_("span",[m._v(m._s(m.$t("Follow")))])])]),m._v(" "),_("div",{staticClass:"user-info-left-statistics"},m._l(m.statistics,(function(t){return _("div",{key:t.key,staticClass:"item-num",style:{cursor:"Collects"==t.key?"default":"pointer"},on:{click:function(e){return m.handleNumberClick(t.key)}}},[_("div",{staticClass:"num"},[m._v(m._s(m.getNumer(t)||0))]),m._v(" "),_("div",{staticClass:"desc"},[m._v(m._s(m.$t(t.key)))])])})),0),m._v(" "),m.isPersonal?_("div",{staticClass:"user-info-left-tools"},m._l(m.tools,(function(t){return _("div",{key:t.key,staticClass:"item-tool flex-center",on:{click:function(e){return m.handleToolClick(t.key)}}},[_("i",{staticClass:"iconfont",class:t.icon})])})),0):m._e(),m._v(" "),m.isShowLine?_("div",{staticClass:"user-info-left-line"}):m._e(),m._v(" "),null!==(r=m.getUserData)&&void 0!==r&&null!==(r=r.home_set)&&void 0!==r&&r.intro?_("div",{staticClass:"user-info-left-profile"},[_("div",{staticClass:"title"},[m._v(m._s(m.$t("gpt_profile")))]),m._v(" "),_("div",{staticClass:"content"},[m._v(m._s(null===(l=m.getUserData)||void 0===l||null===(l=l.home_set)||void 0===l?void 0:l.intro))])]):m._e(),m._v(" "),m.isJoin||m.isModelCreator?_("div",{staticClass:"user-info-left-medal"},[_("div",{staticClass:"title"},[m._v(m._s(m.$t("Medal")))]),m._v(" "),_("div",{staticClass:"medals"},[m.isJoin?_("el-tooltip",{attrs:{"popper-class":"custom-tips-popper",content:m.$t("CreationCenterName"),placement:"top"}},[_("img",{attrs:{src:o(473),alt:"badge-icon"},on:{click:m.goPlan}})]):m._e(),m._v(" "),m.isModelCreator?_("el-tooltip",{attrs:{"popper-class":"custom-tips-popper",content:m.$t("ModelCreator"),placement:"top"}},[_("img",{staticClass:"model-creator",attrs:{src:o(633),alt:m.$t("ModelCreator")}})]):m._e()],1)]):m._e(),m._v(" "),null!==(c=m.getUserData)&&void 0!==c&&c.c_home?_("div",{staticClass:"user-info-left-link"},[_("div",{staticClass:"title"},[m._v(m._s(m.$t("authorLinks")))]),m._v(" "),_("div",{staticClass:"content"},[m._v(m._s(m.getUserData.c_home))])]):m._e(),m._v(" "),_("div",{directives:[{name:"show",rawName:"v-show",value:m.isPersonal,expression:"isPersonal"}],staticClass:"user-info-left-infos"},[_("div",{ref:"QRCodeContainer",staticClass:"qr-img flex-center"}),m._v(" "),_("div",{staticClass:"invite-code flex-center"},[_("span",{staticClass:"text"},[m._v(m._s(m.$t("inviteCode"))+":")]),m._v(" "),_("span",{staticClass:"code"},[m._v(m._s(m.inviteCode))]),m._v(" "),_("i",{staticClass:"btn iconfont icon-copy1",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),m.copyCode.apply(null,arguments)}}})]),m._v(" "),_("div",{staticClass:"user-id"},[_("span",[m._v("User ID："+m._s(null===(d=m.getUserData)||void 0===d?void 0:d.id)+" ")])])]),m._v(" "),_("FollowList",{attrs:{type:m.follwType,followCount:"following"==m.follwType?null===(h=m.getUserData)||void 0===h?void 0:h.following_cnt:null===(f=m.getUserData)||void 0===f?void 0:f.follower_cnt,userid:m.isPersonal?"":null===(v=m.getUserData)||void 0===v?void 0:v.id},on:{close:function(t){return m.setCont(t)}},model:{value:m.dialogVisible,callback:function(t){m.dialogVisible=t},expression:"dialogVisible"}}),m._v(" "),_("InviteDialog",{ref:"inviteDialog"}),m._v(" "),_("SettingDialog",{ref:"settingDialog"})],1)}),[],!1,null,"706d651a",null)),F=T.exports,A=(o(43),o(49),o(76),o(87)),N=o(39),E=o(35),M=o.n(E),R=o(33),B=o(545),U=o(546),V=o(547),W=o(548),H=o(550),z=o(549),G=o(551),J=o(552),Y=o(268),K=o(505),Q=o(553);function X(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Z(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?X(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):X(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var tt={name:"OverviewList",mixins:[R.a],components:{workItem:B.a,modelItem:U.a,bannerItem:V.a,toolItem:W.a,portfolioItem:H.a,articleItem:z.a,videoItem:G.a,paletteItem:J.a,comfyItem:Y.a,cyberBarItem:K.a,aiAudioItem:Q.a},props:{list:{type:Array,default:function(){return[]}},container:{type:String,require:!0},gap:{type:Number,default:16},cols:{type:Number,default:7},review:{type:Boolean,default:!1},isTiemRow:{type:Boolean,default:!1},isCheck:{type:Boolean,default:!1},checkMax:{type:Number,default:-1},dotReportInfo:{type:Object,default:function(){return{category:"default",view_domain:"",batch_id:""}}},isTrainLora:{type:Boolean,default:!1},resetHeight:{type:Boolean,default:!0},isDynamicList:{type:Boolean,default:!0},isShowNullRelatedImg:{type:Boolean,default:!1},styleObj:{type:Object,default:function(){return{}}},objType:{type:String,default:""}},data:function(){var t=this;return{fromPage:"userPage",isDelete:!1,dataList:this.list,width:0,scrollTop:0,selfCols:4,openWatch:!0,resizeListener:Object(A.a)((function(){return t.resize(t.dataList)}),500),lastTime:null,checkList:{ids:[],collectIds:[],folderNos:[],url:[]},isCheckAll:!1,sysTag:{latest:{color:"#ffffff",bg:"#0ABF94",txt:"New"},essence:{color:"#ffffff",bg:"rgb(241,49,78)",txt:"essence"},exclusive:{color:"#744100",bg:"#F4D292",txt:"exclusive"},first:{color:"#744100",bg:"#F4D292",txt:"debut"},recommended:{color:"#ffffff",bg:"#0ABF94",txt:"Recommend"}},startIndex:0,lastScrollTop:0,isServer:!0,openWaterFall:!1}},computed:Z(Z({},Object(l.c)("user",["isLoggedIn","accountSettingsData"])),Object(l.e)("user",["userInfo","accountData"])),watch:{cols:{handler:function(t){var e=this;this.$nextTick((function(){e.width=e.getWidth()}))},immediate:!0},list:{handler:function(t){var e=this;this.$nextTick((function(){var o=e.openWatch;e.width;if(o){0==e.width&&(e.width=e.getWidth());var n=M()(t);if(e.dataList.length<100)e.$nextTick((function(){e.updateDataList(n,!1)}));else if(n.length>e.dataList.length){var r=Object(h.a)(n.slice(e.dataList.length));e.updateDataList(r,!0)}else n.length<e.dataList.length&&(e.dataList=[],e.startIndex=0,e.updateDataList(n,!1))}}))},immediate:!0},isCheck:{handler:function(t){this.isCheckAll=!1,this.dataList.forEach((function(t){t.isCheck=!1})),this.checkList={ids:[],collectIds:[],folderNos:[],url:[]},this.$emit("getChecList",this.checkList)}},WaterFallDeleteLits:{handler:function(t){this.isDelete=!0}}},activated:function(){this.openWatch=!0,this.isDelete&&(this.resizeListener(),this.isDelete=!1)},deactivated:function(){this.openWatch=!1},mounted:function(){this.isServer=!1},beforeDestroy:function(){},methods:Z(Z({},Object(l.b)("user",["getAccountInfo"])),{},{moreActions:function(t,e){var o=this,n=e.id,r=void 0===n?"":n,l=e.obj_type;switch(t){case"delete":this.$logEvent("log_actions",{operation:"click_delete",behavior_info:"on_personal_center",behavior_info_sub:l});this.$confirm(this.$t({2:"model_delete_tips",4:"post_delete_tips",5:"post_delete_tips",9:"character_delete_tips",11:"palette_delete_tips",13:"comfyui_delete_tips",16:"audioDeledQuery"}[l]||"canvas_delete_tips"),this.$t("Tip"),{confirmButtonText:this.$t("Confirm"),cancelButtonText:this.$t("Cancel"),type:"warning",customClass:"custom-confirm"}).then((function(){Object(c.g)({ids:[r],category:2,obj_type:l}).then((function(t){var e;1e4==(null==t||null===(e=t.status)||void 0===e?void 0:e.code)&&(o.$message({message:o.$t("deleteSuccess"),type:"success"}),setTimeout((function(){o.$emit("update")}),3e3))}))})).catch((function(t){console.log("err",t)}));break;case"pinOrNot":this.$logEvent("log_actions",{operation:"click_top_to_overview",behavior_info:"on_personal_center",behavior_info_sub:l});var d={obj_id:r,obj_type:l};null!=e&&e.isTop&&(d.up_type="down"),Object(c.I)(d).then((function(t){var n;1e4==(null==t||null===(n=t.status)||void 0===n?void 0:n.code)&&(o.$message({message:o.$t(null!=e&&e.isTop?"UnpinSuccess":"PinSuccess"),type:"success"}),o.$set(e,"isTop",!e.isTop),setTimeout((function(){o.$emit("update")}),3e3))}))}},handleRefresh:function(){},getItemTime:function(t){var e=new Date(t),o=e.getFullYear(),n=(e.getMonth()+1).toString().padStart(2,"0");return"".concat(o,"-").concat(n)},processTimeGroups:function(t){for(var i=0;i<t.length;i++){var e,o,n,r,l=t[i];if(null!=l&&null!==(e=l.folder_no)&&void 0!==e&&e.collect_at)if(this.getItemTime(null==l||null===(o=l.folder_no)||void 0===o?void 0:o.collect_at)!==this.lastTime)t.splice(i,0,{timeItem:this.getItemTime(null==l||null===(n=l.folder_no)||void 0===n?void 0:n.collect_at)}),this.lastTime=this.getItemTime(null==l||null===(r=l.folder_no)||void 0===r?void 0:r.collect_at)}return t},updateDataList:function(t,e){var o,n,r=this,l=this.WaterFallDeleteLits,c=this.width,h=this.isCheckAll,f=this.checkList,v=t.filter((function(t){return!l.includes(t.id)}));this.isTiemRow&&(e||(this.lastTime=null),this.processTimeGroups(v));for(var i=0;i<v.length;i++){var m=v[i];if(m.stat&&(this.$set(m.stat,"num_of_like",m.stat.num_of_like>0?Object(d.i)(m.stat.num_of_like):0),this.$set(m.stat,"num_of_collection",m.stat.num_of_collection>0?Object(d.i)(m.stat.num_of_collection):0)),1==m.obj_type&&this.$set(m,"propS",!1),m.timeItem)m.waterWidth=c,m.waterHeight=30;else{var _,y,w,C;if(this.$set(m,"NSFWSHOW",(null==m?void 0:m.nsfw_plus)&&(null===(_=this.userInfo)||void 0===_?void 0:_.enable_nsfw_plus)),!h&&f.ids.includes(m.id)?this.$set(m,"isCheck",f.ids.includes(m.id)):this.$set(m,"isCheck",!!h),h&&!f.ids.includes(m.id))f.ids.push(m.id),null!=m&&null!==(y=m.collect)&&void 0!==y&&y.id&&f.collectIds.push(m.collect.id),null!=m&&null!==(w=m.folder_no)&&void 0!==w&&w.id&&f.folderNos.push(m.folder_no.id),null!=m&&m.cover&&f.url.push(m.cover);if(m.timeDiff=Object(N.c)(m.created_at,Date.now(),this.$t),m.waterWidth=c,this.isTiemRow)m.waterHeight=c;else o=m.cover_width?m.cover_width:308,n=m.cover_height?m.cover_height:308,13==m.obj_type?(o=319,n=411):2==m.obj_type&&(o=337,n=476),9==m.obj_type&&(o=423,n=211),m.waterHeight=parseInt(n*c/o),isNaN(m.waterHeight)&&(m.waterHeight=320),16==m.obj_type&&(m.waterHeight=257),4==m.obj_type&&"article"==(null==m||null===(C=m.portfolio)||void 0===C?void 0:C.sub_channel)&&(m.waterHeight=334);m.cover&&!m.replaceUrl&&(m.replaceUrl=Object(d.x)(m.cover,13==m.obj_type?"high":"low"))}}e?v.forEach((function(t){r.dataList.push(t)})):this.dataList=v,this.waterfall()},selectCheck:function(t){-1==this.checkMax||this.checkList.ids.length<this.checkMax||t.isCheck?(this.checkList.ids.length==this.dataList.length&&(this.isCheckAll=!0),t.isCheck&&(this.isCheckAll=!1),t.isCheck=!t.isCheck):this.$message({message:this.$t("已超过最大选择上限"),type:"warning"})},checkAll:function(){var t=this;if(this.isCheck){var e=this.dataList.filter((function(t){return!t.timeItem}));this.checkList.ids.length<e.length?(e.forEach((function(e){e.isCheck=!0,t.checkChange(e)})),this.isCheckAll=!0):(e.forEach((function(e){e.isCheck=!1,t.checkChange(e)})),this.isCheckAll=!1)}},clearCheck:function(t){var e=this;t.forEach((function(t){e.dataList.forEach((function(e){t==e.id&&(e.isCheck=!1)})),e.checkList.ids.forEach((function(o,n){t!==o&&t.id!==o||(e.checkList.ids.splice(n,1),e.checkList.collectIds.splice(n,1),e.checkList.folderNos.splice(n,1),e.checkList.url.splice(n,1))}))})),this.$emit("getChecList",this.checkList)},checkChange:function(t){if(t.isCheck){var e,o,n;if(!this.checkList.ids.includes(t.id))this.checkList.ids.push(t.id),null!=t&&null!==(e=t.collect)&&void 0!==e&&e.id&&this.checkList.collectIds.push(t.collect.id),null!=t&&null!==(o=t.folder_no)&&void 0!==o&&o.id&&this.checkList.folderNos.push(t.folder_no.id),null!=t&&null!==(n=t.banner)&&void 0!==n&&n.url&&this.checkList.url.push(t.banner.url)}else{var r,l,c,d,h,f,v,m;if(-1==(null===(r=this.checkList)||void 0===r?void 0:r.ids.indexOf(t.id)))return;if(this.checkList.ids.splice(null===(l=this.checkList)||void 0===l?void 0:l.ids.indexOf(t.id),1),null!=t&&null!==(c=t.collect)&&void 0!==c&&c.id)this.checkList.collectIds.splice(null===(f=this.checkList)||void 0===f?void 0:f.collectIds.indexOf(t.collect.id),1);if(null!=t&&null!==(d=t.folder_no)&&void 0!==d&&d.id)this.checkList.folderNos.splice(null===(v=this.checkList)||void 0===v?void 0:v.folderNos.indexOf(t.folder_no.id),1);if(null!=t&&null!==(h=t.banner)&&void 0!==h&&h.url)this.checkList.url.splice(null===(m=this.checkList)||void 0===m?void 0:m.url.indexOf(t.banner.url),1)}this.$emit("getChecList",this.checkList)},resize:function(t){var e,o,n=this;this.openWatch&&(this.$parent.$refs[this.container].offsetWidth<600||(this.dataList=M()(t).filter((function(t){return!n.WaterFallDeleteLits.includes(t.id)})),this.width=this.getWidth(),this.dataList.forEach((function(t){if(t.timeItem)t.waterWidth=n.width,t.waterHeight=30;else{var r;if(t.timeDiff=Object(N.c)(t.created_at,Date.now(),n.$t),t.waterWidth=n.width,n.isTiemRow)t.waterHeight=n.width;else e=t.cover_width?t.cover_width:308,o=t.cover_height?t.cover_height:308,13==t.obj_type?(e=319,o=411):2==t.obj_type&&(e=337,o=476),9==t.obj_type&&(e=423,o=211),t.waterHeight=parseInt(o*n.width/e),isNaN(t.waterHeight)&&(t.waterHeight=320),16==t.obj_type&&(t.waterHeight=257),4==t.obj_type&&"article"==(null==t||null===(r=t.portfolio)||void 0===r?void 0:r.sub_channel)&&(t.waterHeight=334);t.cover&&!t.replaceUrl&&(t.replaceUrl=Object(d.x)(t.cover,13==t.obj_type?"high":"low"))}})),this.waterfall()))},waterfall:function(){var t=this;try{this.openWaterFall=!1,this.heights=[];for(var e=function(){var e,o=t.dataList[i],n=o.waterHeight,r=6==o.obj_type?0:1==o.obj_type||7==o.obj_type?40:70;if((13==o.obj_type||2==o.obj_type||9==o.obj_type||14==o.obj_type||16==o.obj_type||4==o.obj_type&&"article"==(null==o||null===(e=o.portfolio)||void 0===e?void 0:e.sub_channel))&&(r=0),o.timeItem){o.left=0;var l=t.getMaxIndex(t.heights);o.top=l>-1?t.heights[l]+t.gap:0,t.heights.forEach((function(e,l){t.heights[l]=o.top+n+r}))}else if(t.heights.length<t.selfCols)if(t.dataList[i-1]&&t.dataList[i-1].timeItem)if(o.left=0,o.top=t.dataList[i-1].top+t.dataList[i-1].waterHeight+t.gap,t.heights[0]){var c=t.heights[0]+n+r;t.heights=[c+t.gap]}else t.heights.push(o.top+n+r);else o.top=t.dataList[i-1]?t.dataList[i-1].top:0,o.left=t.heights.length*(t.width+t.gap),t.heights.push(o.top+n+r);else{var d=t.getMinIndex(t.heights),h=t.heights[d]+t.gap;o.top=h,o.left=d*(t.width+t.gap),t.heights[d]=h+n+r}},i=0;i<this.dataList.length;i++)e();this.setWaterFallRect(),this.$nextTick((function(){t.openWaterFall=!0}))}catch(t){}},getMinIndex:function(t){var e=Math.min.apply(null,t);return null==t?void 0:t.indexOf(e)},getMaxIndex:function(t){var e=Math.max.apply(null,t);return null==t?void 0:t.indexOf(e)},getWidth:function(){var t;this.selfCols=this.cols;var e=null===(t=this.$parent.$refs[this.container])||void 0===t?void 0:t.offsetWidth;if(e){e<1900&&(this.selfCols=6),e<1600&&(this.selfCols=5),e<1300&&(this.selfCols=4),e<1e3&&(this.selfCols=3),e<700&&(this.selfCols=2);var o=~~((e-(this.selfCols-1)*this.gap)/this.selfCols);return o>180?o:180}},setWaterFallRect:function(){var t=this.$parent.$refs[this.container],e=Math.max.apply(null,this.heights);this.list.length||!this.resetHeight?(t.style.height=e+"px",t.style.marginBottom="80px"):t.style.height=0},lazyLoad:function(){if(this.openWatch){var t=document.documentElement.scrollHeight,e=window.innerHeight;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset,t-this.scrollTop-e<1.5*e&&this.$emit("load")}},adminHandle:function(t){this.setWaterFallDeleteLits(t),this.resizeListener()}})},et=(o(2483),Object(_.a)(tt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"overview-list",class:t.objType},[t._l(t.dataList,(function(o,n){var r;return e("div",{key:((null==o?void 0:o.top)||(null==o?void 0:o.id))+","+((null==o?void 0:o.left)||"list")+n,staticClass:"box marking-item",style:t.styleObj,on:{click:function(e){t.isCheck&&t.selectCheck(o)}}},[o.timeItem?e("div",{staticClass:"timeRow",style:{width:o.waterWidth+"px",height:o.waterHeight+"px"}},[t._v("\n\t\t\t"+t._s(o.timeItem)+"\n\t\t")]):t._e(),t._v(" "),1==o.obj_type?e("workItem",{attrs:{item:o,list:t.dataList,dotReportInfo:t.dotReportInfo,review:t.review,fromPage:t.fromPage,sysTag:t.sysTag},on:{resizeListener:t.resizeListener,change:function(e){return t.adminHandle(o.id)},moreActions:t.moreActions}}):t._e(),t._v(" "),2==o.obj_type?e("modelItem",{attrs:{item:o,list:t.dataList,dotReportInfo:t.dotReportInfo,fromPage:t.fromPage,sysTag:t.sysTag,isTrainLora:t.isTrainLora},on:{change:function(e){return t.adminHandle(o.id)},moreActions:t.moreActions}}):t._e(),t._v(" "),4==o.obj_type?["article"==(null==o||null===(r=o.portfolio)||void 0===r?void 0:r.sub_channel)?e("articleItem",{attrs:{item:o,list:t.dataList,review:t.review,isCheck:t.isCheck,sysTag:t.sysTag,fromPage:t.fromPage},on:{change:function(e){return t.adminHandle(o.id)},resizeListener:t.resizeListener,checkChange:function(e){return t.checkChange(o)},moreActions:t.moreActions}}):e("portfolioItem",{attrs:{item:o,list:t.dataList,review:t.review,isCheck:t.isCheck,sysTag:t.sysTag,fromPage:t.fromPage},on:{change:function(e){return t.adminHandle(o.id)},resizeListener:t.resizeListener,checkChange:function(e){return t.checkChange(o)},moreActions:t.moreActions}})]:t._e(),t._v(" "),5==o.obj_type?e("videoItem",{attrs:{item:o,review:t.review,list:t.dataList,isCheck:t.isCheck,fromPage:t.fromPage,sysTag:t.sysTag},on:{change:function(e){return t.adminHandle(o.id)},resizeListener:t.resizeListener,checkChange:function(e){return t.checkChange(o)},moreActions:t.moreActions}}):t._e(),t._v(" "),11==o.obj_type?e("paletteItem",{attrs:{item:o,list:t.dataList,isCheck:t.isCheck,fromPage:t.fromPage},on:{change:function(e){return t.adminHandle(o.id)},moreActions:t.moreActions,checkChange:function(e){return t.checkChange(o)}}}):t._e(),t._v(" "),13==o.obj_type||14==o.obj_type?e("comfyItem",{attrs:{item:o,isCheck:t.isCheck,fromPage:t.fromPage},on:{moreActions:t.moreActions,resizeListener:t.resizeListener,checkChange:function(e){return t.checkChange(o)}}}):t._e(),t._v(" "),9==o.obj_type?e("cyberBarItem",{attrs:{item:o,fromPage:t.fromPage},on:{moreActions:t.moreActions}}):t._e(),t._v(" "),16==o.obj_type?e("aiAudioItem",{attrs:{item:o,isCheck:t.isCheck,fromPage:t.fromPage},on:{checkChange:function(e){return t.checkChange(o)},moreActions:t.moreActions}}):t._e(),t._v(" "),6==o.obj_type?e("bannerItem",{attrs:{item:o}}):t._e(),t._v(" "),7==o.obj_type?e("toolItem",{attrs:{item:o}}):t._e()],2)})),t._v(" "),t.isShowNullRelatedImg?e("div",{staticClass:"null-data-container"},[e("img",{staticClass:"null-image",attrs:{src:o(289),alt:"null_related_image"},on:{load:function(e){return t.$emit("solveScrollbarStyle")}}}),t._v(" "),e("div",{staticClass:"null-tips"},[t._v(t._s(t.$t("NoRelatedWorks")))])]):t._e()],2)}),[],!1,null,"1d57721e",null).exports),it=o(139);function ot(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function nt(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ot(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var st={large:6,middle:5,small:4},at={name:"OverviewPage",props:{isOpen:{type:Boolean,default:!0}},components:{OverviewList:et,NoData:it.a},data:function(){var t;return{isPersonal:null===(t=this.$route.meta)||void 0===t?void 0:t.isPersonal,overviewData:[],styleObj:{},typeMap:{1:"artwork",2:"model",4:"gallery",5:"lookbook",7:"post",9:"digitalHuman",11:"palette",13:"workflow",16:"aiAudio"},widthType:"large"}},watch:{isOpen:function(){var t=this;setTimeout((function(){t.getWH()}),500)}},mounted:function(){this.getData(),this.getWH(),window.addEventListener("resize",this.getWH)},beforeDestroy:function(){window.removeEventListener("resize",this.getWH)},computed:{isNoData:function(){return this.overviewData.length&&this.overviewData.every((function(t){return!t.items.length}))},isShowMore:function(){var t=st[this.widthType];return function(e){return 1===e.type?e.items.length>=2*t:e.items.length>=t}},dynacOverviewData:function(){var t=this,data=[];return this.overviewData.forEach((function(e){var o=st[t.widthType];1===e.type&&(o*=2),data.push(nt(nt({},e),{},{items:e.items.slice(0,o)}))})),data}},methods:{getData:function(){var t=this;Object(c.lb)({other_id:this.isPersonal?"":this.$route.params.id}).then((function(e){var o,n=(null==e?void 0:e.data)||{},r=n.items,l=void 0===r?[]:r,c=n.num_of,d=void 0===c?{}:c;null!==(o=Object.keys(d))&&void 0!==o&&o.length&&t.$emit("updateViewNum",d);var map={1:"Work",2:"Model",7:"Post",9:"digitalHuman",11:"Canvas",13:"WorkflowAIAPP",16:"AIAudio"};t.overviewData=[],t.overviewData=l.map((function(t){return nt(nt({},t),{},{key:map[t.type]})}))}))},getWH:function(){var t=document.getElementById("overview").offsetWidth;this.widthType=t<1200?"small":t<1600?"middle":"large";var e=st[this.widthType],o=this.isOpen?60:70;if(t){var n=~~((t-o)/e),r=n>100?n:100,l=parseInt(468*n/300);this.styleObj={width:r+"px",height:l+"px"}}},handleMore:function(t){document.documentElement.scrollTop=0,this.$emit("toMore",t.key)}}},lt=(o(2485),Object(_.a)(at,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"overview-page",attrs:{id:"overview"}},[t._l(t.dynacOverviewData,(function(o){var n;return e("div",{directives:[{name:"show",rawName:"v-show",value:o.items.length,expression:"item.items.length"}],key:o.key,staticClass:"item-category",class:null==o||null===(n=o.key)||void 0===n?void 0:n.toLowerCase()},[e("div",{staticClass:"head"},[e("span",{staticClass:"title"},[t._v(t._s(t.$t(o.key)))]),t._v(" "),t.isShowMore(o)?e("span",{staticClass:"more",on:{click:function(e){return t.handleMore(o)}}},[t._v("\n\t\t\t\t"+t._s(t.$t("viewMore"))+"\n\t\t\t\t"),e("i",{staticClass:"el-icon-right"})]):t._e()]),t._v(" "),e("div",{staticClass:"container"},[e("OverviewList",{attrs:{styleObj:t.styleObj,list:o.items,objType:t.typeMap[o.type]},on:{update:t.getData}})],1)])})),t._v(" "),t.isNoData?e("NoData"):t._e()],2)}),[],!1,null,"777bbe08",null).exports),ct=o(562),ut={name:"WorkPage",props:{isOpen:{type:Boolean,default:!0}},components:{CollectionBookmarks:ct.a,NoData:it.a},data:function(){var t;return{isPersonal:null===(t=this.$route.meta)||void 0===t?void 0:t.isPersonal}},mounted:function(){},computed:{isNoData:function(){return 0==this.list.length},getAccountNo:function(){return this.isPersonal?"":this.$route.params.id}},methods:{}},ht=(o(2491),Object(_.a)(ut,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"work-page"},[e("collection-bookmarks",{ref:"collectionBookmarks",attrs:{type:"artwork",isOpen:t.isOpen,account_no:t.getAccountNo,category:!0}})],1)}),[],!1,null,"281498ef",null).exports),pt=(o(23),o(120),o(41)),ft=o(55),vt=o(13);function mt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}var gt={name:"ModelPage",props:{isOpen:{type:Boolean,default:!0}},components:{homeList:ft.a,NoData:it.a},data:function(){var t;return{isPersonal:null===(t=this.$route.meta)||void 0===t?void 0:t.isPersonal,loading:!1,noMore:!1,pageInfo:{page:1,limit:20,total:0},queryParam:{keyword:"",order_by:"new",publish_status:0,model_types:[],base_models:[]},list:[],orders:[{key:"New",value:"new"},{key:"Hot",value:"hot"}],status:[{key:"createSetting1",value:1},{key:"createSetting2",value:2}],selectedStatus:[],types:vt.J,baseModels:vt.a,getReady:!1}},mounted:function(){this.getList()},computed:{isNoData:function(){return this.getReady&&0==this.list.length}},methods:{getList:function(t){var e=this;if(!this.loading&&!this.noMore){this.loading=!0;var o=pt.j,n=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):mt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({page:this.pageInfo.page,page_size:this.pageInfo.limit},this.queryParam);this.queryParam.time_to&&(n.time_to=this.queryParam.time_to),this.isPersonal||(o=pt.k,n.account_no=this.$route.params.id),o(n).then((function(o){var n;if(1e4===(null==o||null===(n=o.status)||void 0===n?void 0:n.code)){var r,l,c,d,h;if(e.noMore=!(null!==(r=o.data)&&void 0!==r&&r.has_more),t)e.list=e.list.concat((null===(c=o.data)||void 0===c?void 0:c.items)||[]);else e.list=(null===(d=o.data)||void 0===d?void 0:d.items)||[];if(1===e.pageInfo.page&&null!==(l=o.data)&&void 0!==l&&l.time_ms)e.queryParam.time_to=null===(h=o.data)||void 0===h?void 0:h.time_ms;e.pageInfo.page++}})).finally((function(){e.getReady=!0,e.loading=!1}))}},handleFilter:function(t,e){var o;switch(e){case"order_by":this.queryParam.order_by=t;break;case"publish_status":this.selectedStatus.includes(t)?this.selectedStatus=this.selectedStatus.filter((function(e){return e!==t})):this.selectedStatus.push(t),[0,2].includes(this.selectedStatus.length)?this.queryParam.publish_status=0:this.queryParam.publish_status=this.selectedStatus[0];break;case"model_types":this.queryParam.model_types.includes(t)?this.queryParam.model_types=this.queryParam.model_types.filter((function(e){return e!==t})):this.queryParam.model_types.push(t),this.$logEvent("log_actions",{operation:"click_filter",behavior_info:"on_personal_center_model_tab",behavior_info_sub:(null==this||null===(o=this.queryParam)||void 0===o?void 0:o.model_types)||[]});break;case"base_models":this.queryParam.base_models.includes(t)?this.queryParam.base_models=this.queryParam.base_models.filter((function(e){return e!==t})):this.queryParam.base_models.push(t)}this.pageInfo.page=1,this.noMore=!1,this.getList()},filterReset:function(){this.pageInfo.page=1,this.noMore=!1,this.list=[],this.selectedStatus=[];var t=this.queryParam.keyword,e=void 0===t?"":t;this.queryParam={keyword:e,order_by:"new",publish_status:0,model_types:[],base_models:[]},this.getList()},search:function(){this.noMore=!1,this.pageInfo.page=1,this.getList()},clear:function(){this.queryParam.keyword="",this.noMore=!1,this.pageInfo.page=1,this.getList()},openModel:function(){this.$router.push({path:this.localePath("/modelEditStep")})}}},_t=gt,yt=(o(2492),Object(_.a)(_t,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"model-page"},[e("div",{staticClass:"model-page-head"},[e("div",{staticClass:"input-search"},[e("i",{staticClass:"iconfont icon-min-search"}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.queryParam.keyword,expression:"queryParam.keyword"}],attrs:{type:"text",placeholder:t.$t("minSearch"),maxlength:"40"},domProps:{value:t.queryParam.keyword},on:{keypress:t.search,input:function(e){e.target.composing||t.$set(t.queryParam,"keyword",e.target.value)}}}),t._v(" "),t.queryParam.keyword.length>0?e("i",{staticClass:"el-icon-close",on:{click:t.clear}}):t._e()]),t._v(" "),e("div",{staticClass:"end"},[e("div",{staticClass:"on-model-btn-box"},[e("div",{staticClass:"on-model-btn graBorder",on:{click:t.openModel}},[e("i",{staticClass:"iconfont icon-shangchuan"}),t._v(" "),e("span",[t._v(t._s(t.$t("UploadModels")))])])]),t._v(" "),e("el-popover",{attrs:{placement:"bottom","popper-class":"waterfull-filter",trigger:"hover"}},[e("div",{staticClass:"filter-content"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("Sorting")))]),t._v(" "),e("div",{staticClass:"filter"},t._l(t.orders,(function(o){return e("div",{key:o.value,staticClass:"item-filter",class:{active:t.queryParam.order_by==o.value},on:{click:function(e){return t.handleFilter(o.value,"order_by")}}},[t.queryParam.order_by==o.value?e("i",{staticClass:"el-icon-check"}):t._e(),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t(o.key))+"\n\t\t\t\t\t\t")])})),0),t._v(" "),t.isPersonal?e("div",{staticClass:"title"},[t._v(t._s(t.$t("status")))]):t._e(),t._v(" "),t.isPersonal?e("div",{staticClass:"filter"},t._l(t.status,(function(o){return e("div",{key:o.value,staticClass:"item-filter",class:{active:t.selectedStatus.includes(o.value)},on:{click:function(e){return t.handleFilter(o.value,"publish_status")}}},[t.selectedStatus.includes(o.value)?e("i",{staticClass:"el-icon-check"}):t._e(),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t(o.key))+"\n\t\t\t\t\t\t")])})),0):t._e(),t._v(" "),e("div",{staticClass:"title"},[t._v(t._s(t.$t("ModelType")))]),t._v(" "),e("div",{staticClass:"filter"},t._l(t.types,(function(o){return e("div",{key:o.value,staticClass:"item-filter",class:{active:t.queryParam.model_types.includes(o.value)},on:{click:function(e){return t.handleFilter(o.value,"model_types")}}},[t.queryParam.model_types.includes(o.value)?e("i",{staticClass:"el-icon-check"}):t._e(),t._v(" "),e("span",[t._v(t._s(o.label))])])})),0),t._v(" "),e("div",{staticClass:"title"},[t._v(t._s(t.$t("BaseModel")))]),t._v(" "),e("div",{staticClass:"filter"},t._l(t.baseModels,(function(o){return e("div",{key:o,staticClass:"item-filter",class:{active:t.queryParam.base_models.includes(o)},on:{click:function(e){return t.handleFilter(o,"base_models")}}},[t.queryParam.base_models.includes(o)?e("i",{staticClass:"el-icon-check"}):t._e(),t._v("\n\t\t\t\t\t\t\t"+t._s(o)+"\n\t\t\t\t\t\t")])})),0),t._v(" "),e("div",{staticClass:"filter-reset",on:{click:t.filterReset}},[t._v("\n\t\t\t\t\t\t"+t._s(t.$t("resetSelection"))+"\n\t\t\t\t\t")])]),t._v(" "),e("div",{staticClass:"filter-box",attrs:{slot:"reference"},slot:"reference"},[e("div",[e("i",{staticClass:"iconfont icon-a-filterIcon"}),t._v(" "),e("span",[t._v(t._s(t.$t("Filter")))])]),t._v(" "),e("i",{staticClass:"el-icon-arrow-down"})])])],1)]),t._v(" "),e("div",{ref:"homeList",staticClass:"model-page-list"},[e("homeList",{attrs:{fromPage:"userPage",isOpen:t.isOpen,list:t.list,container:"homeList"},on:{load:function(e){return t.getList(!0)}}})],1),t._v(" "),t.isNoData?e("NoData"):t._e()],1)}),[],!1,null,"46c7cfa4",null).exports),bt=o(40);function wt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Ct(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):wt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var kt={name:"DigitalPage",props:{isOpen:{type:Boolean,default:!0}},components:{homeList:ft.a,NoData:it.a},data:function(){var t;return{isPersonal:null===(t=this.$route.meta)||void 0===t?void 0:t.isPersonal,loading:!1,noMore:!1,pageInfo:{page:1,limit:20,total:0},queryParam:{keyword:"",order_by:"new",publish_status:0},list:[],orders:[{key:"New",value:"new"},{key:"Hot",value:"hot"}],getReady:!1,statusArr:[{key:"Publish",value:1},{key:"offShelf",value:2}],selectedStatus:[]}},mounted:function(){this.getList()},computed:Ct(Ct(Ct({},Object(l.e)("user",["userInfo"])),Object(l.c)("user",["isCompanyAccount"])),{},{isNoData:function(){return this.getReady&&0==this.list.length}}),methods:{getList:function(t){var e=this;if(!this.loading&&!this.noMore){this.loading=!0;var o=Ct({page:this.pageInfo.page,page_size:this.pageInfo.limit},this.queryParam);o.account_no=this.isPersonal?this.userInfo.id:this.$route.params.id,Object(bt.squareCharacterList)(o).then((function(o){var n;if(1e4===(null==o||null===(n=o.status)||void 0===n?void 0:n.code)){var r,l,c,d,h;if(e.noMore=!(null!==(r=o.data)&&void 0!==r&&r.has_more),t)e.list=e.list.concat((null===(c=o.data)||void 0===c?void 0:c.items)||[]);else e.list=(null===(d=o.data)||void 0===d?void 0:d.items)||[];if(1===e.pageInfo.page&&null!==(l=o.data)&&void 0!==l&&l.time_ms)e.queryParam.time_to=null===(h=o.data)||void 0===h?void 0:h.time_ms;e.pageInfo.page++}})).finally((function(){e.getReady=!0,e.loading=!1}))}},handleFilter:function(t,e){"sort"==e?this.queryParam.order_by=t:(this.selectedStatus.includes(t)?this.selectedStatus=this.selectedStatus.filter((function(e){return e!==t})):this.selectedStatus.push(t),[0,2].includes(this.selectedStatus.length)?this.queryParam.publish_status=0:this.queryParam.publish_status=this.selectedStatus[0]);this.pageInfo.page=1,this.noMore=!1,this.getList()},filterReset:function(){this.pageInfo.page=1,this.noMore=!1,this.list=[];var t=this.queryParam.keyword,e=void 0===t?"":t;this.queryParam={keyword:e,order_by:"new",content_type:[]},this.getList()},search:function(){this.noMore=!1,this.pageInfo.page=1,this.getList()},clear:function(){this.queryParam.keyword="",this.noMore=!1,this.pageInfo.page=1,this.getList()},createDigital:function(){this.$router.push("/cyberPubPage/new-character")}}},Ot=(o(2493),Object(_.a)(kt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"digital-page"},[e("div",{staticClass:"digital-page-head"},[e("div",{staticClass:"input-search"},[e("i",{staticClass:"iconfont icon-min-search"}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.queryParam.keyword,expression:"queryParam.keyword"}],attrs:{type:"text",placeholder:t.$t("minSearch"),maxlength:"40"},domProps:{value:t.queryParam.keyword},on:{keypress:t.search,input:function(e){e.target.composing||t.$set(t.queryParam,"keyword",e.target.value)}}}),t._v(" "),t.queryParam.keyword.length>0?e("i",{staticClass:"el-icon-close",on:{click:t.clear}}):t._e()]),t._v(" "),e("div",{staticClass:"end"},[e("div",{staticClass:"on-digital-btn-box"},[e("div",{staticClass:"on-digital-btn graBorder",on:{click:t.createDigital}},[e("i",{staticClass:"el-icon-circle-plus-outline"}),t._v(" "),e("span",[t._v(t._s(t.$t("digitalHuman")))])])]),t._v(" "),e("el-popover",{attrs:{placement:"bottom","popper-class":"waterfull-filter",trigger:"hover"}},[e("div",{staticClass:"filter-content"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("Sorting")))]),t._v(" "),e("div",{staticClass:"filter"},t._l(t.orders,(function(o){return e("div",{key:o.value,staticClass:"item-filter",class:{active:t.queryParam.order_by==o.value},on:{click:function(e){return t.handleFilter(o.value,"sort")}}},[t.queryParam.order_by==o.value?e("i",{staticClass:"el-icon-check"}):t._e(),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t(o.key))+"\n\t\t\t\t\t\t")])})),0),t._v(" "),t.isPersonal?e("div",{staticClass:"title"},[t._v(t._s(t.$t("status")))]):t._e(),t._v(" "),t.isPersonal?e("div",{staticClass:"filter"},t._l(t.statusArr,(function(o){return e("div",{key:o.value,staticClass:"item-filter",class:{active:t.selectedStatus.includes(o.value)},on:{click:function(e){return t.handleFilter(o.value,"status")}}},[t.selectedStatus.includes(o.value)?e("i",{staticClass:"el-icon-check"}):t._e(),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t(o.key))+"\n\t\t\t\t\t\t")])})),0):t._e(),t._v(" "),e("div",{staticClass:"filter-reset",on:{click:t.filterReset}},[t._v("\n\t\t\t\t\t\t"+t._s(t.$t("resetSelection"))+"\n\t\t\t\t\t")])]),t._v(" "),e("div",{staticClass:"filter-box",attrs:{slot:"reference"},slot:"reference"},[e("div",[e("i",{staticClass:"iconfont icon-a-filterIcon"}),t._v(" "),e("span",[t._v(t._s(t.$t("Filter")))])]),t._v(" "),e("i",{staticClass:"el-icon-arrow-down"})])])],1)]),t._v(" "),e("div",{ref:"homeList",staticClass:"personal-center__list"},[e("homeList",{attrs:{fromPage:"userPage",isOpen:t.isOpen,list:t.list,container:"homeList"},on:{load:function(e){return t.getList(!0)}}})],1),t._v(" "),t.isNoData?e("NoData"):t._e()],1)}),[],!1,null,"514a75d4",null).exports);function xt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Pt(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):xt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var jt={name:"AudioPage",props:{isOpen:{type:Boolean,default:!0}},components:{homeList:ft.a,NoData:it.a},data:function(){var t;return{isPersonal:null===(t=this.$route.meta)||void 0===t?void 0:t.isPersonal,loading:!1,noMore:!1,pageInfo:{page:1,limit:20,total:0},queryParam:{keyword:"",order_by:"new",publish_status:0},list:[],orders:[{key:"New",value:"new"},{key:"Hot",value:"hot"}],getReady:!1,status:[{key:"createSetting1",value:1},{key:"createSetting2",value:2}],selectedStatus:[]}},mounted:function(){this.getList()},computed:Pt(Pt(Pt({},Object(l.e)("user",["userInfo"])),Object(l.c)("user",["isCompanyAccount"])),{},{isNoData:function(){return this.getReady&&0==this.list.length}}),methods:{createAudio:function(){this.$logEvent("log_actions",{operation:"click_train_audio",behavior_info:"on_personal_center"}),this.$router.push(this.localePath("/ai-audio/train"))},getList:function(t){var e=this;if(!this.loading&&!this.noMore){this.loading=!0;var o=Pt({page:this.pageInfo.page,page_size:this.pageInfo.limit},this.queryParam);o.account_no=this.isPersonal?this.userInfo.id:this.$route.params.id,Object(c.P)(o).then((function(o){var n;if(1e4===(null==o||null===(n=o.status)||void 0===n?void 0:n.code)){var r,l,c,d,h;if(e.noMore=!(null!==(r=o.data)&&void 0!==r&&r.has_more),t)e.list=e.list.concat((null===(c=o.data)||void 0===c?void 0:c.items)||[]);else e.list=(null===(d=o.data)||void 0===d?void 0:d.items)||[];if(1===e.pageInfo.page&&null!==(l=o.data)&&void 0!==l&&l.time_ms)e.queryParam.time_to=null===(h=o.data)||void 0===h?void 0:h.time_ms;e.pageInfo.page++}})).finally((function(){e.getReady=!0,e.loading=!1}))}},handleFilter:function(t,e){"order_by"==e?this.queryParam.order_by=t:(this.selectedStatus.includes(t)?this.selectedStatus=this.selectedStatus.filter((function(e){return e!==t})):this.selectedStatus.push(t),[0,2].includes(this.selectedStatus.length)?this.queryParam.publish_status=0:this.queryParam.publish_status=this.selectedStatus[0]);this.pageInfo.page=1,this.noMore=!1,this.getList()},filterReset:function(){this.pageInfo.page=1,this.noMore=!1,this.list=[],this.selectedStatus=[];var t=this.queryParam.keyword,e=void 0===t?"":t;this.queryParam={keyword:e,order_by:"new"},this.getList()},search:function(){this.noMore=!1,this.pageInfo.page=1,this.getList()},clear:function(){this.queryParam.keyword="",this.noMore=!1,this.pageInfo.page=1,this.getList()}}},$t=(o(2494),Object(_.a)(jt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"audio-page"},[e("div",{staticClass:"audio-page-head"},[e("div",{staticClass:"input-search"},[e("i",{staticClass:"iconfont icon-min-search"}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.queryParam.keyword,expression:"queryParam.keyword"}],attrs:{type:"text",placeholder:t.$t("minSearch"),maxlength:"40"},domProps:{value:t.queryParam.keyword},on:{keypress:t.search,input:function(e){e.target.composing||t.$set(t.queryParam,"keyword",e.target.value)}}}),t._v(" "),t.queryParam.keyword.length>0?e("i",{staticClass:"el-icon-close",on:{click:t.clear}}):t._e()]),t._v(" "),e("div",{staticClass:"end"},[e("div",{staticClass:"on-audio-btn-box"},[e("div",{staticClass:"on-audio-btn graBorder",on:{click:t.createAudio}},[e("i",{staticClass:"el-icon-circle-plus-outline"}),t._v(" "),e("span",[t._v(t._s(t.$t("trainSound")))])])]),t._v(" "),e("el-popover",{attrs:{placement:"bottom","popper-class":"waterfull-filter",trigger:"hover"}},[e("div",{staticClass:"filter-content"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("Sorting")))]),t._v(" "),e("div",{staticClass:"filter"},t._l(t.orders,(function(o){return e("div",{key:o.value,staticClass:"item-filter",class:{active:t.queryParam.order_by==o.value},on:{click:function(e){return t.handleFilter(o.value,"order_by")}}},[t.queryParam.order_by==o.value?e("i",{staticClass:"el-icon-check"}):t._e(),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t(o.key))+"\n\t\t\t\t\t\t")])})),0),t._v(" "),t.isPersonal?e("div",{staticClass:"title"},[t._v(t._s(t.$t("status")))]):t._e(),t._v(" "),t.isPersonal?e("div",{staticClass:"filter"},t._l(t.status,(function(o){return e("div",{key:o.value,staticClass:"item-filter",class:{active:t.selectedStatus.includes(o.value)},on:{click:function(e){return t.handleFilter(o.value,"publish_status")}}},[t.selectedStatus.includes(o.value)?e("i",{staticClass:"el-icon-check"}):t._e(),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t(o.key))+"\n\t\t\t\t\t\t")])})),0):t._e(),t._v(" "),e("div",{staticClass:"filter-reset",on:{click:t.filterReset}},[t._v("\n\t\t\t\t\t\t"+t._s(t.$t("resetSelection"))+"\n\t\t\t\t\t")])]),t._v(" "),e("div",{staticClass:"filter-box",attrs:{slot:"reference"},slot:"reference"},[e("div",[e("i",{staticClass:"iconfont icon-a-filterIcon"}),t._v(" "),e("span",[t._v(t._s(t.$t("Filter")))])]),t._v(" "),e("i",{staticClass:"el-icon-arrow-down"})])])],1)]),t._v(" "),e("div",{ref:"homeList",staticClass:"personal-center__list"},[e("homeList",{attrs:{fromPage:"userPage",isOpen:t.isOpen,list:t.list,container:"homeList"},on:{load:function(e){return t.getList(!0)}}})],1),t._v(" "),t.isNoData?e("NoData"):t._e()],1)}),[],!1,null,"4082c039",null).exports);function Lt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function It(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Lt(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Lt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var St={name:"PostPage",props:{isOpen:{type:Boolean,default:!0}},components:{homeList:ft.a,NoData:it.a},data:function(){var t;return{isPersonal:null===(t=this.$route.meta)||void 0===t?void 0:t.isPersonal,loading:!1,noMore:!1,pageInfo:{page:1,limit:20,total:0},queryParam:{keyword:"",order_by:"new",content_type:[],sub_channel:""},typeSelected:[],list:[],orders:[{key:"New",value:"new"},{key:"Hot",value:"hot"}],getReady:!1,types:[{key:"Graphics",value:"graphics"},{key:"Video",value:"video"},{key:"Article",value:"article"}]}},mounted:function(){this.getList()},computed:It(It({},Object(l.c)("user",["isCompanyAccount"])),{},{isNoData:function(){return this.getReady&&0==this.list.length}}),methods:{getList:function(t){var e=this;if(!this.loading&&!this.noMore){this.loading=!0;var o=c.z,n=It({page:this.pageInfo.page,page_size:this.pageInfo.limit},this.queryParam);this.queryParam.time_to&&(n.time_to=this.queryParam.time_to),this.isPersonal||(o=c.ab,n.act_id=this.$route.params.id),o(n).then((function(o){var n;if(1e4===(null==o||null===(n=o.status)||void 0===n?void 0:n.code)){var r,l,c,d,h;if(e.noMore=!(null!==(r=o.data)&&void 0!==r&&r.has_more),t)e.list=e.list.concat((null===(c=o.data)||void 0===c?void 0:c.items)||[]);else e.list=(null===(d=o.data)||void 0===d?void 0:d.items)||[];if(1===e.pageInfo.page&&null!==(l=o.data)&&void 0!==l&&l.time_ms)e.queryParam.time_to=null===(h=o.data)||void 0===h?void 0:h.time_ms;e.pageInfo.page++}})).finally((function(){e.getReady=!0,e.loading=!1}))}},onPost:function(){this.$logEvent("log_actions",{operation:"click_post",behavior_info:this.isPersonal?"on_personal_center":"on_user_page"}),this.$EventBus.$emit("openCreativeCenterModal",{list:[],type:"text",source:"self"})},handleFilter:function(t,e){"sort"==e?this.queryParam.order_by=t:(this.$logEvent("log_actions",{operation:"click_post_filter_button",behavior_info:"on_personal_center",behavior_info_sub:t}),this.typeSelected.includes(t)?this.typeSelected=this.typeSelected.filter((function(e){return e!==t})):this.typeSelected.push(t));var o=this.typeSelected,n=void 0===o?[]:o;n.includes("graphics")&&n.includes("article")?(this.queryParam.content_type=n.includes("video")?[4,5]:[4],this.queryParam.sub_channel=""):n.includes("graphics")?(this.queryParam.content_type=n.includes("video")?[4,5]:[4],this.queryParam.sub_channel="picture"):n.includes("article")?(this.queryParam.content_type=n.includes("video")?[4,5]:[4],this.queryParam.sub_channel="article"):(this.queryParam.content_type=n.includes("video")?[5]:[],this.queryParam.sub_channel=""),this.pageInfo.page=1,this.noMore=!1,this.getList()},filterReset:function(){this.pageInfo.page=1,this.noMore=!1,this.list=[];var t=this.queryParam.keyword,e=void 0===t?"":t;this.queryParam={keyword:e,order_by:"new",content_type:[],sub_channel:""},this.typeSelected=[],this.getList()},search:function(){this.noMore=!1,this.pageInfo.page=1,this.getList()},clear:function(){this.queryParam.keyword="",this.noMore=!1,this.pageInfo.page=1,this.getList()}}},Dt=(o(2495),Object(_.a)(St,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"post-page"},[e("div",{staticClass:"post-page-head"},[e("div",{staticClass:"input-search"},[e("i",{staticClass:"iconfont icon-min-search"}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.queryParam.keyword,expression:"queryParam.keyword"}],attrs:{type:"text",placeholder:t.$t("minSearch"),maxlength:"40"},domProps:{value:t.queryParam.keyword},on:{keypress:t.search,input:function(e){e.target.composing||t.$set(t.queryParam,"keyword",e.target.value)}}}),t._v(" "),t.queryParam.keyword.length>0?e("i",{staticClass:"el-icon-close",on:{click:t.clear}}):t._e()]),t._v(" "),e("div",{staticClass:"end"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isCompanyAccount,expression:"!isCompanyAccount"}],staticClass:"on-post-btn-box"},[e("div",{staticClass:"on-post-btn graBorder",on:{click:t.onPost}},[e("i",{staticClass:"iconfont icon-myPostIcon"}),t._v(" "),e("span",[t._v(t._s(t.$t("Post")))])])]),t._v(" "),e("el-popover",{attrs:{placement:"bottom","popper-class":"waterfull-filter",trigger:"hover"}},[e("div",{staticClass:"filter-content"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("Sorting")))]),t._v(" "),e("div",{staticClass:"filter"},t._l(t.orders,(function(o){return e("div",{key:o.value,staticClass:"item-filter",class:{active:t.queryParam.order_by==o.value},on:{click:function(e){return t.handleFilter(o.value,"sort")}}},[t.queryParam.order_by==o.value?e("i",{staticClass:"el-icon-check"}):t._e(),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t(o.key))+"\n\t\t\t\t\t\t")])})),0),t._v(" "),e("div",{staticClass:"title"},[t._v(t._s(t.$t("Type")))]),t._v(" "),e("div",{staticClass:"filter"},t._l(t.types,(function(o){return e("div",{key:o.value,staticClass:"item-filter",class:{active:t.typeSelected.includes(o.value)},on:{click:function(e){return t.handleFilter(o.value,"type")}}},[t.typeSelected.includes(o.value)?e("i",{staticClass:"el-icon-check"}):t._e(),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t(o.key))+"\n\t\t\t\t\t\t")])})),0),t._v(" "),e("div",{staticClass:"filter-reset",on:{click:t.filterReset}},[t._v("\n\t\t\t\t\t\t"+t._s(t.$t("resetSelection"))+"\n\t\t\t\t\t")])]),t._v(" "),e("div",{staticClass:"filter-box",attrs:{slot:"reference"},slot:"reference"},[e("div",[e("i",{staticClass:"iconfont icon-a-filterIcon"}),t._v(" "),e("span",[t._v(t._s(t.$t("Filter")))])]),t._v(" "),e("i",{staticClass:"el-icon-arrow-down"})])])],1)]),t._v(" "),e("div",{ref:"homeList",staticClass:"personal-center__list"},[e("homeList",{attrs:{fromPage:"userPage",isOpen:t.isOpen,list:t.list,container:"homeList"},on:{load:function(e){return t.getList(!0)}}})],1),t._v(" "),t.isNoData?e("NoData"):t._e()],1)}),[],!1,null,"465da941",null).exports),Tt=o(74),Ft=o(350),At={props:{list:{type:Array,default:function(){return[]}},addBntShow:{type:Boolean,default:!0},isDef:{type:Boolean,default:!1}},components:{AddOrEditCanvas:Ft.a},deta:function(){return{deleteLoad:!1}},activated:function(){window.addEventListener("scroll",Object(Tt.throttle)(this.lazyLoad,200))},deactivated:function(){window.removeEventListener("scroll",Object(Tt.throttle)(this.lazyLoad,200))},mounted:function(){window.addEventListener("scroll",Object(Tt.throttle)(this.lazyLoad,200))},beforeDestroy:function(){window.removeEventListener("scroll",Object(Tt.throttle)(this.lazyLoad,200))},methods:{goEdit:function(t){var e,path="/editBoard?id="+t.id;0!=(null===(e=t.palette)||void 0===e?void 0:e.publish_type)&&(path="/editBoard/detail/"+t.id),this.$router.push(path)},add:function(){this.$refs.AddOrEditCanvas.openDialog("add")},onDelete:function(t){var e,o=this,n=c.R;0!=(null===(e=t.palette)||void 0===e?void 0:e.publish_type)&&(n=c.S),this.$confirm(this.$t("canvasDelete"),this.$t("Tip"),{confirmButtonText:this.$t("Confirm"),cancelButtonText:this.$t("Cancel"),type:"warning"}).then((function(){o.deleteLoad||(o.deleteLoad=!0,n({id:t.id}).then((function(t){o.$emit("updateList"),o.$message({type:"success",message:o.$t("deleteSuccess")})})).finally((function(){o.deleteLoad=!1})))})).catch((function(){}))},lazyLoad:function(){var t=document.documentElement.scrollHeight,e=window.innerHeight;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset,t-this.scrollTop-e<1.5*e&&this.$emit("load")}}},Nt=(o(2497),Object(_.a)(At,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"canvasTplList"},[t.isDef?e("div",{staticClass:"defBox"},[e("img",{attrs:{src:o(450),alt:""}}),t._v(" "),e("span",[t._v(t._s(t.$t("no_data")))])]):e("div",{staticClass:"box"},[t.addBntShow?e("div",{staticClass:"bntBox"},[e("div",{staticClass:"bnt graBorder",on:{click:t.add}},[t._v(t._s(t.$t("boardCreateBoard")))])]):t._e(),t._v(" "),e("div",{staticClass:"list"},t._l(t.list,(function(o,n){return e("div",{key:"list_"+n,staticClass:"listItem",on:{click:function(e){return t.goEdit(o)}}},[e("div",{staticClass:"imgBox"},[e("img",{attrs:{src:o.cover,alt:""}}),t._v(" "),t.$route.name.includes("Personal")&&0!=n?e("div",{staticClass:"deleteBox",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onDelete(o)}}},[e("i",{staticClass:"iconfont icon-postDelete"})]):t._e()]),t._v(" "),e("div",{staticClass:"name"},[t._v(t._s("default"==o.name?t.$t("PrivateCanvas"):o.name))])])})),0)]),t._v(" "),e("AddOrEditCanvas",{ref:"AddOrEditCanvas",on:{updateList:function(e){return t.$emit("updateList")}}})],1)}),[],!1,null,"18a714c4",null).exports);function Et(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Mt(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Et(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var Rt={name:"CanvasPage",props:{isOpen:{type:Boolean,default:!0}},components:{homeList:ft.a,canvasTplList:Nt,AddOrEditCanvas:Ft.a,NoData:it.a},data:function(){var t;return{isPersonal:null===(t=this.$route.meta)||void 0===t?void 0:t.isPersonal,loading:!1,noMore:!1,pageInfo:{page:1,limit:20,total:0},queryParam:{keyword:"",order_by:"new",type:"template"},list:[],postListDef:!1,orders:[{key:"New",value:"new"},{key:"Hot",value:"hot"}],types:[{key:"Template",value:"template"},{key:"Canvas",value:"canvas"}],getReady:!1}},mounted:function(){this.getList()},computed:Mt(Mt({},Object(l.e)("user",["userInfo"])),{},{isNoData:function(){return this.getReady&&0==this.list.length},getAccountNo:function(){return this.isPersonal?this.userInfo.id:this.$route.params.id}}),methods:{getList:function(t){var e=this;if(!this.loading&&!this.noMore){this.loading=!0;var o,n=this.queryParam,r=n.keyword,l=n.order_by,d=n.type,h={page:this.pageInfo.page,page_size:this.pageInfo.limit,order_by:l};"canvas"==d?(o=c.T,h=Mt(Mt({},h),{},{other_id:this.getAccountNo,with_palette:!0,not_with_template:!0}),this.queryParam.time_to&&(h.time_to=this.queryParam.time_to)):(h=Mt(Mt({},h),{},{keyword:r,account_no:this.getAccountNo,base_models:[],batch:1,offset:0}),o=bt.squarePaletteTemplate),o(h).then((function(o){var n;if(1e4===(null==o||null===(n=o.status)||void 0===n?void 0:n.code)){var r,l,c,d,h;if(e.noMore=!(null!==(r=o.data)&&void 0!==r&&r.has_more),t)e.list=e.list.concat((null===(c=o.data)||void 0===c?void 0:c.items)||[]);else e.list=(null===(d=o.data)||void 0===d?void 0:d.items)||[];if(1===e.pageInfo.page&&null!==(l=o.data)&&void 0!==l&&l.time_ms)e.queryParam.time_to=null===(h=o.data)||void 0===h?void 0:h.time_ms;e.pageInfo.page++,e.postListDef=0==e.list.length}})).finally((function(){e.getReady=!0,e.loading=!1}))}},resetData:function(){this.loading=!1,this.noMore=!1,this.pageInfo={page:1,limit:20,total:0};var t=this.queryParam.keyword,e=void 0===t?"":t;this.queryParam={keyword:e,order_by:"new"},this.list=[],this.postListDef=!1},updateList:function(){this.resetData(),this.getList()},handleFilter:function(t,e){this.queryParam[e]=t,this.pageInfo.page=1,this.noMore=!1,this.getList()},filterReset:function(){this.resetData(),this.getList()},addCanvas:function(){this.$logEvent("log_actions",{operation:"click_create_canvas",behavior_info:this.isPersonal?"on_personal_center":"on_user_page"}),this.$refs.AddOrEditCanvas.openDialog("add")},search:function(){this.noMore=!1,this.pageInfo.page=1,this.getList()},clear:function(){this.queryParam.keyword="",this.noMore=!1,this.pageInfo.page=1,this.getList()}}},Bt=(o(2498),Object(_.a)(Rt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"canvas-page"},[e("div",{staticClass:"canvas-page-head"},["template"==t.queryParam.type?e("div",{staticClass:"input-search"},[e("i",{staticClass:"iconfont icon-min-search"}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.queryParam.keyword,expression:"queryParam.keyword"}],attrs:{type:"text",placeholder:t.$t("minSearch"),maxlength:"40"},domProps:{value:t.queryParam.keyword},on:{keypress:t.search,input:function(e){e.target.composing||t.$set(t.queryParam,"keyword",e.target.value)}}}),t._v(" "),t.queryParam.keyword.length>0?e("i",{staticClass:"el-icon-close",on:{click:t.clear}}):t._e()]):t._e(),t._v(" "),t.isPersonal?e("div",{staticClass:"add-canvas-btn graBorder",on:{click:t.addCanvas}},[e("i",{staticClass:"iconfont icon-workflow_icon_new"}),t._v("\n\t\t\t"+t._s(t.$t("boardCreateBoard"))+"\n\t\t")]):t._e(),t._v(" "),e("el-popover",{attrs:{placement:"bottom","popper-class":"waterfull-filter",trigger:"hover"}},[e("div",{staticClass:"filter-content"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("Sorting")))]),t._v(" "),e("div",{staticClass:"filter"},t._l(t.orders,(function(o){return e("div",{key:o.value,staticClass:"item-filter",class:{active:t.queryParam.order_by==o.value},on:{click:function(e){return t.handleFilter(o.value,"order_by")}}},[t.queryParam.order_by==o.value?e("i",{staticClass:"el-icon-check"}):t._e(),t._v("\n\t\t\t\t\t\t"+t._s(t.$t(o.key))+"\n\t\t\t\t\t")])})),0),t._v(" "),t.isPersonal?e("div",{staticClass:"title"},[t._v(t._s(t.$t("Type")))]):t._e(),t._v(" "),t.isPersonal?e("div",{staticClass:"filter"},t._l(t.types,(function(o){return e("div",{key:o.value,staticClass:"item-filter",class:{active:t.queryParam.type==o.value},on:{click:function(e){return t.handleFilter(o.value,"type")}}},[t.queryParam.type==o.value?e("i",{staticClass:"el-icon-check"}):t._e(),t._v("\n\t\t\t\t\t\t"+t._s(t.$t(o.key))+"\n\t\t\t\t\t")])})),0):t._e(),t._v(" "),e("div",{staticClass:"filter-reset",on:{click:t.filterReset}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("resetSelection"))+"\n\t\t\t\t")])]),t._v(" "),e("div",{staticClass:"filter-box",attrs:{slot:"reference"},slot:"reference"},[e("div",[e("i",{staticClass:"iconfont icon-a-filterIcon"}),t._v(" "),e("span",[t._v(t._s(t.$t("Filter")))])]),t._v(" "),e("i",{staticClass:"el-icon-arrow-down"})])])],1),t._v(" "),t.isNoData?e("NoData"):["template"==t.queryParam.type?e("div",{ref:"homeList",staticClass:"personal-center__list"},[e("homeList",{attrs:{fromPage:"userPage",isOpen:t.isOpen,list:t.list,container:"homeList"},on:{load:function(e){return t.getList(!0)}}})],1):e("canvasTplList",{attrs:{list:t.list,isDef:t.postListDef,addBntShow:!1},on:{load:function(e){return t.getList(!0)},updateList:t.updateList}})],t._v(" "),e("AddOrEditCanvas",{ref:"AddOrEditCanvas",on:{updateList:function(e){return t.$emit("updateList")}}})],2)}),[],!1,null,"ac7e2598",null).exports);function Ut(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}var Vt={name:"ComfyuiPage",props:{isOpen:{type:Boolean,default:!0}},components:{homeList:ft.a,NoData:it.a},data:function(){var t;return{isPersonal:null===(t=this.$route.meta)||void 0===t?void 0:t.isPersonal,loading:!1,noMore:!1,pageInfo:{page:1,limit:20,total:0},queryParam:{keyword:"",order_by:"new",publish_status:0,comfy_ui_type:0},list:[],orders:[{key:"New",value:"new"},{key:"Hot",value:"hot"}],status:[{key:"createSetting1",value:1},{key:"createSetting2",value:2}],selectedStatus:[],types:[{key:"Swtft_App",value:2},{key:"WorkFlow",value:1}],selectedType:[],getReady:!1}},mounted:function(){this.getList()},computed:{isNoData:function(){return this.getReady&&0==this.list.length}},methods:{getList:function(t){var e=this;if(!this.loading&&!this.noMore){this.loading=!0;var o=c.o,n=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Ut(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({page:this.pageInfo.page,page_size:this.pageInfo.limit},this.queryParam);this.queryParam.time_to&&(n.time_to=this.queryParam.time_to),this.isPersonal||(o=c.n,n.act_id=this.$route.params.id),o(n).then((function(o){var n;if(1e4===(null==o||null===(n=o.status)||void 0===n?void 0:n.code)){var r,l,c,d,h;if(e.noMore=!(null!==(r=o.data)&&void 0!==r&&r.has_more),t)e.list=e.list.concat((null===(c=o.data)||void 0===c?void 0:c.items)||[]);else e.list=(null===(d=o.data)||void 0===d?void 0:d.items)||[];if(1===e.pageInfo.page&&null!==(l=o.data)&&void 0!==l&&l.time_ms)e.queryParam.time_to=null===(h=o.data)||void 0===h?void 0:h.time_ms;e.pageInfo.page++}})).finally((function(){e.getReady=!0,e.loading=!1}))}},openWork:function(){this.$logEvent("log_actions",{operation:"click_create_comfyui",behavior_info:"on_personal_center"}),this.$router.push("/workflow")},handleFilter:function(t,e){switch(e){case"order_by":this.queryParam.order_by=t;break;case"publish_status":this.selectedStatus.includes(t)?this.selectedStatus=this.selectedStatus.filter((function(e){return e!==t})):this.selectedStatus.push(t),[0,2].includes(this.selectedStatus.length)?this.queryParam.publish_status=0:this.queryParam.publish_status=this.selectedStatus[0];break;case"type":this.selectedType.includes(t)?this.selectedType=this.selectedType.filter((function(e){return e!==t})):this.selectedType.push(t),[0,2].includes(this.selectedType.length)?this.queryParam.comfy_ui_type=0:this.queryParam.comfy_ui_type=this.selectedType[0]}this.pageInfo.page=1,this.noMore=!1,this.getList()},filterReset:function(){this.loading=!1,this.noMore=!1,this.pageInfo={page:1,limit:20,total:0};var t=this.queryParam.keyword,e=void 0===t?"":t;this.queryParam={keyword:e,order_by:"new",publish_status:0,comfy_ui_type:0},this.list=[],this.getList()},search:function(){this.noMore=!1,this.pageInfo.page=1,this.getList()},clear:function(){this.queryParam.keyword="",this.noMore=!1,this.pageInfo.page=1,this.getList()}}},Wt=Vt,qt=(o(2499),Object(_.a)(Wt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"comfyui-page"},[e("div",{staticClass:"comfyui-page-head"},[e("div",{staticClass:"input-search"},[e("i",{staticClass:"iconfont icon-min-search"}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.queryParam.keyword,expression:"queryParam.keyword"}],attrs:{type:"text",placeholder:t.$t("minSearch"),maxlength:"40"},domProps:{value:t.queryParam.keyword},on:{keypress:t.search,input:function(e){e.target.composing||t.$set(t.queryParam,"keyword",e.target.value)}}}),t._v(" "),t.queryParam.keyword.length>0?e("i",{staticClass:"el-icon-close",on:{click:t.clear}}):t._e()]),t._v(" "),e("div",{staticClass:"end"},[e("div",{staticClass:"on-comfyui-btn-box"},[e("div",{staticClass:"on-comfyui-btn graBorder",on:{click:t.openWork}},[e("i",{staticClass:"iconfont icon-myPostIcon"}),t._v(" "),e("span",[t._v(t._s(t.$t("comfyUIList1")))])])]),t._v(" "),e("el-popover",{attrs:{placement:"bottom","popper-class":"waterfull-filter",trigger:"hover"}},[e("div",{staticClass:"filter-content"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("Sorting")))]),t._v(" "),e("div",{staticClass:"filter"},t._l(t.orders,(function(o){return e("div",{key:o.value,staticClass:"item-filter",class:{active:t.queryParam.order_by==o.value},on:{click:function(e){return t.handleFilter(o.value,"order_by")}}},[t.queryParam.order_by==o.value?e("i",{staticClass:"el-icon-check"}):t._e(),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t(o.key))+"\n\t\t\t\t\t\t")])})),0),t._v(" "),t.isPersonal?e("div",{staticClass:"title"},[t._v(t._s(t.$t("status")))]):t._e(),t._v(" "),t.isPersonal?e("div",{staticClass:"filter"},t._l(t.status,(function(o){return e("div",{key:o.value,staticClass:"item-filter",class:{active:t.selectedStatus.includes(o.value)},on:{click:function(e){return t.handleFilter(o.value,"publish_status")}}},[t.selectedStatus.includes(o.value)?e("i",{staticClass:"el-icon-check"}):t._e(),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t(o.key))+"\n\t\t\t\t\t\t")])})),0):t._e(),t._v(" "),e("div",{staticClass:"title"},[t._v(t._s(t.$t("Type")))]),t._v(" "),e("div",{staticClass:"filter"},t._l(t.types,(function(o){return e("div",{key:o.value,staticClass:"item-filter",class:{active:t.selectedType.includes(o.value)},on:{click:function(e){return t.handleFilter(o.value,"type")}}},[t.selectedType.includes(o.value)?e("i",{staticClass:"el-icon-check"}):t._e(),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t(o.key))+"\n\t\t\t\t\t\t")])})),0),t._v(" "),e("div",{staticClass:"filter-reset",on:{click:t.filterReset}},[t._v("\n\t\t\t\t\t\t"+t._s(t.$t("resetSelection"))+"\n\t\t\t\t\t")])]),t._v(" "),e("div",{staticClass:"filter-box",attrs:{slot:"reference"},slot:"reference"},[e("div",[e("i",{staticClass:"iconfont icon-a-filterIcon"}),t._v(" "),e("span",[t._v(t._s(t.$t("Filter")))])]),t._v(" "),e("i",{staticClass:"el-icon-arrow-down"})])])],1)]),t._v(" "),e("div",{ref:"homeList",staticClass:"personal-center__list"},[e("homeList",{attrs:{fromPage:"userPage",isOpen:t.isOpen,list:t.list,container:"homeList"},on:{load:function(e){return t.getList(!0)}}})],1),t._v(" "),t.isNoData?e("NoData"):t._e()],1)}),[],!1,null,"50cfe938",null).exports),Ht={name:"CollectPage",props:{isOpen:{type:Boolean,default:!0}},components:{CollectionBookmarks:ct.a},data:function(){var t;return{isPersonal:null===(t=this.$route.meta)||void 0===t?void 0:t.isPersonal,collectType:"artwork"}},mounted:function(){var t=this;this.$EventBus.$on("changeCollectType",(function(e){t.changeCollectType(e)}))},beforeDestroy:function(){this.$EventBus.$off("changeCollectType")},computed:{getAccountNo:function(){return this.isPersonal?"":this.$route.params.id}},methods:{changeCollectType:function(t){this.collectType=t}}};o(2500);function zt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Gt(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):zt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var Jt={name:"UserInfoRight",components:{OverviewPage:lt,WorkPage:ht,ModelPage:yt,DigitalPage:Ot,AudioPage:$t,PostPage:Dt,CanvasPage:Bt,ComfyuiPage:qt,CollectPage:Object(_.a)(Ht,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"collect-page"},[e("collection-bookmarks",{ref:"collectionBookmarks",attrs:{isOpen:t.isOpen,account_no:t.getAccountNo,type:t.collectType,category:!1}})],1)}),[],!1,null,"2460d76c",null).exports},props:{isOpen:{type:Boolean,default:!0},userData:{type:Object,default:function(){}}},data:function(){var t;return{formatNumberForeign:d.i,isPersonal:null===(t=this.$route.meta)||void 0===t?void 0:t.isPersonal,activeCategory:"Overview",viewNumObj:{num_of_total:0,num_of_artwork:0,num_of_model:0,num_of_character:0,num_of_timbre:0,num_of_post:0,num_of_design_template:0,num_of_ComfyUi:0}}},computed:Gt(Gt({},Object(l.e)("user",["userInfo"])),{},{getRightStyle:function(){return{marginLeft:this.isOpen?"320px":"0",paddingLeft:this.isOpen?"20px":"35px",width:this.isOpen?"calc(100% - 320px)":"100%"}},isShowHeader:function(){var t,e=(null===(t=this.getUserData)||void 0===t?void 0:t.home_set)||{},o=e.background_img,n=e.notice;return o||n},getFormatTime:function(){return Object(d.B)(this.getUserData.home_set.notice_at)},getUserData:function(){return this.isPersonal?this.userInfo:this.userData},getBgUrl:function(){var t;return{backgroundImage:"url(".concat(null===(t=this.getUserData)||void 0===t||null===(t=t.home_set)||void 0===t?void 0:t.background_img,")")}},renderCategories:function(){var t=this,e=[{key:"Collect",icon:"icon-icon-collect1",iconActive:"icon-icon-collect-selected"},{key:"Overview",icon:"icon-icon-All",iconActive:"icon-icon-All-selectedAll",viewKey:"num_of_total",viewNum:0},{key:"Work",icon:"icon-icon-picture",iconActive:"icon-icon-picture-selected",viewKey:"num_of_artwork",viewNum:0},{key:"Model",icon:"icon-icon-model",iconActive:"icon-icon-model-selected",viewKey:"num_of_model",viewNum:0},{key:"digitalHuman",icon:"icon-icon-Cyberpub",iconActive:"icon-icon-Cyberpub-selected",viewKey:"num_of_character",viewNum:0},{key:"AIAudio",icon:"icon-icon-video1",iconActive:"icon-a-icon-aiaudio-selected",viewKey:"num_of_timbre",viewNum:0},{key:"Post",icon:"icon-icon-Posts",iconActive:"icon-icon-Posts-selected",viewKey:"num_of_post",viewNum:0},{key:"Canvas",icon:"icon-icon-Artboard",iconActive:"icon-icon-Artboard-selected",viewKey:"num_of_design_template",viewNum:0},{key:"WorkflowAIAPP",icon:"icon-icon_ComfyUI",iconActive:"icon-icon_ComfyUI",viewKey:"num_of_comfy_ui",viewNum:0}];return e.forEach((function(e){var o=(null==e?void 0:e.viewKey)||"";o&&t.viewNumObj.hasOwnProperty(o)&&(e.viewNum=t.viewNumObj[o])})),this.$isChinaSite&&e.splice(4,2),e}}),methods:{updateViewNum:function(t){this.viewNumObj=t},changeActive:function(t){this.activeCategory=t},changeCategory:function(t){var e={Collect:"click_collect",Overview:"click_overview",Work:"click_work",Model:"click_model",digitalHuman:"click_tavern",AIAudio:"click_ai_audio",Post:"click_post",Canvas:"click_drawing_board",ComfyUI:"click_ai_workflow",WorkflowAIAPP:"click_ai_workflow"};this.$logEvent("log_actions",{operation:(null==e?void 0:e[t])||"",behavior_info:"on_personal_center"}),this.activeCategory=t}}};o(2501);function Yt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Kt(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Yt(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Yt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var Qt={name:"UserInfo",components:{UserInfoLeft:F,UserInfoRight:Object(_.a)(Jt,(function(){var t,e,o,n,r=this,l=r._self._c;return l("div",{staticClass:"user-info-right",style:r.getRightStyle},[l("el-backtop",{attrs:{bottom:30,right:30}},[l("i",{staticClass:"el-icon-top"})]),r._v(" "),l("div",{staticClass:"user-info-right-category"},r._l(r.renderCategories,(function(t){return l("div",{key:t.key,staticClass:"item-category flex-center",class:{active:t.key==r.activeCategory},on:{click:function(e){return r.changeCategory(t.key)}}},[l("i",{staticClass:"iconfont",class:t.key==r.activeCategory?t.iconActive:t.icon}),r._v(" "),l("span",[r._v(r._s(r.$t(t.key)))]),r._v(" "),t.viewKey?l("span",{staticClass:"count"},[r._v(r._s(r.formatNumberForeign(t.viewNum)))]):r._e()])})),0),r._v(" "),r.isShowHeader?l("div",{staticClass:"user-info-right-header"},[null!==(t=r.getUserData)&&void 0!==t&&null!==(t=t.home_set)&&void 0!==t&&t.background_img?l("div",{staticClass:"bg",style:r.getBgUrl}):r._e(),r._v(" "),null!==(e=r.getUserData)&&void 0!==e&&null!==(e=e.home_set)&&void 0!==e&&e.notice?l("div",{staticClass:"notice"},[l("i",{staticClass:"iconfont icon-icon-personal-notice"}),r._v(" "),null!==(o=r.getUserData)&&void 0!==o&&null!==(o=o.home_set)&&void 0!==o&&o.notice_at?l("span",{staticClass:"time"},[r._v("\n\t\t\t\t"+r._s(r.getFormatTime)+"\n\t\t\t")]):r._e(),r._v("\n\t\t\t"+r._s(null===(n=r.getUserData)||void 0===n||null===(n=n.home_set)||void 0===n?void 0:n.notice)+"\n\t\t")]):r._e()]):r._e(),r._v(" "),l("div",{staticClass:"user-info-right-content"},["Overview"==r.activeCategory?l("OverviewPage",{attrs:{isOpen:r.isOpen},on:{toMore:r.changeActive,updateViewNum:r.updateViewNum}}):r._e(),r._v(" "),"Work"==r.activeCategory?l("WorkPage",{attrs:{isOpen:r.isOpen}}):r._e(),r._v(" "),"Model"==r.activeCategory?l("ModelPage",{attrs:{isOpen:r.isOpen}}):r._e(),r._v(" "),"digitalHuman"==r.activeCategory?l("DigitalPage",{attrs:{isOpen:r.isOpen}}):r._e(),r._v(" "),"AIAudio"==r.activeCategory?l("AudioPage",{attrs:{isOpen:r.isOpen}}):r._e(),r._v(" "),"Post"==r.activeCategory?l("PostPage",{attrs:{isOpen:r.isOpen}}):r._e(),r._v(" "),"Canvas"==r.activeCategory?l("CanvasPage",{attrs:{isOpen:r.isOpen}}):r._e(),r._v(" "),"WorkflowAIAPP"==r.activeCategory?l("ComfyuiPage",{attrs:{isOpen:r.isOpen}}):r._e(),r._v(" "),"Collect"==r.activeCategory?l("CollectPage",{attrs:{isOpen:r.isOpen}}):r._e()],1)],1)}),[],!1,null,"377788c5",null).exports},data:function(){var t;return{isPersonal:null===(t=this.$route.meta)||void 0===t?void 0:t.isPersonal,type:"user",isOpen:!0,userData:{}}},mounted:function(){var t;null!==(t=this.$route.meta)&&void 0!==t&&t.isPersonal&&(this.type="personal"),!this.isPersonal&&this.getData();var e=localStorage.getItem("userPageIsOpen");e?this.isOpen="true"===e:localStorage.setItem("userPageIsOpen",!0)},computed:Kt(Kt({},Object(l.e)("app",["topBanner"])),{},{getStyle:function(){return{top:"calc((100vh - ".concat(this.topBanner?"120px":"74px",") / 2)"),left:this.isOpen?"320px":"0"}}}),methods:{getData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.y)({account_no:t.$route.params.id});case 2:o=e.sent,data=o.data,t.userData=data;case 5:case"end":return e.stop()}}),e)})))()},isOpenClick:function(){this.isOpen=!this.isOpen,localStorage.setItem("userPageIsOpen",this.isOpen)}}},Xt=(o(2502),Object(_.a)(Qt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-info"},[e("client-only",[e("div",{staticClass:"open-btn",style:t.getStyle,on:{click:t.isOpenClick}},[e("i",{class:t.isOpen?"el-icon-arrow-left":"el-icon-arrow-right"})]),t._v(" "),e("UserInfoLeft",{attrs:{isOpen:t.isOpen,userData:t.userData}}),t._v(" "),e("UserInfoRight",{attrs:{isOpen:t.isOpen,userData:t.userData}})],1)],1)}),[],!1,null,"dbb1834e",null));e.a=Xt.exports},500:function(t,e,o){"use strict";o(9),o(7),o(11),o(12),o(8),o(4),o(6);var n=o(2);o(16);function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function l(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var c=o(15),d=o(3),h=o(97),f=(o(20),o(32),o(47),o(10),o(19),o(18),o(29),o(534)),v=o(351),m=(o(28),{}),_=(o(2618),o(0)),y=Object(_.a)(m,(function(){this._self._c;return this._m(0)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"pacman"},[e("div"),t._v(" "),e("div"),t._v(" "),e("div"),t._v(" "),e("div"),t._v(" "),e("div")])}],!1,null,"57e5ef64",null).exports,w=o(1),C=o(5),k=o(98);function O(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function x(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?O(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var P={inject:["top"],props:{info:{type:Object,default:function(){return{img_uris:[],img_uri:""}}},generateLoading:{type:Number,default:0}},data:function(){var t;return{viewIcon:1===(null===(t=this.userInfo)||void 0===t||null===(t=t.settings)||void 0===t?void 0:t.nsfw_plus)?"work-show":"work-hide",quickOptions:{}}},components:{EatLoading:y,QuickQueue:k.a},computed:x(x({},Object(w.e)("user",["userInfo"])),{},{isShowView:function(){var t,e,o=null===(t=this.info)||void 0===t?void 0:t.img_uris[0],n=o.is_nsfw_plus,r=o.nsfw;return(null==this||null===(e=this.userInfo)||void 0===e?void 0:e.enable_nsfw_plus)&&n&&1!==r},imageUrl:function(){var t,e;return null!==(t=this.info)&&void 0!==t&&null!==(t=t.img_uris)&&void 0!==t&&t.length?null===(e=this.info)||void 0===e||null===(e=e.img_uris[0])||void 0===e?void 0:e.url:""},isNsfw:function(){var t,e=null===(t=this.info)||void 0===t?void 0:t.img_uris[0],o=e.is_nsfw_plus,n=e.nsfw;return o&&1===n}}),methods:{handleEvent:function(t){var e="";switch(t){case"VIEW":this.viewNsfw();break;case"U":e="click_hd_repair_button",this.handleUpscale();break;case"DOWNLOAD":e="click_save_button",this.downloadImg();break;default:this.cancelTask()}e&&this.$logEvent("log_actions",{operation:e,behavior_info:"creative_flow_starter"})},viewNsfw:function(){this.viewIcon="work-show"===this.viewIcon?"work-hide":"work-show"},cancelTask:function(){this.$emit("handle","Cancel")},handleUpscale:function(){this.$emit("handle","U")},downloadImg:function(){var t=this.imageUrl.split("/").pop();Object(C.z)(this.imageUrl,t)},viewImage:function(){this.$emit("viewImage")}}},j=(o(2619),Object(_.a)(P,(function(){var t,e,o=this,n=o._self._c;return n("div",{staticClass:"image-panel"},[o.imageUrl?[n("div",{staticClass:"img-box",class:{"nsfw-box":"work-show"===o.viewIcon},style:{backgroundImage:"url(".concat(o.imageUrl,")")},on:{click:o.viewImage}}),o._v(" "),o.isShowView?n("i",{staticClass:"iconfont view-btn",class:"icon-".concat(o.viewIcon),on:{click:function(t){return o.handleEvent("VIEW")}}}):o._e(),o._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"work-hide"===o.viewIcon&&!o.isNsfw,expression:"viewIcon === 'work-hide' && !isNsfw"}],staticClass:"handle-btn"},[n("span",{directives:[{name:"show",rawName:"v-show",value:1===o.info.type,expression:"info.type === 1"}],staticClass:"tooltip-box",attrs:{"data-text":o.$t("SG_UpscalingHover")},on:{click:function(t){return o.handleEvent("U")}}},[o._v("\n        U"),n("b",[o._v(o._s(o.$t("OriginalityUpscale")))])]),o._v(" "),n("span",{staticClass:"tooltip-box",attrs:{"data-text":o.$t("SG_DownloadHover")},on:{click:function(t){return o.handleEvent("DOWNLOAD")}}},[n("i",{staticClass:"iconfont icon-icon-Download"}),o._v(" "),n("b",[o._v(o._s(o.$t("DownloadImg")))])])])]:o._e(),o._v(" "),o.imageUrl||o.generateLoading&&-1!==o.generateLoading?o._e():n("div",{staticClass:"empty-box",attrs:{empty:o.$t("S_ImageEmpty")}},[n("i",{staticClass:"iconfont icon-simple_icon"})]),o._v(" "),o.generateLoading&&-1!==o.generateLoading?n("div",{staticClass:"generate-loading"},[1===o.generateLoading?[n("eat-loading"),o._v(" "),n("p",[o._v(o._s(o.$t("S_ImageWait")))])]:2===o.generateLoading?[n("el-progress",{attrs:{percentage:null===(t=o.info)||void 0===t?void 0:t.process,"show-text":!1,"stroke-width":8,color:"#0D9488"}}),o._v(" "),n("p",{staticClass:"process-text",domProps:{innerHTML:o._s(o.$t("S_Progress",{num:"<span style='color: #fff;'>".concat(null===(e=o.info)||void 0===e?void 0:e.process,"%</span>")}))}}),o._v(" "),n("div",{staticClass:"btns-box"},[n("span",{staticClass:"cancel",on:{click:function(t){return o.handleEvent("CANCEL")}}},[o._v(o._s(o.$t("Cancel")))]),o._v(" "),n("QuickQueue",{attrs:{quickOptions:o.info,quickStyle:{height:"34px",fontSize:"14px"}}})],1)]:o._e()],2):o._e()],2)}),[],!1,null,"4481c929",null).exports),$=o(189),L=o(13);function I(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function S(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?I(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):I(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var D={inject:["top"],components:{STooltip:$.a},props:{value:{type:Object,default:function(){return{prompt:"",negative_prompt:""}}},defaultParams:{type:Object,default:function(){return{}}},modelInfo:{type:Array,default:function(){return[]}},isFluxModel:{type:Boolean,default:!1}},data:function(){return{isLoading:!1,negativeZoom:!0,promptIndex:0,isRewrite:!0}},watch:{modelInfo:function(t){var e;this.promptIndex=0,t.length&&(null!==(e=this.defaultParams)&&void 0!==e&&e.prompt?(this.defaultParams.prompt="",this.changeVal(this.defaultParams.negative_prompt,"negative_prompt")):this.setPrompt())}},computed:{isShowReset:function(){var t,e,o;return null!==(t=this.modelInfo)&&void 0!==t&&t.length?this.modelInfo[this.promptIndex].negative_prompt!==(null===(o=this.value)||void 0===o?void 0:o.negative_prompt):L.i.negative_prompt!==(null===(e=this.value)||void 0===e?void 0:e.negative_prompt)},localText:function(){var t,e,o=this.top.randomPrompt;return null!==(t=this.modelInfo)&&void 0!==t&&t.length?null===(e=this.modelInfo[this.promptIndex])||void 0===e?void 0:e.prompt:o.length?o:""},sizeList:function(){return this.isFluxModel?L.g:L.s}},methods:{setModelParams:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.promptIndex,e=arguments.length>1?arguments[1]:void 0,o=JSON.parse(JSON.stringify(this.modelInfo[t])),n=JSON.parse(JSON.stringify(this.value)),r=n.prompt,l=this.sizeList.findIndex((function(t){return t.width===o.width&&t.height===o.height}));l=l<0?this.sizeList.length-1:l,this.isRewrite||e||(o.prompt=r),this.$emit("input",S(S(S({},n),o),{},{imageSize:l}))},randomInt:function(t,e){return Math.floor(Math.random()*(e-t))+t},changeRandom:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var o,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$logEvent("log_actions",{operation:"click_dice_button",behavior_info:"creative_flow_starter"}),null===(o=t.modelInfo)||void 0===o||!o.length){e.next=6;break}return t.promptIndex++,t.promptIndex===(null===(n=t.modelInfo)||void 0===n?void 0:n.length)&&(t.promptIndex=0),t.setPrompt(!0),e.abrupt("return");case 6:return e.prev=6,t.isLoading=!0,e.next=10,t.top.getRandomPrompt();case 10:t.setPrompt(!0),t.isLoading=!1,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),t.isLoading=!1;case 17:case"end":return e.stop()}}),e,null,[[6,14]])})))()},setPrompt:function(t){var e,o=this.top.randomPrompt;null!==(e=this.modelInfo)&&void 0!==e&&e.length?this.setModelParams(this.promptIndex,Boolean(t)):o.length&&this.changeVal(o,"prompt")},changeVal:function(t,e){var o=JSON.parse(JSON.stringify(this.value));o[e]=t,"prompt"===e&&(this.isRewrite=!1),this.$emit("input",o)},resetNegative:function(){var t,e=null===L.i||void 0===L.i?void 0:L.i.negative_prompt;null!==(t=this.modelInfo)&&void 0!==t&&t.length&&(e=this.modelInfo[this.promptIndex].negative_prompt),this.changeVal(e,"negative_prompt")}}},T=D,F=(o(2621),Object(_.a)(T,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"prompt-panel"},[e("div",{staticClass:"prompt-input"},[e("div",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("Prompt"))+"\n      "),e("s-tooltip",{attrs:{info:"S_PromptTip"}})],1),t._v(" "),e("el-input",{attrs:{type:"textarea",value:t.value.prompt,autosize:{minRows:10,maxRows:10},placeholder:t.$t("S_Prompt_Placeholder")},on:{input:function(e){return t.changeVal(e,"prompt")}}})],1),t._v(" "),e("div",{staticClass:"random-prompt",on:{click:t.changeRandom}},[e("i",{staticClass:"iconfont icon-dice-square",class:{loading:t.isLoading}}),t._v(" "),e("span",[t._v(t._s(t.isLoading?t.$t("Loading")+"...":t.localText))])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isFluxModel,expression:"!isFluxModel"}],staticClass:"negative-prompt"},[e("div",{staticClass:"title",on:{click:function(e){t.negativeZoom=!t.negativeZoom}}},[t._v("\n      "+t._s(t.$t("NegativePrompts"))+"\n      "),e("s-tooltip",{attrs:{info:"S_NegativePromptsTip"}}),t._v(" "),e("span",{staticClass:"el-icon-arrow-up zoom-icon",class:{off:t.negativeZoom}})],1),t._v(" "),e("div",{staticClass:"panel-main",class:{off:t.negativeZoom}},[e("el-input",{attrs:{type:"textarea",value:t.value.negative_prompt,autosize:{minRows:2,maxRows:5}},on:{input:function(e){return t.changeVal(e,"negative_prompt")}}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isShowReset,expression:"isShowReset"}],staticClass:"reset-btn",on:{click:t.resetNegative}},[t._v(t._s(t.$t("S_ResetPrompt")))])],1)]),t._v(" "),t._t("default")],2)}),[],!1,null,"4f68972c",null).exports),A=o(99),N=(o(43),o(14),o(151));function E(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function M(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?E(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):E(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var R={components:{STooltip:$.a,StyleModal:N.a},props:{type:{type:String,default:"Checkpoint"},value:{type:Object,default:function(){return{}}},modelList:{type:Array,default:function(){return[]}}},data:function(){return{keyword:"",moveX:0}},computed:M(M(M({},Object(w.e)("payment",["paymentInfo"])),Object(w.c)("user",["isCompanyAccount"])),{},{list:function(){var t=this;return this.modelList.filter((function(e){return e.model_name.toLowerCase().includes(t.keyword.toLowerCase())}))},selectIds:function(){var t=this.value,e=t.art_model_no,o=t.meta.lora_models;return"LORA"===this.type?o.map((function(t){return t.id=t.model_no,t})):e?[{id:e}]:[]},isVip:function(){var t,e;return(null===(t=this.paymentInfo)||void 0===t?void 0:t.activeState)||(null===(e=this.paymentInfo)||void 0===e?void 0:e.liteActiveState)||this.isCompanyAccount}}),methods:{getActive:function(t){var e=this.value,o=e.art_model_no,n=e.meta.lora_models;return"Checkpoint"===this.type?o===t.model_no:n.some((function(e){return t.model_no===e.model_no}))},changeModel:function(t){var e=JSON.parse(JSON.stringify(this.value)),o=t.model_no,n=t.model_ver_no;"LORA"!==this.type?(e.art_model_no=o,e.art_model_ver_no=n,this.$emit("input",e)):this.changeLora(t)},changeLora:function(t){var e=JSON.parse(JSON.stringify(this.value)),o=e.meta.lora_models,n=o.findIndex((function(e){return e.model_no===t.model_no}));n<0&&o.length>=5?this.$message.error(this.$t("S_MaxLoraNum")):!this.isVip&&n<0&&o.length>=3?this.$EventBus.$emit("showBreakDialog","SimpleLoRALimit5TipWeb","basic"):(n<0?o.push(t):o.splice(n,1),this.$emit("input",e))},searchList:function(t){this.moveX=0},delLora:function(t){var e=JSON.parse(JSON.stringify(this.value));e.meta.lora_models.splice(t,1),this.$emit("input",e)},scrollList:function(t){var e,o=null===(e=this.$refs.modelList)||void 0===e?void 0:e.offsetWidth,n=this.list.length*o/6,r=o-n,l=t>0?this.moveX-o:this.moveX+o;n<o||(l>=0&&(l=0),l<=r&&(l=r),this.moveX=l)},handleSelectModel:function(t){var e=JSON.parse(JSON.stringify(t));e.model_no=t.id,e.model_name=t.name,e.config=[],e.model_cover=null==t?void 0:t.banner.url,this.modelList.some((function(e){return e.model_no===t.id}))||this.$emit("changeList",e),this.changeModel(e),this.$refs.styleModal.handleClose()},openModelPopup:function(){this.$refs.styleModal.openModal()}}},B=(o(2623),Object(_.a)(R,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"model-panel"},[e("div",{staticClass:"title"},[t._v("\n    "+t._s(t.$t("LORA"===t.type?"LoRA":t.type))+"\n    "),e("s-tooltip",{attrs:{info:t.$t("S_"+t.type+"Tip")}}),t._v(" "),e("span",{staticClass:"view-all",on:{click:t.openModelPopup}},[t._v(t._s(t.$t("ShowALL")))]),t._v(" "),e("div",{staticClass:"model-handle"},[e("el-input",{attrs:{placeholder:t.$t("S_Search"+t.type),"prefix-icon":"el-icon-search"},on:{input:t.searchList},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),"LORA"===t.type?e("div",{staticClass:"select-list"},t._l(t.value.meta.lora_models,(function(o,i){return e("div",{key:o.model_no,staticClass:"select-item"},[t._v("\n          "+t._s(o.model_name)+"\n          "),e("i",{staticClass:"el-icon-close",on:{click:function(e){return t.delLora(i)}}})])})),0):t._e()],1)],1),t._v(" "),t.list.length?e("div",{ref:"modelList",staticClass:"model-list"},[e("div",{ref:"scrollList",staticClass:"scroll-body",style:{transform:"translateX(".concat(t.moveX,"px)")}},t._l(t.list,(function(o,i){return e("div",{key:t.type+i,staticClass:"model-item",class:{active:t.getActive(o)},on:{click:function(e){return t.changeModel(o)}}},[e("div",{directives:[{name:"bg-webp",rawName:"v-bg-webp",value:{src:o.model_cover,quality:t.$imgL},expression:"{src:v.model_cover, quality:$imgL}"}],staticClass:"cover"},["Checkpoint"===t.type?e("s-tooltip",{attrs:{icon:"el-icon-warning-outline",info:o.desc}}):t._e()],1),t._v(" "),e("div",{staticClass:"name ellipsis"},[t._v(t._s(o.model_name))])])})),0),t._v(" "),e("span",{staticClass:"scroll-btn prev"},[e("b",{staticClass:"el-icon-arrow-left",on:{click:function(e){return t.scrollList(-1)}}})]),t._v(" "),e("span",{staticClass:"scroll-btn next"},[e("b",{staticClass:"el-icon-arrow-right",on:{click:function(e){return t.scrollList(1)}}})])]):e("div",{staticClass:"empty-list"},[t._v(t._s(t.$t("NoResultsFound")))]),t._v(" "),e("style-modal",{ref:"styleModal",attrs:{isSimpleMode:!0,"model-type":t.type,"select-list":t.selectIds,inTask:!0},on:{selectModel:t.handleSelectModel}})],1)}),[],!1,null,"5b19b724",null).exports),U=(o(48),o(31)),V={props:{value:{type:Boolean,default:!0},btnText:{type:Array,default:function(){return["ON","OFF"]}}},methods:{change:function(t){this.$emit("input",t)}}},W=(o(2624),Object(_.a)(V,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"switch-seed flex"},[e("button",{staticClass:"switch-btn",class:{active:t.value},on:{click:function(e){return t.change(!0)}}},[t._v("\n    "+t._s(t.$t(t.btnText[0]))+"\n  ")]),t._v(" "),e("button",{staticClass:"switch-btn",class:{active:!t.value},on:{click:function(e){return t.change(!1)}}},[t._v("\n    "+t._s(t.$t(t.btnText[1]))+"\n  ")])])}),[],!1,null,"15972c3a",null).exports),H={components:{STooltip:$.a,SwitchBtn:W},props:["config","value"],methods:{changeVal:function(t,e){var o=t;if(void 0!==e){var n=this.config.keys;o=0===e?o+"x"+this.value[n[1]]:this.value[n[0]]+"x"+o}this.$emit("input",o)}}},z=(o(2625),{components:{SFormItem:Object(_.a)(H,(function(){var t,e=this,o=e._self._c;return o("div",{staticClass:"form-item"},[o("div",{staticClass:"form-lable flex justify-between items-center"},[o("div",{staticClass:"label"},[e._v("\n      "+e._s(e.$t(e.config.label))+"\n      "),e.config.tips?o("s-tooltip",{attrs:{info:e.config.tips}}):e._e()],1),e._v(" "),e._t("label")],2),e._v(" "),"select"===e.config.type?o("div",{staticClass:"form-main form-select"},[o("el-select",{attrs:{value:e.value,placeholder:e.config.placeholder,"popper-class":"custom-select",disabled:e.config.disabled},on:{change:e.changeVal}},e._l(null===(t=e.config)||void 0===t?void 0:t.selectList,(function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):"input"===e.config.type?o("div",{staticClass:"form-main form-input"},[o("el-input",{attrs:{value:e.value,disabled:e.config.disabled},on:{input:e.changeVal}})],1):"inputNumber"===e.config.type?o("div",{staticClass:"form-main form-input-number"},[e.$slots.inputSeed?[e._t("inputSeed")]:o("el-input-number",{attrs:{controls:e.config.controls,value:e.value,min:e.config.min,max:e.config.max,disabled:e.config.disabled,step:e.config.step,precision:e.config.precision},on:{input:e.changeVal}})],2):"inputTextarea"===e.config.type?o("div",{staticClass:"form-main form-input-textarea"},[o("el-input",{attrs:{type:"textarea",autosize:{minRows:e.config.min,maxRows:e.config.max},value:e.value,disabled:e.config.disabled},on:{input:e.changeVal}})],1):"slider"===e.config.type?o("div",{staticClass:"form-main form-slider"},[o("el-slider",{attrs:{value:e.value,min:e.config.min,max:e.config.max,step:e.config.step,disabled:e.config.disabled,"show-tooltip":e.config.showTooltip},on:{input:e.changeVal}}),e._v(" "),o("el-input-number",{attrs:{value:e.value,controls:e.config.controls,min:e.config.min,max:e.config.max,step:e.config.step,disabled:e.config.disabled},on:{input:e.changeVal}})],1):"inputPart"===e.config.type?o("div",{staticClass:"form-main form-input-part"},[o("el-input-number",{attrs:{controls:e.config.controls,value:e.value[e.config.keys[0]],disabled:e.config.disabled,min:e.config.min,max:e.config.max,step:e.config.step},on:{input:function(t){return e.changeVal(t,0)}}}),e._v("\n    x\n    "),o("el-input-number",{attrs:{controls:e.config.controls,value:e.value[e.config.keys[1]],disabled:e.config.disabled,min:e.config.min,max:e.config.max,step:e.config.step},on:{input:function(t){return e.changeVal(t,1)}}})],1):e._e(),e._v(" "),"switch"===e.config.type?o("div",{staticClass:"form-main form-select"},[o("switch-btn",{attrs:{value:e.value},on:{input:e.changeVal}})],1):e._e()])}),[],!1,null,"c3cecee0",null).exports,SwitchBtn:W},props:{value:{type:Object,default:function(){return{}}},isFluxModel:{type:Boolean,default:!1}},computed:{seedOptions:function(){var t={max:4294967294};return this.isFluxModel&&(t.max=2147483643),t},seedPlsHd:function(){var t;return"custom"===(null===(t=this.value)||void 0===t?void 0:t.seedMode)?this.$t("customSeed"):this.$t("RandomSeed")},formTempList:function(){var t=this.isFluxModel?["sampler_name","steps","cfg_scale"]:["prompt_magic"];return this.settingFormList.find((function(t){return"imageSize"===t.key})).selectList=this.getSizeList(this.sizeList),this.settingFormList.filter((function(e){return!t.includes(e.key)}))},sizeList:function(){return this.isFluxModel?L.g:L.s}},data:function(){return{panelZoom:!0,settingFormList:[{label:"SamplingMethod",type:"select",key:"sampler_name",selectList:this.getLocalConfig("sampler_name")},{label:"Steps",type:"slider",key:"steps",tips:"HowMTTITGII",max:40,min:1,controls:!1},{label:"CFGScale",type:"slider",key:"cfg_scale",tips:"ClassifierFGSHSTI",step:.5,max:15,min:3,controls:!1},{label:"Seed",type:"inputNumber",key:"seed",tips:"ASendCTOOARNG",controls:!1,min:-1,precision:0},{label:"imageDimensions",type:"select",key:"imageSize",selectList:[]},{label:"S_W_H",type:"inputPart",key:"width",keys:["width","height"],min:128,max:1024,hide:!1,controls:!1},{label:"studio28",type:"switch",key:"prompt_magic",tips:"FluxPromptMagicTips"}]}},watch:{isFluxModel:function(t){this.setCustomeShow(),this.changeVal(2,"imageSize")}},methods:{getSizeList:function(t){var e=this;return t.map((function(t,i){var label=t.label,o=t.width,n=t.height;return{label:"Customization"===label?e.$t("Customization"):"".concat(o,"x").concat(n," [").concat(label,"]"),value:i}}))},getLocalConfig:function(t){var e;var o=localStorage.getItem("wsTaskOptionsInfo");return null===(e=(o=o?JSON.parse(o):{sampler_name:L.o})[t])||void 0===e?void 0:e.map((function(t){return{label:t,value:t}}))},changeForm:function(t,e){"sampler_name"===e?"LCM"===t?(this.changeSettings(!0),this.changeConfigs({steps:4,cfg_scale:1.5,sampler_name:t,lcm_mode:1})):(this.changeSettings(!1),this.changeConfigs({steps:30,cfg_scale:5,sampler_name:t,lcm_mode:0})):this.changeVal(t,e)},changeSettings:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=t?4:30,o=t?1.5:5;this.settingFormList[1].max=t?8:40,this.settingFormList[1].min=t?4:1,this.settingFormList[2].max=t?3:15,this.settingFormList[2].min=t?1:3,this.settingFormList[1].value=e,this.settingFormList[2].value=o},changeVal:function(t,e){var o=JSON.parse(JSON.stringify(this.value));if(o[e]=t,"imageSize"===e){var n=this.sizeList[t],r=n.width,l=n.height;o.width=r?Number(r):683,o.height=l?Number(l):1024}if("width"===e){var c=t.split("x"),d=Object(U.a)(c,2),h=d[0],f=d[1];this.sizeList.findIndex((function(t){return t.width==h&&t.height==f}));o.width=Number(h),o.height=Number(f)}this.setCustomeShow(),this.$emit("input",o)},setCustomeShow:function(){var t=this.value.imageSize;this.formTempList.find((function(t){return"width"===t.key})).hide=t<this.sizeList.length-1},changeConfigs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.keys(t);if(e.length){var o=JSON.parse(JSON.stringify(this.value));e.forEach((function(e){o[e]=t[e]})),this.$emit("input",o)}},getRandomSeed:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Math.floor(2147483643*Math.random())+1:Math.floor(4294967294*Math.random())+1},useSeed:function(t){var s=t;0===t&&this.changeSeed("custom",this.getRandomSeed(this.isFluxModel)),![-1,"-1"].includes(t)&&t&&this.changeSeed("custom",s)},changeSeed:function(){var t,e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"custom",n=arguments.length>1?arguments[1]:void 0,r=JSON.parse(JSON.stringify(this.value));if(null!==(t=this.value)&&void 0!==t&&t.seedMode&&(null===(e=this.value)||void 0===e?void 0:e.seedMode)!==o){var l="custom"===o?this.getRandomSeed(this.isFluxModel):-1;r.seed=l}n&&(r.seed=n),r.seedMode=o,this.$emit("input",r),this.$emit("saveSeed",{seed:n,tag:o})},changeSeedMode:function(t){var e=t?"random":"custom";this.changeSeed(e)}}}),G=z,J=(o(2626),Object(_.a)(G,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"setting-panel",attrs:{id:"settingPanel"}},[e("div",{staticClass:"title",on:{click:function(e){t.panelZoom=!t.panelZoom}}},[t._v("\n    "+t._s(t.$t("Settings"))+"\n    "),e("span",{staticClass:"el-icon-arrow-up zoom-icon",class:{off:t.panelZoom}})]),t._v(" "),e("div",{staticClass:"panel-main",class:{off:t.panelZoom}},t._l(t.formTempList,(function(o,i){return e("s-form-item",{directives:[{name:"show",rawName:"v-show",value:!o.hide,expression:"!v.hide"}],key:o.key+i,attrs:{config:o,value:o.keys?t.value:t.value[o.key],item:o},on:{input:function(e){return t.changeForm(e,o.key)}},scopedSlots:t._u(["seed"===o.key?{key:"label",fn:function(){return[e("switch-btn",{attrs:{value:"custom"!==t.value.seedMode,btnText:["Random","Customization"]},on:{input:t.changeSeedMode}})]},proxy:!0}:null,"seed"===o.key?{key:"inputSeed",fn:function(){return[e("el-input-number",{attrs:{placeholder:t.seedPlsHd,controls:!1,value:t.value.seed,min:-1,precision:0,max:t.seedOptions.max},on:{input:function(e){return t.useSeed(e)}}})]},proxy:!0}:null],null,!0)})})),1)])}),[],!1,null,"4c8daae2",null).exports),Y=o(22),K=o(168),Q=o(35),X=o.n(Q),Z=["art_model_no","art_model_ver_no"];function tt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function et(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):tt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var it={inject:["top"],props:{source:{type:String,default:"popup"}},components:{Header:f.a,GRechargeBanner:v.a,ImagePanel:j,PromptPanel:F,LineLoading:A.a,ModelPanel:B,SettingPanel:J,TaskImageViewer:K.a},data:function(){return{generateLoading:0,generateInfo:{process:0},pollTaskTimer:null,quickTaskFlag:1,modelList:{Checkpoint:[],LORA:[]},params:{action:1,art_model_no:"",art_model_ver_no:"",category:1,speed_type:this.top.isVip?2:1,source:11,meta:{cfg_scale:7,steps:20,lcm_mode:0,sampler_name:"DPM++ 2M Karras",width:683,height:1024,prompt:L.i.prompt,negative_prompt:L.i.negative_prompt,imageSize:2,n_iter:1,clip_skip:1,restore_faces:!1,prompt_magic:!0,vae:"vae-ft-mse-840000-ema-pruned",lora_models:[]}},defaultParams:{},costList:[{min:0,max:512,value:1},{min:512,max:768,value:2},{min:768,max:1024,value:4},{min:1024,max:1e7,value:10}],dialogVisible:!1,imageInfo:{},hoverBtnList:[{code:"chat",icon:"a-home-top-personl1",useText:!1,order:0,tips:"createChartacterToChat",show:!0,showTypeOptions:[]},{code:"animGen",icon:"AnimGenIcon",useText:!1,order:1,tips:"AnimGen",show:!0,showTypeOptions:[]},{code:"upscale",icon:"task-upscale-icon",useText:!0,text:"U",order:2,tips:"WorkUpscale",show:!0,showTypeOptions:[]},{code:"variations",icon:"task-variations-icon",useText:!0,text:"V",order:3,tips:"WorkVariations",show:!0,showTypeOptions:[]},{code:"extraUpscale",icon:"upload-image-icon",useText:!1,order:1,tips:"ExtraUpscale",show:!0,showTypeOptions:[]},{code:"post",icon:"post-icon2",useText:!1,order:5,tips:"GraphicSubmission",show:!0,showTypeOptions:[]}]}},mounted:function(){this.initparams(),this.getModelList()},watch:{"params.art_model_no":function(t){this.changeModel(t)}},computed:et(et({},Object(w.c)("creation",["size_billing_rule"])),{},{isFluxModel:function(){var t,e=this.params.art_model_no;return null===(t=this.modelList.Checkpoint.find((function(t){return t.model_no===e})))||void 0===t?void 0:t.isFlux},modelInfo:function(){var t,e=this.params.art_model_no,o=this.modelList.Checkpoint;return null!=o&&o.length&&(null===(t=o.find((function(t){return t.model_no===e})))||void 0===t?void 0:t.config)||[]},paddingTop:function(){var t=20;return this.top.isShowSubBanner&&(t+=40),t+"px"},defaultCost:function(){var t,e=this.size_billing_rule.baselines||this.costList,o=Math.max(this.params.meta.width,this.params.meta.height),n=1;(e||[]).forEach((function(t){o>t.min&&o<=t.max&&(n=t.value)}));var r=null!==(t=this.params)&&void 0!==t&&null!==(t=t.meta)&&void 0!==t&&t.lcm_mode?.5:1;return this.isFluxModel?6:n*r},viewImageList:function(){var t,e=this.params.meta,o=e.width,n=e.height;return[{url:null===(t=this.generateInfo)||void 0===t||null===(t=t.img_uris[0])||void 0===t?void 0:t.url,width:o,height:n,operateNumber:1}]},btnList:function(){var t=this.isFluxModel?["chat","animGen","extraUpscale"]:[];return this.hoverBtnList.filter((function(e){return!t.includes(e.code)}))}}),methods:{handleClick:function(t){var e=et(et({},this.params),this.imageInfo);this.operate({info:e,type:"A",btnInfo:{btnType:"A",id:1}})},closeViewBigImage:function(){this.dialogVisible=!1},handleImageOperate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=data.operateNumber,o=data.url,n=et(et({},this.params),this.imageInfo);switch(t){case"extraUpscale":this.$EventBus.$emit("openGenerate",{action:6,data:{imageUrl:o,art_work_no:n.pub_artwork_no,meta:Object.assign({},X()(n.meta),{channel:n.category})}});break;case"upscale":this.operate({info:n,type:"U",btnInfo:{btnType:"U",id:e}});break;case"variations":this.operate({info:n,type:"V",btnInfo:{btnType:"V",id:e}});break;case"removeBackground":this.operate({info:n,type:"removeBackground",imageUrl:o});break;case"animGen":this.operate({info:n,type:"A",btnInfo:{btnType:"A",id:e}})}this.closeViewBigImage()},operate:function(t){var e=["U","V"].includes(t.type);this.$EventBus.$emit("TaskListHandle",t),e&&(this.top.menuIndex="textToImage",this.top.changeHandle({creativeMode:this.isFluxModel?"studio":"normal"})),this.top.taskViewScrollToBottom()},viewImage:function(){this.dialogVisible=!0},uploadMate:function(t){this.imageInfo=t},setParams:function(t){if(t){var e=JSON.parse(JSON.stringify(t)),o=t.art_model_no,n=t.art_model_ver_no,data=Object(h.a)(t,Z),r=(null==data?void 0:data.meta)||{},l=r.negative_prompt,c=r.prompt;delete e.isFlux,this.defaultParams={art_model_no:o,art_model_ver_no:n,prompt:c,negative_prompt:l},Object.assign(this.params,e),this.generateTask(t)}},changeModel:function(){var t=arguments,e=this;return Object(d.a)(regeneratorRuntime.mark((function o(){var n,r,l,c,d,h,f;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(r=t.length>0&&void 0!==t[0]?t[0]:e.params.art_model_no,l=t.length>1?t[1]:void 0,c=e.modelList.Checkpoint,d=c.findIndex((function(t){return t.model_no===r})),h=c[d]){o.next=7;break}return o.abrupt("return");case 7:if(null!=h&&null!==(n=h.config)&&void 0!==n&&n.length&&!l){o.next=12;break}return o.next=10,e.getModelInfo(h.model_no,l);case 10:f=o.sent,e.$set(e.modelList.Checkpoint[d],"config",f);case 12:case"end":return o.stop()}}),o)})))()},getModelList:function(){var t=this;this.generateLoading=-1,Object(Y.n)().then((function(e){t.generateLoading=0;var o=e.data,n=o.recommend_loras,r=o.default_flux,l=o.recommend_flux_models,c=t.defaultParams,d=c.art_model_no,h=c.art_model_ver_no,f=c.prompt,v=c.negative_prompt;t.modelList.Checkpoint=t.combineModelList(e.data);var m=r?0:l.length;t.modelList.LORA=n;var _=d||t.modelList.Checkpoint[m].model_no;t.params.art_model_no=_,t.params.art_model_ver_no=h||t.modelList.Checkpoint[0].model_ver_no,t.changeModel(_),d&&(t.defaultParams={prompt:f,negative_prompt:v})})).catch((function(t){}))},combineModelList:function(data){var t=data.recommend_models,e=data.recommend_flux_models;return e=e.map((function(t){return et({isFlux:!0},t)})),[].concat(Object(c.a)(e),Object(c.a)(t)).map((function(t){return t.config="",t}))},getModelInfo:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.art_model_no,o=arguments.length>1?arguments[1]:void 0;return new Promise((function(n,r){var l,c=t.modelList.Checkpoint,d=c.findIndex((function(t){return t.model_no===e}));""===(null===(l=c[d])||void 0===l?void 0:l.config)||o?Object(Y.m)({id:e}).then((function(e){var o=e.data.config;o.forEach((function(e){var o=e.seed,n=e.sampler_name,r=e.cfg_scale,l=e.steps,c=e.negative_prompt;if(o||t.$set(e,"seed",-1),n||t.$set(e,"sampler_name","DPM++ 2M Karras"),r||t.$set(e,"cfg_scale",5),l||t.$set(e,"steps",30),!c){t.$set(e,"negative_prompt","verybadimagenegative_v1.3, ng_deepnegative_v1_75t, (ugly face:0.8),cross-eyed,sketches, (worst quality:2), (low quality:2), (normal quality:2), lowres, normal quality, ((monochrome)), ((grayscale)), skin spots, acnes, skin blemishes, bad anatomy, DeepNegative, facing away, tilted head, {Multiple people}, lowres, bad anatomy, bad hands, text, error, missing fingers, extra digit, fewer digits, cropped, worstquality, low quality, normal quality, jpegartifacts, signature, watermark, username, blurry, bad feet, cropped, poorly drawn hands, poorly drawn face, mutation, deformed, worst quality, low quality, normal quality, jpeg artifacts, signature, watermark, extra fingers, fewer digits, extra limbs, extra arms,extra legs, malformed limbs, fused fingers, too many fingers, long neck, cross-eyed,mutated hands, polar lowres, bad body, bad proportions, gross proportions, text, error, missing fingers, missing arms, missing legs, extra digit, extra arms, extra leg, extra foot, ((repeating hair))")}})),n(o)})).catch((function(t){r(t)})):n([])}))},generateTask:function(t){var e=this,o=t||this.changeParams();if(!this.top.token&&"page"!==this.source)return this.$EventBus.$emit("openLoginDialog",{callBack:function(){localStorage.setItem("isSetSIMPLE","1111")}}),!1;if(!(this.generateLoading>0))if(o.meta.prompt){if(this.init(),"page"===this.source)return localStorage.setItem("isSetSIMPLE","2222"),void this.toGerenatePopup(et(et({},this.params),{},{isFlux:this.isFluxModel}));this.generateLoading=1,(o.isFlux||this.isFluxModel?Y.u:Y.d)(o).then((function(t){var n,data=t.data;e.$message.success(e.$t("CreateSuccess")),e.generateInfo.task_id=null==data?void 0:data.id,e.pollTask(null==data?void 0:data.id),"popup"===e.source&&(null===(n=e.top)||void 0===n||n.updateTask(et(et({},data),{},{status:1,art_model_no:(null==o?void 0:o.art_model_no)||""})))})).catch((function(t){e.generateLoading=0}))}else this.$message.error(this.$t("PromptNotEmpty"))},toGerenatePopup:function(t){this.$EventBus.$emit("openGenerate",{action:1,data:{source:et(et({},t),{},{openType:"SIMPLE"})}})},pollTask:function(t){var e=this;this.generateLoading=2,this.generateInfo.process=0,this.pollTaskTimer=setInterval(Object(d.a)(regeneratorRuntime.mark((function o(){var n,r,l,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(Y.a)({task_ids:[t]});case 3:n=o.sent,r=n.data.items,l=r[0],c=l.process,e.generateInfo.process=c,e.handleTaskStatus(r[0]),o.next=13;break;case 11:o.prev=11,o.t0=o.catch(0);case 13:case"end":return o.stop()}}),o,null,[[0,11]])}))),3e3)},handleTaskStatus:function(t){var e=t.status;return 1===e&&1===this.quickTaskFlag?(this.quickTaskFlag=2,void this.handleGenerateInfo(t)):2===e&&2===this.quickTaskFlag?(this.handleGenerateInfo(t),void(this.quickTaskFlag=1)):void([3,4].includes(e)&&(clearInterval(this.pollTaskTimer),this.pollTaskTimer=null,this.generateLoading=0,this.$EventBus.$emit("shareToNetworks",{imageTask:t,from:"SIMPLE"}),this.handleGenerateInfo(t)))},handleGenerateInfo:function(t){this.$set(this,"generateInfo",t)},changeParams:function(){var t=JSON.parse(JSON.stringify(this.params));![-1,"-1"].includes(t.meta.seed)&&t.meta.seed||(t.meta.seed=Math.floor(4294967294*Math.random())+1);var e=t.meta.lora_models;return delete t.meta.imageSize,t.meta.lora_models=e.map((function(t){return et(et({},t),{},{model_id:t.id,weight:.7})})),t.speed_type=this.top.isVip?2:1,"page"===this.source&&(t.source=17100),this.isFluxModel?(delete t.meta.lora_models,t.meta.lab_base={prompt_magic:t.meta.prompt_magic}):delete t.meta.prompt_magic,t.category=this.isFluxModel?11:1,t},cancelTask:function(){var t=this;this.generateInfo.id=this.generateInfo.task_id,this.$EventBus.$emit("TaskListHandle",{info:this.generateInfo,type:"cancelTask",callback:function(){t.init(!0)}})},init:function(t){var e=this.generateInfo.img_uris;this.generateInfo=et(et({},this.generateInfo),{},{img_uris:t?e:[],process:0}),this.generateLoading=0,clearInterval(this.pollTaskTimer),this.pollTaskTimer=null},scrollTo:function(){var t=this;this.$logEvent("log_actions",{operation:"click_advanced_setting",behavior_info:"creative_flow_starter"}),this.$refs.setting.panelZoom=!1;var e=document.querySelector(".simple-generate");setTimeout((function(){if("page"!==t.source)e.scrollTop=e.scrollHeight;else{var o=document.getElementById("settingPanel").getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:o-100,behavior:"smooth"})}}),300)},handleTask:function(t){if("Cancel"===t)this.cancelTask();else this.upscale()},upscale:function(){var t=this;this.generateLoading=1,"page"!==this.source?this.$EventBus.$emit("TaskListHandle",{info:et(et({},this.generateInfo),{},{id:this.generateInfo.task_id}),type:"U",btnInfo:{btnType:"U",id:1},callback:function(data){t.generateInfo.task_id=data.id,t.pollTask(data.id)}}):this.UHandle()},UHandle:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var o,n,r,data,l,c,d,h,f,v,meta,m,_,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.generateInfo.task_id,e.next=3,Object(Y.h)({id:n});case 3:r=e.sent,data=r.data,c=(l=data||{}).art_model_no,d=l.art_model_ver_no,h=l.art_work_no,f=l.id,v=l.category,meta=l.meta,m=l.img_uris,(_=JSON.parse(JSON.stringify(meta))).controlnet_units=[],_.init_images=[null===(o=m[0])||void 0===o?void 0:o.url],y={action:2,art_model_no:c,art_model_ver_no:d,art_work_no:h,category:v,channel_id:"",operate_number:1,parent_task_id:f,speed_type:t.top.isVip?2:1,meta:_,source:17100},Object(Y.d)(y).then((function(e){var data=e.data;t.generateInfo.task_id=data.id,t.pollTask(data.id)}));case 11:case"end":return e.stop()}}),e)})))()},changeList:function(t,e){this.modelList[e].unshift(t),this.$set(this.modelList,e,this.modelList[e])},saveSAMPLE:function(t){localStorage.setItem("cacheSAMPLE",JSON.stringify(t))},initparams:function(){var t=null;try{t=localStorage.getItem("cacheSAMPLE")||null}catch(t){}if(t){var e=JSON.parse(t),o=e.seed||-1,n=e.tag||"random";this.$set(this.params.meta,"seedMode",n),this.$set(this.params.meta,"seed",o)}else this.params.meta.seed=-1,this.params.meta.seedMode="random"}}},ot=it,nt=(o(2627),Object(_.a)(ot,(function(){var t,e,o=this,n=o._self._c;return n("div",{staticClass:"simple-generate",class:{"page-generate":"page"===o.source},style:{paddingTop:o.paddingTop}},["page"===o.source?n("div",{staticClass:"head-panel"},[n("i",{staticClass:"iconfont icon-simple_icon"}),o._v(" "),n("h1",[o._v(o._s(o.$t("Text2imgTitle")))]),o._v(" "),n("p",[o._v(o._s(o.$t("Text2imgDesc")))])]):n("div",{staticClass:"head-panel"},[null!==(t=o.top)&&void 0!==t&&t.isShowSubBanner?n("g-recharge-banner",{on:{close:function(t){var e;null===(e=o.top)||void 0===e||e.closeSubBanner}}}):o._e()],1),o._v(" "),n("div",{staticClass:"simple-main"},[n("div",{staticClass:"generate-panel"},[n("image-panel",{attrs:{generateLoading:o.generateLoading,info:o.generateInfo},on:{handle:o.handleTask,viewImage:o.viewImage}}),o._v(" "),n("prompt-panel",{attrs:{modelInfo:o.modelInfo,isFluxModel:o.isFluxModel,defaultParams:o.defaultParams},model:{value:o.params.meta,callback:function(t){o.$set(o.params,"meta",t)},expression:"params.meta"}},[n("div",{staticClass:"generate-btn"},[n("div",{staticClass:"gen-btn",class:{loading:o.generateLoading},attrs:{tips:"(".concat(o.$t("PhysicalExertion"),": ").concat(o.defaultCost,")")},on:{click:function(t){return o.generateTask("")}}},[o._v("\n            "+o._s(o.generateLoading?"":o.$t("Generate"))+"\n            "),n("line-loading",{directives:[{name:"show",rawName:"v-show",value:o.generateLoading,expression:"generateLoading"}]})],1),o._v(" "),n("span",{staticClass:"set-btn",on:{click:o.scrollTo}},[n("i",{staticClass:"iconfont icon-setting1"})])])])],1),o._v(" "),n("model-panel",{attrs:{modelList:o.modelList.Checkpoint},on:{changeList:function(t){return o.changeList(t,"Checkpoint")}},model:{value:o.params,callback:function(t){o.params=t},expression:"params"}}),o._v(" "),n("model-panel",{directives:[{name:"show",rawName:"v-show",value:!o.isFluxModel,expression:"!isFluxModel"}],attrs:{type:"LORA",modelList:o.modelList.LORA},on:{changeList:function(t){return o.changeList(t,"LORA")}},model:{value:o.params,callback:function(t){o.params=t},expression:"params"}}),o._v(" "),n("setting-panel",{ref:"setting",attrs:{isFluxModel:o.isFluxModel},on:{saveSeed:function(t){return o.saveSAMPLE(t)}},model:{value:o.params.meta,callback:function(t){o.$set(o.params,"meta",t)},expression:"params.meta"}})],1),o._v(" "),o.dialogVisible?n("task-image-viewer",{staticClass:"message-img-viewer",staticStyle:{"z-index":"9999"},attrs:{"on-close":o.closeViewBigImage,"show-operate-btn":!0,"initial-index":0,msgId:null===(e=o.generateInfo)||void 0===e?void 0:e.task_id,loraModels:{},message:l(l({},o.params),o.imageInfo),hoverBtnRenderList:o.btnList,"url-list":o.viewImageList},on:{uploadMate:o.uploadMate,imageOperate:o.handleImageOperate,handleAnimate:function(t){return o.handleClick("animGen")}}}):o._e()],1)}),[],!1,null,"1eccb6ca",null));e.a=nt.exports},502:function(t,e,o){"use strict";o(9),o(11),o(12),o(8),o(6);var n=o(2),r=(o(16),o(7),o(47),o(10),o(19),o(36),o(4),o(29),o(1)),l=o(30),c=(o(14),o(28),o(5)),d=o(21),h=o(150),f=o(104),v=o(228);function m(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function _(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?m(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):m(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var y={inject:["CardApp","homePageApp"],components:{AudioPlayer:h.a},props:{item:{type:Object,default:function(){return{}}}},data:function(){return{headVisible:!0,formatNumberForeign:c.i,isCollection:!1}},watch:{"item.collect":{handler:function(t){var e=Boolean(t&&t.id);this.isCollection=e},deep:!0,immediate:!0}},computed:_(_(_({},Object(r.c)("user",["isLoggedIn","userInfo"])),Object(r.e)("payment",["paymentInfo"])),{},{authorName:function(){var t,e,o=(null===(t=this.item)||void 0===t?void 0:t.author)||{},n=o.name,r=o.id;return n||r||(null===(e=this.item)||void 0===e?void 0:e.id)||""},theConfig:function(){return this.CardApp.theConfig},ktype:function(){return Object(f.d)(this.item.obj_type)},audioItem:function(){var t,i=this.item;return{id:i.id,timbre_id:i.id,author_id:null==i||null===(t=i.author)||void 0===t?void 0:t.id,text:i.sub_title||i.title||""}},likeNum:function(){var t;return Number(null===(t=this.item)||void 0===t||null===(t=t.stat)||void 0===t?void 0:t.num_of_like)||0},collectionNum:function(){var t;return Number(null===(t=this.item)||void 0===t||null===(t=t.stat)||void 0===t?void 0:t.num_of_collection)||0},isShowTitle:function(){this.item.obj_type,this.$route.params.ptype}}),methods:{headLoaderr:function(t){t.target.style.display="none"},logAction:function(){var t,e,o,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=this.homePageApp.homeData,l=this.CardApp.logData,c=null==this||null===(t=this.homePageApp)||void 0===t||null===(t=t.homeConfigAllData)||void 0===t?void 0:t.items,d=Object(v.a)({list:c,id:r.id}),h="home,".concat(r.id,",").concat(r.title,",").concat(d,",").concat(l.id,",").concat(l.title,",").concat(null!==(e=l.index)&&void 0!==e?e:"");this.$logEvent("log_actions",{operation:n,behavior_info:this.item.id,obj_type:this.item.obj_type,position:h,behavior_info_sub:(null===(o=this.item)||void 0===o?void 0:o.pt)||""})},handTask:function(){this.$emit("onHandTask")},setLike:function(){var t,e=this,o=this.item,n=o.obj_type,r=o.id,c=o.stat,d=o.pt;if(this.isLoggedIn){var h=this.CardApp.getNegativeIds(),f=this.CardApp.getViewDomain(),v=null==this||null===(t=this.paymentInfo)||void 0===t?void 0:t.productLevel;this.item.liked=!this.item.liked;var m={action:this.item.liked?"like":"dislike",obj_no:r,obj_type:n,stat:c,batch_id:d,category:"default",negative_ids:h,view_domain:f,vip:v};Object(l.g)({items:[m]}).then((function(){e.item.liked?e.item.stat.num_of_like=Number(e.item.stat.num_of_like)+1:e.item.stat.num_of_like=Number(e.item.stat.num_of_like)-1,e.setOriginalListItem()}));var _=this.item.liked?"like":"cancel_like";this.logAction(_)}else this.$EventBus.$emit("openLoginDialog")},setCollect:function(){var t=this,e=this.item;e.id,e.obj_type;this.isLoggedIn?this.isCollection?(this.item.stat.num_of_collection=Number(this.item.stat.num_of_collection)-1,this.unFavorite((function(){t.logAction("cancel_collect"),t.setOriginalListItem()}))):(this.item.stat.num_of_collection=Number(this.item.stat.num_of_collection)+1,this.addFavorite((function(){t.logAction("collect"),t.setOriginalListItem()}))):this.$EventBus.$emit("openLoginDialog")},addFavorite:function(t){var e=this,o=this.item.id,r=f.b[this.ktype],l={artwork:"artwork_no",model:"art_model_no",lookbook:"post_no",gallery:"post_no",post:"post_no",palette:"tpl_no",swtft_app:"comfy_ui_no",workflow:"comfy_ui_no",character:"character_no",ai_video:"video_no",ai_audio:"timbre_no"}[r],c=Object(n.a)({},l,o);Object(d.f)(c).then((function(o){var n=o.data.id;e.item.collect={id:n},e.isCollection=!0,e.$EventBus.$emit("setCollectMsgBox",e.item,r),e.CardApp.dotPushReport({action:"collection"}),t&&t()}))},unFavorite:function(t){var e,o=this,n={id:null===(e=this.item)||void 0===e||null===(e=e.collect)||void 0===e?void 0:e.id};Object(d.h)(n).then((function(){o.item.collect={},o.isCollection=!1,o.CardApp.dotPushReport({action:"cancel_collection"}),t&&t()}))},updateCollectData:function(data){this.isCollection||(this.item.stat.num_of_collection=Number(this.item.stat.num_of_collection)+1,this.item.collect={id:data.id})},setOriginalListItem:function(){if(this.CardApp.isWater){var t=this.item,e=t.id,o=t.liked,n=t.stat,r=t.collect;this.homePageApp.waterList.forEach((function(t){e===t.id&&(t.liked=o,t.stat.num_of_like=n.num_of_like,t.collect=r,t.stat.num_of_collection=n.num_of_collection)}))}},handlePlayTry:function(){this.$refs.AudioPlayerRef.handleClickPlay()},otherUser:function(t){var e,o,path="/user/"+encodeURIComponent(null==t||null===(e=t.author)||void 0===e?void 0:e.id);this.userInfo.id==(null==t||null===(o=t.author)||void 0===o?void 0:o.id)&&(path="/personal"),window.open(this.localePath(path),"_blank")},handTitle:function(){this.$emit("onHandTitle")}}},w=y,C=(o(2957),o(2958),o(0)),component=Object(C.a)(w,(function(){var t,e,o,n=this,r=n._self._c;return r("div",{staticClass:"card-info-box"},[r("div",{staticClass:"title-name flex_m"},[[1].includes(n.item.obj_type)?n._e():r("div",{staticClass:"left-text line-one",style:{fontSize:n.CardApp.c_isInward?"18px":"14px"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.handTitle.apply(null,arguments)}}},[n._v("\n      "+n._s(n.item.title||n.item.sub_title||"")+"\n    ")]),n._v(" "),16===n.item.obj_type?r("div",{staticClass:"right-btn flex_m",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.handlePlayTry.apply(null,arguments)}}},[r("AudioPlayer",{ref:"AudioPlayerRef",attrs:{modelPlay:"",item:n.audioItem,playIconCustomStyle:{},customClass:"try-class",playInitIcon:"icon-icon-listen",logParams:{operation:"click_broadcast",behavior_info:"on_ai_audio_waterfall_flow",behavior_info_sub:null===(t=n.item)||void 0===t?void 0:t.id}}}),n._v(" "),r("span",[n._v(n._s(n.$t("audition")))])],1):n._e()]),n._v(" "),n.item.sub_title&&![1,5,15,16].includes(n.item.obj_type)?[r("el-tooltip",{attrs:{effect:"dark",content:n.item.sub_title,placement:"bottom","popper-class":"card-text-tooltip"}},[r("div",{staticClass:"desc-text line-two"},[n._v("\n        "+n._s(n.item.sub_title)+"\n      ")])])]:n._e(),n._v(" "),60!==n.item.obj_type?r("div",{staticClass:"user-info-box flex_m"},[r("div",{staticClass:"user-head flex_m",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.otherUser(n.item)}}},[r("div",{staticClass:"user-head-box"},[null!==(e=n.item)&&void 0!==e&&null!==(e=e.author)&&void 0!==e&&e.head?r("img",{staticClass:"head-img",attrs:{src:null===(o=n.item)||void 0===o||null===(o=o.author)||void 0===o?void 0:o.head},on:{error:n.headLoaderr}}):n._e(),n._v(" "),r("div",{staticClass:"head-err flex_c_m"},[n._v("\n          "+n._s(n.authorName.slice(0,1))+"\n        ")])]),n._v(" "),r("span",{staticClass:"head-name line-one"},[n._v(n._s(n.authorName))])]),n._v(" "),r("div",{staticClass:"info-btns-box flex_m"},n._l(n.theConfig.statList,(function(t){var e,o,l,c,d,h;return r("div",{key:t.type,staticClass:"item flex_m"},["view"===t.type?r("div",{staticClass:"flex"},[r("i",{staticClass:"iconfont icon-browse"}),n._v(" "),r("span",[n._v(n._s(n.formatNumberForeign(null===(e=n.item)||void 0===e||null===(e=e.stat)||void 0===e?void 0:e.num_of_view)))])]):n._e(),n._v(" "),"play"===t.type?r("div",{staticClass:"flex"},[r("i",{staticClass:"iconfont icon-icon_Views"}),n._v(" "),r("span",[n._v(n._s(n.formatNumberForeign(null===(o=n.item)||void 0===o||null===(o=o.stat)||void 0===o?void 0:o.num_of_view)))])]):n._e(),n._v(" "),"like"===t.type?r("div",{staticClass:"flex",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.setLike(n.item)}}},[r("i",{directives:[{name:"show",rawName:"v-show",value:!n.item.liked,expression:"!item.liked"}],staticClass:"iconfont icon-dianzan"}),n._v(" "),r("i",{directives:[{name:"show",rawName:"v-show",value:n.item.liked,expression:"item.liked"}],staticClass:"iconfont icon-dianzanhou"}),n._v(" "),r("span",[n._v(n._s(n.formatNumberForeign(n.likeNum)))])]):n._e(),n._v(" "),"task"===t.type?r("div",{staticClass:"flex",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.handTask.apply(null,arguments)}}},[r("i",{staticClass:"iconfont icon-icon-play"}),n._v(" "),r("span",[n._v(n._s(n.formatNumberForeign(null===(l=n.item)||void 0===l||null===(l=l.stat)||void 0===l?void 0:l.num_of_task)))])]):n._e(),n._v(" "),"token"===t.type?r("div",{staticClass:"flex"},[r("i",{staticClass:"iconfont icon-users-solid",style:{fontSize:"20px"}}),n._v(" "),r("span",[n._v(n._s(n.formatNumberForeign(null===(c=n.item)||void 0===c||null===(c=c.stat)||void 0===c?void 0:c.num_of_token)))])]):n._e(),n._v(" "),"collection"===t.type?r("div",{staticClass:"flex",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.setCollect(n.item)}}},[r("i",{directives:[{name:"show",rawName:"v-show",value:!n.isCollection,expression:"!isCollection"}],staticClass:"iconfont icon-icon-collect1"}),n._v(" "),r("i",{directives:[{name:"show",rawName:"v-show",value:n.isCollection,expression:"isCollection"}],staticClass:"iconfont icon-icon-collect-selected"}),n._v(" "),r("span",[n._v(n._s(n.formatNumberForeign(n.collectionNum)))])]):n._e(),n._v(" "),"count"===t.type?r("div",{staticClass:"flex"},[r("i",{staticClass:"iconfont icon-icon_jiedian"}),n._v(" "),r("span",[n._v(n._s(n.formatNumberForeign(null===(d=n.item)||void 0===d?void 0:d.count)))])]):n._e(),n._v(" "),"download"===t.type&&n.CardApp.isWater?r("div",{staticClass:"flex"},[r("i",{staticClass:"iconfont icon-icon-Download"}),n._v(" "),r("span",[n._v(n._s(n.formatNumberForeign(null===(h=n.item)||void 0===h||null===(h=h.stat)||void 0===h?void 0:h.num_of_download)))])]):n._e()])})),0)]):n._e()],2)}),[],!1,null,"e0790a7c",null),k=component.exports,O=o(13),x=o(132),P=o(56);o(23),o(18),o(118);function j(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function $(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?j(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):j(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var L={inject:["CardApp"],components:{ShareDialog:o(206).a},props:{item:{type:Object,default:function(){return{}}}},data:function(){return{showPop:!1}},computed:$($({},Object(r.c)("user",["isLoggedIn"])),Object(r.e)("user",["userInfo"])),methods:$($({},Object(r.d)("user",["setWaterFallDeleteLits"])),{},{hidePop:function(t){if(t.toElement){var e=!(t.toElement.className||"").includes("el-popover"),o="button"!==t.toElement.localName;e&&o&&(this.showPop=!1)}},handleType:function(t){var e=t.sub_obj_type,o=t.channel;return 2===e&&"sdxl"===o||4===e&&"sdxl"===o?"/cell":6===e?"/animate":"/upscale"},reportArtwork:function(data){var t=this;this.showPop=!1,Object(l.o)({id:data.id}).then((function(e){1e4==e.status.code&&t.$message({message:t.$t("ReportSuccess"),type:"success"})}))},getImageExtensionFromUrl:function(t){var e=t.match(/\/([^/]+)$/);return e&&e[1].includes(".")?"."+e[1].split(".").pop().toLowerCase():".jpeg"},downloadImg:function(data){var t;this.showPop=!1;var e=null==data||null===(t=data.cover)||void 0===t?void 0:t.url,o=this.getImageExtensionFromUrl(e),n=(data.author?data.id:"image")+"".concat(o);Object(c.z)(e,n)},shareWork:function(data){var t;this.showPop=!1;var path="".concat(window.location.origin,"/")+"explore/detail/".concat(data.id,"?source=share_link")+(this.inviteCode?"&u_code=".concat(this.inviteCode):""),image=null==data||null===(t=data.cover)||void 0===t?void 0:t.url;this.$refs.shareDialog.show(path,image,"share","waterfall_flow")},uninterested:function(data){var t=this;this.showPop=!1,Object(l.g)({items:[{action:"not_interested",obj_no:data.id,obj_type:1}]}).then((function(e){var o,n;1e4==(null==e||null===(o=e.status)||void 0===o?void 0:o.code)?(t.$message({message:t.$t("reduceWork"),type:"success"}),t.setWaterFallDeleteLits(data.id),t.CardApp.handFns.resizeFn()):t.$message({message:(null==e||null===(n=e.status)||void 0===n?void 0:n.msg)||t.$t("ServerError"),type:"error"})}))}})},I=(o(2959),Object(C.a)(L,(function(){var t,e=this,o=e._self._c;return o("div",[o("div",{staticClass:"waterfall-hover-photo"},[o("div",{staticClass:"hoverTop"},[o("span",[e._v(e._s(e.handleType(e.item)))]),e._v(" "),e.isLoggedIn?o("div",{staticClass:"moreEdit"},[o("el-popover",{ref:"myPopover",attrs:{placement:"top-end","popper-class":"water-fall-popover","append-to-body":!0,"visible-arrow":!1,"popper-options":{boundariesElement:"body"},width:"100",trigger:"manual","data-hover":"no"},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[o("div",{staticClass:"pop-btns flex",attrs:{"data-hover":"no"}},[o("button",{attrs:{"data-hover":"no"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.reportArtwork(e.item)}}},[e._v("\n              "+e._s(e.$t("Report"))+"\n            ")]),e._v(" "),o("button",{attrs:{"data-hover":"no"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.downloadImg(e.item)}}},[e._v("\n              "+e._s(e.$t("Download"))+"\n            ")]),e._v(" "),o("button",{attrs:{"data-hover":"no"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.shareWork(e.item)}}},[e._v("\n              "+e._s(e.$t("ShareLink"))+"\n            ")]),e._v(" "),e.CardApp.isWater?[o("button",{directives:[{name:"show",rawName:"v-show",value:(null===(t=e.item)||void 0===t||null===(t=t.author)||void 0===t?void 0:t.id)!==e.userInfo.id,expression:"item?.author?.id !== userInfo.id"}],attrs:{"data-hover":"no"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.uninterested(e.item)}}},[e._v("\n                "+e._s(e.$t("dislike"))+"\n              ")])]:e._e()],2),e._v(" "),o("div",{staticClass:"login-waterFall-btn-icon",attrs:{slot:"reference"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.showPop=!e.showPop}},slot:"reference"},[o("i",{staticClass:"iconfont icon-more"})])])],1):e._e()]),e._v(" "),o("div",{staticClass:"hoverMiddle"},[e._v("\n      "+e._s(e.item.sub_title)+"\n    ")])]),e._v(" "),o("ShareDialog",{ref:"shareDialog",attrs:{type:"artwork"}})],1)}),[],!1,null,"0e25cdea",null).exports);function S(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function D(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?S(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):S(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var T={inject:["CardApp","homePageApp"],components:{CollectPopover:P.a,WorkPhoto:I},props:{item:{type:Object,default:function(){return{}}}},data:function(){return{cardTypeNameOld:f.b,collectDotReportInfo:{}}},computed:D(D(D({},Object(r.c)("user",["isLoggedIn"])),Object(r.e)("user",["userInfo"])),{},{ktype:function(){return Object(f.d)(this.item.obj_type)},theConfig:function(){return this.CardApp.theConfig},showCollect:function(){var t=this.item.obj_type;return[1,2,11].includes(t)},showRightBtn:function(){var t=this.item.obj_type;return[1,13,16,2,13,11,9].includes(t)},collectItem:function(){var t,e=JSON.parse(JSON.stringify(this.item)),o=(null==e||null===(t=e.collect)||void 0===t?void 0:t.id)||"";return e.collect=D(D({},e.collect||{}),{},{collection_id:o}),e}}),methods:{logAction:function(){var t,e,o,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=this.homePageApp.homeData,l=this.CardApp.logData,c=null==this||null===(t=this.homePageApp)||void 0===t||null===(t=t.homeConfigAllData)||void 0===t?void 0:t.items,d=Object(v.a)({list:c,id:r.id}),h="home,".concat(r.id,",").concat(r.title,",").concat(d,",").concat(l.id,",").concat(l.title,",").concat(null!==(e=l.index)&&void 0!==e?e:"");this.$logEvent("log_actions",{operation:n,behavior_info:this.item.id,obj_type:this.item.obj_type,position:h,behavior_info_sub:(null===(o=this.item)||void 0===o?void 0:o.pt)||""})},hidePop:function(t){var e;null===(e=this.$refs.WorkPhotoRef)||void 0===e||e.hidePop(t)},handleClick:function(){if(this.isLoggedIn){var t=this.item.obj_type,e=[1,2,11].includes(t),o=[13,16].includes(t);e&&this.createRemix(),o&&this.createTry(),9===t&&this.userChart(),this.CardApp.dotPushReport({action:"task"}),this.logAction("same_create")}else this.$EventBus.$emit("openLoginDialog")},createRemix:function(){var t=this.item.obj_type;this.CardApp.isLoraTrain&&this.loraTrainRemix(),this.CardApp.isModel&&this.modelRemix(),[1].includes(t)&&this.artworkRemix(),[11].includes(t)&&this.paletteRemix()},createTry:function(){var t=this.item.obj_type,e=[13].includes(t),audio=[16].includes(t);e&&this.createComfyui(),audio&&this.createAudio()},artworkRemix:function(){var t=Object.assign({},this.item);t.taskSource=4,t.logEventSource=Object(O.E)(this.$route.name);var e=Object(f.j)(t);this.$EventBus.$emit("openGenerate",{action:1,data:{source:e}})},paletteRemix:function(){var t=this.item,e=t.id,o=t.publish_status;this.$router.push(this.localePath("/editBoard?remix_id=".concat(e,"&publish_type=").concat(o)))},loraTrainRemix:function(){var t=this,e=this.item,o=e.id,n=e.content_type;["Checkpoint","LORA","TextualInversion"].includes(n)?Object(x.c)({model_id:o}).then((function(e){var o=e.data,n=o.ver_id,r=o.train_model_id,link="/loraTrainingEdit?dataSetNo=".concat(r,"&modelVerNo=").concat(n);t.$router.push(t.localePath(link))})):this.$message(this.$t("theTypeNocreate"))},modelRemix:function(){var t,e=this.item,o=(e.id,e.content_type);if(["Checkpoint","LORA","TextualInversion"].includes(o)){var n=Object.assign({},this.item);n.taskSource=1,n.logEventSource=Object(O.E)(this.$route.name),n.banner={url:n.cover.url},n.model_ver_no=null===(t=n.art_model)||void 0===t?void 0:t.ver_id;var r=Object(f.j)(n);this.$EventBus.$emit("openGenerate",{action:1,data:{source:r}})}else this.$message(this.$t("theTypeNocreate"))},createComfyui:function(){var t=this.item,e=t.id,o=t.sub_obj_type,n=t.author;if([1,2].includes(o)){var r,source=this.userInfo&&(null===(r=this.userInfo)||void 0===r?void 0:r.id)==(null==n?void 0:n.id)?3:4;this.$router.push(this.localePath("/workflow?id="+e+"&source=".concat(source)))}else this.$router.push(this.localePath("/workFlowAppDetail/"+e))},createAudio:function(){var t=this.item.id,e=this.localePath("/ai-audio/create/".concat(t));this.$router.push(e)},userChart:function(){var t=this.item.id,e=this.localePath("/aiChat/".concat(t));this.$router.push(e)},collectionOk:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$emit("onCollectionOk",t)}}},F=T,A=(o(2960),Object(C.a)(F,(function(){var t,e,o,n=this,r=n._self._c;return r("div",{staticClass:"prower-box"},[n.isLoggedIn&&null!==(t=n.theConfig)&&void 0!==t&&null!==(t=t.hoverLeftUpArea)&&void 0!==t&&t.show?[r("div",{staticClass:"left-up-area"},[n.showCollect?[r("CollectPopover",{staticClass:"CollectPop",attrs:{type:n.cardTypeNameOld[n.ktype],from:"waterfall",folder:n.collectItem},on:{onCollectionOk:n.collectionOk}})]:n._e()],2)]:n._e(),n._v(" "),null!==(e=n.theConfig)&&void 0!==e&&null!==(e=e.hoverRightUpArea)&&void 0!==e&&e.show?[r("div",{staticClass:"right-up-area"},[n.showRightBtn?r("div",{staticClass:"waterfall-hover-try",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.handleClick.apply(null,arguments)}}},[n._v("\n        "+n._s(n.$t(null===(o=n.theConfig)||void 0===o||null===(o=o.hoverRightUpArea)||void 0===o?void 0:o.text))+"\n      ")]):n._e()])]:n._e(),n._v(" "),[1,"1"].includes(n.item.obj_type)&&!this.CardApp.c_isInward?[r("WorkPhoto",{ref:"WorkPhotoRef",attrs:{item:n.item}})]:n._e()],2)}),[],!1,null,"c98c93d6",null)),N=A.exports,E=o(355),M={components:{MyPlayer:o(260).a},props:{item:{type:Object,default:function(){return{}}}},data:function(){var t,e,o;return{videoConfig:{id:"ai-video-player-"+(new Date).getTime(),url:(null==this||null===(t=this.item)||void 0===t||null===(t=t.stream)||void 0===t?void 0:t.url)||(null==this||null===(e=this.item)||void 0===e||null===(e=e.stream)||void 0===e?void 0:e.url2)||(null==this||null===(o=this.item)||void 0===o||null===(o=o.stream)||void 0===o?void 0:o.url3),width:"100%",height:"100%",volume:0,loop:!0,controls:!1,titleSlot:!1,ignores:["start","loading","enter"]},isPlayOk:!1,showVideo:!1,playerRoom:null,playerEvents:null,PlayerExpandAttrs:null}},methods:{handleMouseOver:function(){this.showVideo=!0,this.playerRoom&&this.playerRoom.play()},handleMouseOut:function(){this.playerRoom&&(this.playerRoom.pause(),this.PlayerExpandAttrs.destroyMyPlayer()),this.showVideo=!1},playerReady:function(t){var e=this,o=t.player,n=t.Events,r=t.expandAttrs;this.playerRoom=o,this.playerEvents=n,this.PlayerExpandAttrs=r,o.on(n.LOADED_DATA,(function(data){e.showVideo&&e.playerRoom.play(),e.isPlayOk=!0}))}}},R=(o(2961),Object(C.a)(M,(function(){var t,e=this,o=e._self._c;return o("div",{staticClass:"video-item-box flex_c_m"},[o("img",{staticClass:"cover-img",attrs:{src:null===(t=e.item.cover)||void 0===t?void 0:t.url}}),e._v(" "),o("div",{staticClass:"video-mask"}),e._v(" "),e.showVideo?o("MyPlayer",{directives:[{name:"show",rawName:"v-show",value:e.isPlayOk,expression:"isPlayOk"}],ref:"MyPlayerRef",staticClass:"player-box",attrs:{config:e.videoConfig,onReady:e.playerReady}}):e._e()],1)}),[],!1,null,"583dc1b8",null).exports),B=o(560),U=o(106),V=o(438);function W(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function H(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?W(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):W(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var z={inject:["homePageApp"],provide:function(){return{CardApp:this}},components:{CardInfoItem:k,HoverPowerMask:N,ImageItem:E.a,VideoItem:R,LeftUpMark:B.a,AdminTag:U.a},props:{item:{type:Object,default:function(){return{}}},imgW:{type:String,default:"300px"},imgH:{type:String,default:"100%"},isInward:{type:Boolean,default:!1},isWater:{type:Boolean,default:!0},handFns:{type:Object,default:function(){return{}}},logData:{type:Object,default:function(){return{}}}},data:function(){return{timer:null}},computed:H(H(H({},Object(r.c)("user",["isLoggedIn","userInfo"])),Object(r.e)("payment",["paymentInfo"])),{},{theConfig:function(){var t=this.item.obj_type;return 2===t&&this.isModel?V.a.t_model||{}:2===t&&this.isLoraTrain?V.a.t_lora_train||{}:13===t&&this.isAiApp?V.a.t_aiapp||{}:13===t&&this.isWorkflow?V.a.t_workflow||{}:V.a[f.d(this.item.obj_type)]||{}},c_isInward:function(){var t=this.theConfig.isInward||!1;return this.isWater?t:this.isInward},isWorkflow:function(){var t=this.item,e=t.obj_type,o=t.sub_obj_type,n=["1",1,"2",2].includes(o);return 13===e&&n},isAiApp:function(){var t=this.item,e=t.obj_type,o=t.sub_obj_type,n=[3,"3",4,"4"].includes(o);return 13===e&&n},isModel:function(){var t=this.item,e=t.obj_type,o=t.channel,n=![1,"1"].includes(o);return 2===e&&n},isLoraTrain:function(){var t=this.item,e=t.obj_type,o=t.channel,n=[1,"1"].includes(o);return 2===e&&n},cardLink:function(){var t=this.item,e=t.obj_type,o=t.id,n=t.sub_channel,r={1:"/explore/detail/".concat(o),2:"/models/detail/".concat(o),5:"/video/".concat(o),9:"/aiChat/".concat(o),14:"/workFlowAppDetail/".concat(o),15:"/ai-video/detail/".concat(o),11:"/editBoard/detail/".concat(o),16:"/ai-audio/detail/".concat(o),60:"/ai-tools/".concat(o)};return this.isAiApp?this.localePath("/workFlowAppDetail/".concat(o)):this.isWorkflow?this.localePath("/workFlowDetail/".concat(o)):4===e&&"article"===n?this.localePath("/articleDetail/".concat(o)):4===e&&"picture"===n?this.localePath("/artWorkDetail/".concat(o)):this.localePath(r[e]||"/")},isVideo:function(){return 5===this.item.obj_type},setNsfwPlus:function(){return function(t){var e,o;return!(null==t||!t.nsfw_plus)&&(null===(e=this.userInfo)||void 0===e||!e.enable_nsfw_plus||[2,"2"].includes(null===(o=this.userInfo)||void 0===o||null===(o=o.settings)||void 0===o?void 0:o.nsfw_plus))}},showNsfwImg:function(){var t=1===this.item.nsfw,e=9!==this.item.obj_type;return t&&e}}),methods:{dotPushReport:function(){var t,e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).action,o=this.item,n=o.obj_type,r=o.id,c=o.stat,d={items:[{action:e,batch_id:o.pt,category:"default",negative_ids:this.getNegativeIds(),obj_no:r,obj_type:n,view_domain:this.getViewDomain(),stat:c,vip:null==this||null===(t=this.paymentInfo)||void 0===t?void 0:t.productLevel}]};Object(l.g)(d)},getNegativeIds:function(){var t,e=this.item.id,o=(null===(t=this.homePageApp)||void 0===t||null===(t=t.$refs)||void 0===t||null===(t=t.HyWaterfallFlowListRef)||void 0===t?void 0:t.renderList)||[],n=o.findIndex((function(t){return t.id===e}))||0;return o.filter((function(t,i){return i<n})).map((function(t){return t.id})).slice(0,10)},getViewDomain:function(){var t,e=(null===(t=this.homePageApp)||void 0===t||null===(t=t.$refs)||void 0===t||null===(t=t.HyHomeFormsRef)||void 0===t?void 0:t.formData)||{};return"home_".concat(e.order_by)},goCardDetail:function(){var t,e,o,n=this.homePageApp.homeData,r=this.logData,l=null==this||null===(t=this.homePageApp)||void 0===t||null===(t=t.homeConfigAllData)||void 0===t?void 0:t.items,c=Object(v.a)({list:l,id:n.id}),d="home,".concat(n.id,",").concat(n.title,",").concat(c,",").concat(r.id,",").concat(r.title,",").concat(null!==(e=r.index)&&void 0!==e?e:"");this.$logEvent("log_actions",{operation:"click",behavior_info:this.item.id,obj_type:this.item.obj_type,position:d,behavior_info_sub:(null===(o=this.item)||void 0===o?void 0:o.pt)||""}),this.dotPushReport({action:"view"}),this.$router.push(this.cardLink)},handleMouseOver:function(){var t=this;this.timer=setTimeout((function(){var e,o=null===(e=t.$refs.VideoItemRef)||void 0===e?void 0:e.handleMouseOver;o&&o()}),500)},handleMouseOut:function(t){var e,o;clearTimeout(this.timer);var n=null===(e=this.$refs.VideoItemRef)||void 0===e?void 0:e.handleMouseOut,r=null===(o=this.$refs.HoverPowerMaskRef)||void 0===o?void 0:o.hidePop;n&&n(),r&&r(t)},tagChange:function(t){this.$emit("onAdmin",t)},collectionOk:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$refs.CardInfoItemRef.updateCollectData(t)},handTask:function(){var t=this.item.obj_type;[5,15].includes(t)||this.$refs.HoverPowerMaskRef.handleClick()},handTitle:function(){var t=this.item,e=t.obj_type,o=t.id;if(9===e){var path=this.localePath("/cyberPubPage/".concat(o));this.$router.push(path)}else this.$router.push(this.cardLink)}}},G=z,J=(o(2962),Object(C.a)(G,(function(){var t=this,e=t._self._c;return e("div",{style:{width:t.imgW,height:"100%"}},[e("a",{staticClass:"base-card-box",attrs:{href:t.cardLink,target:"_blank"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.goCardDetail.apply(null,arguments)}}},[e("div",{staticClass:"content-box",class:[t.showNsfwImg&&"bg-nsfw"],style:{height:t.imgH},on:{mouseenter:function(e){return e.stopPropagation(),e.preventDefault(),t.handleMouseOver.apply(null,arguments)},mouseleave:function(e){return e.stopPropagation(),e.preventDefault(),t.handleMouseOut.apply(null,arguments)}}},[t.showNsfwImg?t._e():[t.isVideo?t._e():e("ImageItem",{style:{filter:t.setNsfwPlus(t.item)?"blur(19px) saturate(160%)":""},attrs:{item:t.item}}),t._v(" "),t.isVideo?e("VideoItem",{ref:"VideoItemRef",style:{filter:t.setNsfwPlus(t.item)?"blur(19px) saturate(160%)":""},attrs:{item:t.item}}):t._e(),t._v(" "),e("div",{staticClass:"left-mark flex_c_m"},[e("LeftUpMark",{attrs:{item:t.item}})],1),t._v(" "),t.c_isInward?e("div",{staticClass:"cardinfo-inward-box"},[e("CardInfoItem",{ref:"CardInfoItemRef",attrs:{item:t.item},on:{onHandTask:t.handTask,onHandTitle:t.handTitle}})],1):t._e(),t._v(" "),t.isVideo?t._e():e("div",{staticClass:"hover-mask-box"},[e("HoverPowerMask",{ref:"HoverPowerMaskRef",attrs:{item:t.item},on:{onCollectionOk:t.collectionOk}})],1),t._v(" "),e("AdminTag",{attrs:{id:t.item.id,type:t.item.obj_type,item:t.item},on:{change:t.tagChange}})]],2),t._v(" "),t.c_isInward?t._e():e("CardInfoItem",{ref:"CardInfoItemRef",attrs:{item:t.item},on:{onHandTask:t.handTask,onHandTitle:t.handTitle}})],1)])}),[],!1,null,"23d50baa",null));e.a=J.exports},520:function(t,e,o){"use strict";o(7),o(14),o(4),o(9),o(11),o(12),o(8);var n=o(15),r=o(2),l=(o(16),o(32),o(47),o(10),o(19),o(165),o(18),o(6),o(29),o(30)),c=o(1),d=o(35),h=o.n(d),f=o(64),v=o(79),m=o(5),_=o(13);function y(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function w(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?y(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var C={props:{active:{type:String,default:""},useNewTag:{type:Boolean,default:!1},renderList:{type:Array,default:function(){return[]}},clickType:{type:Boolean,default:!0},ssrData:{type:Array,default:function(){return[]}},styleType:{type:String,default:"classic"}},components:{SwipeableList:f.a},data:function(){return{replaceImageType:m.x,itemScrollLeft:null,itemScroll:null,selectItem:{},tagInfo:{categories:[],items:[]},SEOTagList:[]}},computed:w(w(w(w({},Object(c.e)("app",["tagHot","tagNew"])),Object(c.e)("user",["token"])),Object(c.c)("user",["accountData"])),{},{setActive:function(){return function(t){return t.id===this.active||t.id===this.selectItem.id}},sortedItems:function(){var t,e=this.useNewTag?this.renderList.length>0?this.renderList:this.tagNew:Object(n.a)(this.tagHot);if(e=e.length?e:this.ssrData,this.useNewTag&&this.accountData&&null!==(t=this.accountData)&&void 0!==t&&null!==(t=t.collect_tags)&&void 0!==t&&t.length){var o,r,l=h()((null===(o=this.accountData)||void 0===o?void 0:o.collect_tags)||[]);r=l.map((function(t){return e.find((function(e){return e.id===t}))})).filter((function(t){return!!t}));var c=e.filter((function(t){return!l.includes(t.id)}));e=[].concat(Object(n.a)(r),Object(n.a)(c))}if(this.accountData&&this.accountData.tags&&this.accountData.tags.length>0&&!this.useNewTag){var d=h()(this.accountData.tags);return d.reverse(),e.sort((function(a,b){var t=d.findIndex((function(t){return t.id===a.id})),e=d.findIndex((function(t){return t.id===b.id}));return-1!==t&&-1!==e?t-e:-1!==t?-1:-1!==e?1:0}))}return e},tagHref:function(){var t=this;return function(e){var path=t.getTagType();return t.localePath("/tagInfo"+path+"/"+(null==e?void 0:e.id))}}}),watch:{sortedItems:function(t){var e=this;this.$nextTick((function(){e.updateLazyLoad()}))}},created:function(){var t=this;this.$EventBus.$on("updateHomeTag",(function(){t.getTags()}))},mounted:function(){var t=this;this.renderList&&0!=this.renderList.length||setTimeout((function(){t.getTags()}),500)},activated:function(){this.getItemScrollLeft()},methods:w(w({},Object(c.d)("app",["setTagHot","setTagNew"])),{},{updateLazyLoad:function(){var t=this;this.$el.querySelectorAll("[data-v-lazyload]").forEach((function(e){t.$options.directives.lazyload.inserted(e)}))},getTagType:function(){var t=this.$route,e=t.name,o=t.params;e=e.split("___")[0];var n=_.v.find((function(t){return e="TagDetail"===e?null==o?void 0:o.type:e,t.name.includes(e)}));return null==n?void 0:n.path},getTags:function(){var t=this;if(this.useNewTag){Object(v.f)({size:1e3}).then((function(e){var o;if(["10000",1e4].includes(null==e||null===(o=e.status)||void 0===o?void 0:o.code)){var n=e.data||{},r=n.categories,l=void 0===r?[]:r,c=n.items,d=void 0===c?[]:c;t.tagInfo.categories=Array.isArray(l)?l:[];var h=Array.isArray(d)?d:[];return t.tagInfo.items=(h||[]).map((function(t){return t.name=t.title||t.id,t.style={},t.style.url=t.cover||"",t})),t.tagInfo.items.length&&t.setTagNew(t.tagInfo.items),t.tagInfo.categories.length&&t.setTagHot(t.tagInfo.categories),e}})).finally((function(){}))}else this.tagHot.length>0?this.getItemScrollLeft():Object(l.l)().then((function(e){t.setTagHot(e.data),t.getItemScrollLeft()}))},getItemScrollLeft:function(){var t=this;this.itemScrollLeft=null,this.$nextTick((function(){t.$refs.listItem&&t.$refs.listItem.forEach((function(e){var o;null!==(o=e.classList)&&void 0!==o&&o.contains("active")&&(t.itemScrollLeft=e.getBoundingClientRect().left)}))}))},selectTags:function(t){var e=this;this.active||!this.clickType?this.selectItem=t:this.selectItem.id===t.id?this.selectItem={}:this.selectItem=t,this.$emit("changeTags",w(w({},this.selectItem),{},{path:this.tagHref(t)})),this.$nextTick((function(){e.changeScroll(t)}))},changeScroll:function(t){var e=this;this.selectItem.id===t.id&&this.$refs.listItem.forEach((function(t,o){t.classList.contains("active")&&(e.itemScroll={value:t.getBoundingClientRect().left,index:o})}))}})},k=(o(2417),o(0)),component=Object(k.a)(C,(function(){var t=this,e=t._self._c;return e("swipeable-list",t._b({attrs:{scrollLeftnum:t.itemScrollLeft,scrollChange:t.itemScroll,iconBntWidth:28}},"swipeable-list",t.$attrs,!1),["classic"===t.styleType?t._l(t.sortedItems.filter((function(t,i){return i<40})),(function(o,n){var r,l;return e("a",{directives:[{name:"lazyload",rawName:"v-lazyload"}],key:n+"_tags",ref:"listItem",refInFor:!0,staticClass:"tags-item",attrs:{href:t.tagHref(o),target:"_blank"},on:{click:function(e){return e.preventDefault(),t.selectTags(o)}}},[o.style&&null!==(r=o.style)&&void 0!==r&&r.url||o.cover?e("img",{attrs:{alt:t.$t(o.name||o.title),width:"30",height:"30","data-src":t.replaceImageType((null===(l=o.style)||void 0===l?void 0:l.url)||o.cover,"low")}}):t._e(),t._v(" "),e("span",[t._v(t._s(t.$t(o.name||o.title)))])])})):t._e(),t._v(" "),"new1"===t.styleType?t._l(t.sortedItems.filter((function(t,i){return i<40})),(function(o,n){var r;return e("a",{key:n+"_tags",ref:"listItem",refInFor:!0,staticClass:"tags-item-new1",style:{backgroundImage:"url(".concat(t.replaceImageType((null===(r=o.style)||void 0===r?void 0:r.url)||o.cover,"low"),")")},attrs:{href:t.tagHref(o),target:"_blank"},on:{click:function(e){return e.preventDefault(),t.selectTags(o)}}},[e("div",{staticClass:"tag-text flex_c_m"},[t._v(t._s(t.$t(o.name||o.title)))])])})):t._e()],2)}),[],!1,null,"09969acf",null);e.a=component.exports},521:function(t,e,o){"use strict";o(14),o(23),o(120);var n=o(2),r=(o(670),o(44),o(395)),l=o.n(r),c=(o(9),o(7),o(10),o(19),o(36),o(11),o(12),o(8),o(4),o(71),o(110),o(6),o(723)),d=o(1),h=o(35),f=o.n(h);function v(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function m(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?v(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var _={inheritAttrs:!1,components:{ElAutocomplete:l.a},props:{assoSearch:{type:Boolean,default:!1},scrollOpen:{type:Boolean,default:!0},inputParams:{type:Object,default:null},inputModes:{type:Array,default:function(){return[]}},request:{type:Function,default:null},callback:{type:Function,default:null},searchType:{type:String,default:"search"},refreshFun:{type:Function,default:null}},data:function(){return{defaultValue:{placeholder:this.$t("Search"),clearable:!1,searchParams:{value:"",searchType:this.searchType}},defaultMode:{modeVisible:!1,searchModes:[{name:"关键字",value:"keyword"},{name:"prompts",value:"prompts"},{name:"job id",value:"jobId"}],selectedSearchModes:[],searchModeDialogVisible:!1},inputValue:"",suggestions:[],suggestStr:"",restaurants:[],state:"",Wh:"inherit",tabBoxShow:!1,inTagBox:!1}},mounted:function(){var t=this;this.search(),this.setWh(),window.addEventListener("resize",this.setWh),this.$EventBus.$on("onResetInput",(function(){t.onClear()})),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",t.setWh),t.$EventBus.$off("onResetInput",(function(){t.onClear()}))}))},updated:function(){"inherit"==this.Wh&&this.setWh()},methods:{intSearch:function(){this.defaultValue.searchParams.value="",this.defaultValue.clearable=!1},changetabBoxShow:function(){this.inTagBox||(this.tabBoxShow=!1)},setWh:function(){if(this.$refs.cnt){var t=this.$refs.cnt.offsetWidth;this.Wh=0==t?"inherit":this.$refs.cnt.offsetWidth+"px"}},bindToCallCompoent:function(){this.defaultValue.searchParams.value=this.$attrs.defaultValue,this.inputModes.length>0&&(this.defaultMode.modeVisible=!0),this.inputParams&&(this.defaultValue.searchParams=this.inputParams.searchParams,this.defaultValue.placeholder=this.inputParams.placeholder||this.defaultValue.placeholder)},onClear:function(){this.defaultValue.searchParams.value="",this.defaultValue.clearable=!1,this.handleChange()},setClear:function(){0==this.defaultValue.searchParams.value.length&&(this.defaultValue.clearable=!1)},handleChange:function(){["",null,void 0].includes(this.defaultValue.searchParams.value)&&this.$emit("child-search",{keyword:this.defaultValue.searchParams.value})},refresh:function(){this.refreshFun?this.refreshFun():this.search("refresh")},showSearchModeDialog:function(){this.searchModeDialogVisible=!0},applySearchModes:function(){this.searchModeDialogVisible=!1,this.defaultValue.searchParams.type=this.defaultMode.selectedSearchModes,this.search()},search:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"search";"refresh"!=t?(0===this.defaultValue.searchParams.value.length&&(this.defaultValue.clearable=!1),this.defaultValue.searchParams.searchType=t,this.$emit("child-search",{keyword:this.defaultValue.searchParams.value})):this.$emit("child-search",{keyword:this.defaultValue.searchParams.value})},loadAll:function(){return[{value:"cute"},{value:"artwork"},{value:"colorful"},{value:"masterpiece"},{value:"macro crisp quality"},{value:"Spider Man"}]},querySearchAsync:function(t,e){var o=this;if(this.suggestStr=t,t.trim()){var param={keyword:t,domain:this.searchModelSuggest};Object(c.a)(param).then((function(t){o.restaurants=t.data.items||[];var n=o.restaurants;if(0!==n.length){var r=n.map((function(t){return{value:t}}));e(r)}else e(o.loadAll())}))}else;},createStateFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},handleSelect:function(t){if(0!==this.defaultValue.searchParams.value.length){this.defaultValue.clearable=!0;var e=t.value.toLowerCase(),o=this.suggestStr.slice(1).toLowerCase();this.$logEvent("log_actions",{operation:"search",behavior_info:t.value}),e.startsWith(o)?(this.defaultValue.searchParams.value=this.suggestStr.slice(0,1)+(t.value.length>1?t.value:""),this.search("search")):this.search("search")}else this.defaultValue.clearable=!1}},computed:m(m(m({},Object(d.e)("search",["searchModelSuggest"])),Object(d.c)("user",["accountData","userInfo"])),{},{setList:function(){return f()(this.accountData.tags).reverse()}})},y=_,w=(o(2420),o(2421),o(0)),component=Object(w.a)(y,(function(){var t=this,e=t._self._c;return e("div",{ref:"cnt",staticClass:"search-input"},[e("div",{staticClass:"my-input-component",style:{width:t.Wh}},[e("el-row",[e("el-col",{staticClass:"input-box",attrs:{span:22}},[t.assoSearch?e("el-autocomplete",t._b({ref:"myAutocomplete",staticClass:"my-input",attrs:{"popper-append-to-body":!1,"popper-class":"autocomplete-popper","select-when-unmatched":!0,placeholder:t.defaultValue.placeholder,"fetch-suggestions":t.querySearchAsync,"highlight-first-item":!1,"trigger-on-focus":!1},on:{input:t.setClear,select:t.handleSelect,focus:function(e){t.tabBoxShow=!0},blur:t.changetabBoxShow},model:{value:t.defaultValue.searchParams.value,callback:function(e){t.$set(t.defaultValue.searchParams,"value",e)},expression:"defaultValue.searchParams.value"}},"el-autocomplete",t.$attrs,!1),[e("template",{slot:"suffix"},[e("i",{directives:[{name:"show",rawName:"v-show",value:!t.defaultValue.clearable,expression:"!defaultValue.clearable"}],staticClass:"iconfont icon-search search-icon",staticStyle:{width:"38px",height:"38px"},on:{click:function(e){t.defaultValue.clearable=!0,t.search("search")}}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.defaultValue.clearable,expression:"defaultValue.clearable"}],staticClass:"clearSearch",on:{click:t.onClear}},[e("i",{staticClass:"el-icon-close"})])])],2):e("el-input",t._b({staticClass:"my-input",attrs:{placeholder:t.defaultValue.placeholder},on:{input:t.setClear,focus:function(e){t.tabBoxShow=!0},blur:t.changetabBoxShow},nativeOn:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.defaultValue.clearable=!0,t.search("search")}},model:{value:t.defaultValue.searchParams.value,callback:function(e){t.$set(t.defaultValue.searchParams,"value",e)},expression:"defaultValue.searchParams.value"}},"el-input",t.$attrs,!1),[e("template",{slot:"suffix"},[e("i",{directives:[{name:"show",rawName:"v-show",value:!t.defaultValue.clearable,expression:"!defaultValue.clearable"}],staticClass:"iconfont icon-search search-icon",staticStyle:{width:"40px",height:"40px"},on:{click:function(e){t.defaultValue.clearable=!0,t.search("search")}}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.defaultValue.clearable,expression:"defaultValue.clearable"}],staticClass:"clearSearch",on:{click:t.onClear}},[e("i",{staticClass:"el-icon-close"})])])],2)],1),t._v(" "),e("el-col",{staticClass:"btn-icon",attrs:{span:1}},[e("el-button",{staticClass:"btn-fresh",attrs:{type:"text",size:"medium"},on:{click:t.refresh}},[e("i",{staticClass:"iconfont icon-refresh search-icon",staticStyle:{width:"48px",height:"48px"}})])],1),t._v(" "),t.defaultMode.modeVisible?e("el-col",{staticClass:"btn-icon",attrs:{span:1}},[e("el-button",{attrs:{type:"text",icon:"el-icon-magic-stick",size:"medium"},on:{click:t.showSearchModeDialog}})],1):t._e(),t._v(" "),e("el-col",{directives:[{name:"show",rawName:"v-show",value:t.userInfo.id,expression:"userInfo.id"}],staticClass:"upload-model-btn",attrs:{span:1}},[e("i",{staticClass:"iconfont icon-icon_Upload"})])],1),t._v(" "),e("el-dialog",{attrs:{visible:t.defaultMode.searchModeDialogVisible,title:"Choose search mode"},on:{"update:visible":function(e){return t.$set(t.defaultMode,"searchModeDialogVisible",e)}}},[e("el-checkbox-group",t._b({model:{value:t.defaultMode.selectedSearchModes,callback:function(e){t.$set(t.defaultMode,"selectedSearchModes",e)},expression:"defaultMode.selectedSearchModes"}},"el-checkbox-group",t.inputModes,!1),t._l(t.defaultMode.searchModes,(function(o,n){return e("el-checkbox",{key:"_选择模式".concat(n),attrs:{label:o.value}},[t._v(t._s(o.name))])})),1),t._v(" "),e("div",{staticClass:"dialog-footer"},[e("el-button",{on:{click:function(e){t.defaultMode.searchModeDialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.applySearchModes}},[t._v("Confirm")])],1)],1)],1)])}),[],!1,null,"a0481be2",null);e.a=component.exports},526:function(t,e,o){"use strict";var n=o(3),r=(o(20),o(10),o(28),o(4),o(18),o(45)),l=o(38),c={name:"SingleImageUpload",props:{accept:{type:String,default:".jpg,.jpeg,.png,.webp"},inCheck:{type:Boolean,default:!1},maxSize:{type:Number,default:5},category:{type:Number,default:2},defaultImageUrl:{type:String,default:""}},watch:{defaultImageUrl:{handler:function(t){t&&(this.imageUrl=t,!this.tempDefaultImageUrl&&(this.tempDefaultImageUrl=t))}}},data:function(){return{imageUrl:"",tempDefaultImageUrl:"",imgFile:null,loading:!1,uploadResult:{url:"",width:"",height:""}}},methods:{handleFileChange:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loading=!0,t.imgFile=t.$refs.input.files[0],console.log("this.imgFile",t.imgFile),t.imgFile){e.next=6;break}return t.loading=!1,e.abrupt("return");case 6:return(o=new FileReader).readAsDataURL(t.imgFile),o.onload=function(){var img=new Image;img.src=o.result,img.onload=function(){t.uploadResult.width=img.naturalWidth,t.uploadResult.height=img.naturalHeight,console.log("this.uploadResult",t.uploadResult)}},e.prev=9,e.next=12,t.handleBeforeUpload(t.imgFile);case 12:r=e.sent,t.uploadResult.url=r.url,console.log("uploadResult",t.uploadResult),(null===(n=t.uploadResult)||void 0===n?void 0:n.url)&&t.$emit("upload",t.uploadResult),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(9),console.error("上传失败",e.t0),t.resetImageFile();case 22:case"end":return e.stop()}}),e,null,[[9,18]])})))()},handleBeforeUpload:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(["image/jpeg","image/png","image/webp","image/jpg"].includes(t.type)){o.next=4;break}return e.$message.error(e.$t("AllowImageFiles")),o.abrupt("return",Promise.reject(new Error(e.$t("AllowImageFiles"))));case 4:if(t.size/1024/1024<=e.maxSize,!(t.size/1024/1024>e.maxSize)){o.next=16;break}return o.prev=6,o.next=9,Object(r.a)(t,1024*e.maxSize*1024);case 9:t=o.sent,o.next=16;break;case 12:return o.prev=12,o.t0=o.catch(6),console.error("Compression failed:",o.t0),o.abrupt("return",Promise.reject(new Error(e.$t(o.t0.message||"HttpErrorCode_30003"))));case 16:if(t.size/1024/1024<=e.maxSize){o.next=21;break}return n=5===e.maxSize?"UploadImageExceed5MB":2===e.maxSize?"UploadImageExceed2MB":"HttpErrorCode_30003",e.$message.error(e.$t(n)),o.abrupt("return",Promise.reject(new Error(e.$t("UploadImageExceed2MB"))));case 21:return o.next=23,e.handleUploadCommon(t);case 23:return l=o.sent,console.log("上传结果",l),e.imageUrl=l.url,o.abrupt("return",l);case 27:case"end":return o.stop()}}),o,null,[[6,12]])})))()},handleUploadCommon:function(t){var e=this;return new Promise((function(o,n){new l.a({type:2}).startUpload(t,{name:"img".concat(Date.now(),".png"),type:"png",category:e.category,size:t.size,needFileId:!0}).then((function(t){e.$logEvent("log_actions",{operation:"click_upload_cover",behavior_info:t.file_id}),o({url:t.url})})).catch((function(){console.error("上传失败"),n()})).finally((function(){e.loading=!1}))}))},deleteFile:function(){this.resetImageFile(),""===this.imageUrl&&this.$emit("upload")},resetImageFile:function(){this.imageUrl="",this.imgFile=null,this.loading=!1}}},d=(o(2522),o(0)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"upload-avatar"},[e("div",{staticClass:"avatar-uploader"},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"upload"},[e("label",{staticClass:"upload-demo",class:{disabled:t.inCheck},attrs:{for:"avatar"}},[t.imageUrl?e("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),e("input",{ref:"input",staticStyle:{display:"none"},attrs:{id:"avatar",type:"file",accept:t.accept,disabled:t.inCheck},on:{change:t.handleFileChange}}),t._v(" "),t.imageUrl?e("div",{staticClass:"img-handle"},[e("i",{staticClass:"el-icon-delete",on:{click:t.deleteFile}})]):t._e()])])])}),[],!1,null,"1212e135",null);e.a=component.exports},557:function(t,e,o){"use strict";o(14),o(4),o(6);var data=o(2011),n={model:{prop:"tagIndex",event:"onChange"},props:{tagIndex:{type:String,default:"hot"},list:{type:Array,default:function(){return data.a}}},data:function(){return{}},computed:{setIcon:function(){var t=this,e="hot";return this.list.forEach((function(o){t.tagIndex==o.id&&(e=o.icon)})),e},selectName:function(){var t=this,e="Hot";return this.list.forEach((function(o){t.tagIndex==o.id&&(e=o.name)})),e}},methods:{handleCommand:function(t){this.$emit("onChange",t)}}},r=(o(2898),o(0)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-select-box"},[e("el-dropdown",{attrs:{trigger:"hover"},on:{command:t.handleCommand}},[e("div",{staticClass:"el-dropdown-link"},["score"===t.tagIndex?e("div",[e("i",{staticClass:"iconfont icon-icon-relativity"}),t._v(" "),e("span",[t._v(t._s(t.$t("relevanceSearch")))])]):t._e(),t._v(" "),"score"!==t.tagIndex?e("div",[e("i",{class:"iconfont icon-".concat(t.setIcon)}),t._v(" "),e("span",[t._v(t._s(t.$t(t.selectName)))])]):t._e(),t._v(" "),e("i",{staticClass:"el-icon-arrow-down"})]),t._v(" "),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.list,(function(o,n){return e("el-dropdown-item",{key:n,attrs:{command:o.id}},[o.show?e("div",{staticClass:"el-dropdown-item"},["score"!==o.id?e("i",{staticClass:"iconfont iconfont-1",class:"icon-".concat(o.icon)}):t._e(),t._v(" "),"score"===o.id?e("i",{staticClass:"iconfont icon-icon-relativity",staticStyle:{"margin-right":"12px"}}):t._e(),t._v(" "),e("span",[t._v(t._s(t.$t(o.name)))])]):t._e()])})),1)],1)],1)}),[],!1,null,"5ac44d48",null);e.a=component.exports},558:function(t,e,o){"use strict";o(14);var n=o(5),r={model:{prop:"timeName",event:"onChange"},props:{timeName:{type:String,default:"All"}},data:function(){return{timeInit:[{name:"All",name2:"click_All_filter",value:"All",startTime:null,endTime:null},{name:"days",name2:"click_days_filter",value:"day",startTime:Object(n.p)().startTimestamp,endTime:Object(n.p)().endTimestamp},{name:"week",name2:"click_week_filter",value:"week",startTime:Object(n.r)().startTimestamp,endTime:Object(n.r)().endTimestamp},{name:"months",name2:"click_months_filter",value:"month",startTime:Object(n.o)().startTimestamp,endTime:Object(n.o)().endTimestamp}]}},computed:{timeText:function(){return{All:"All",day:"days",week:"week",month:"months"}[this.timeName]}},methods:{handleTimeCommand:function(data){this.$emit("onChange",data.value),this.$emit("onChangeItem",data)}}},l=(o(2899),o(0)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"time-select-box"},[e("el-dropdown",{attrs:{trigger:"hover"},on:{command:t.handleTimeCommand}},[e("div",{staticClass:"el-dropdown-link selectTime"},[e("div",[e("i",{staticClass:"el-icon-time"}),t._v(" "),e("span",[t._v(t._s(t.$t(t.timeText)))])]),t._v(" "),e("i",{staticClass:"el-icon-arrow-down"})]),t._v(" "),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.timeInit,(function(o,n){return e("el-dropdown-item",{key:n,attrs:{command:o}},[e("div",{staticClass:"el-dropdown-item el-dropdown-item-time"},[e("span",[t._v(t._s(t.$t(o.name)))])])])})),1)],1)],1)}),[],!1,null,"043472a6",null);e.a=component.exports},560:function(t,e,o){"use strict";o(10),o(18);var n=o(104),r=o(13),l={inject:["CardApp"],data:function(){return{}},props:{item:{type:Object,default:function(){return{}}}},computed:{leftMarkICon:function(){var t=this.item,e=t.obj_type,o=t.sub_channel,r=n.a[e];return 60===e?"icon-a-icon-tag-AIquickapp":"article"===o?"icon-icon-tag-article":this.CardApp.isWorkflow?"icon-icon_jiedian":this.CardApp.isAiApp?"icon-a-icon-tag-AIquickapp":n.e[r]||""},getModelType:function(){var t=this.item,e=t.content_type,o=t.content_sub_type,n="LORA"===e?"LoRA":e,l=(null===r.B||void 0===r.B?void 0:r.B.flux)||[],c="TextualInversion"===n,d="Pony"===o,h=o;return o.includes("SDXL")&&!d?(c?this.$t("embedding1"):n)+" | XL ":l.includes(h)?"LORA"===e?"LoRA | F1 ":e+" | F1 ":c?this.$t("embedding1"):n}}},c=(o(2952),o(0)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",[[1,2].includes(t.item.obj_type)?t._e():e("div",{staticClass:"mark-box flex_c_m"},[e("i",{class:["iconfont",t.leftMarkICon]})]),t._v(" "),2===t.item.obj_type?e("div",{staticClass:"model-mark"},[t._v("\n    "+t._s(t.getModelType)+"\n    "),"Pony"===t.item.content_sub_type?e("span",[t._v("| "),e("i",{staticClass:"iconfont icon-icon-horse"})]):t._e()]):t._e()])}),[],!1,null,"3a668a1e",null);e.a=component.exports},567:function(t,e,o){"use strict";var n={components:{ElImageViewer:o(133).a},data:function(){return{showIndex:0,imageList:[],isShow:!1}},methods:{show:function(){this.isShow=!0},closeViewBigImage:function(){this.imageViewerUrl=[],this.isShow=!1}}},r=o(0),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return t.isShow?e("div",{staticClass:"view-image-popup"},[e("el-image-viewer",{staticClass:"message-img-viewer",staticStyle:{"z-index":"9999"},attrs:{"on-close":t.closeViewBigImage,"url-list":t.imageList,"initial-index":t.showIndex}})],1):t._e()}),[],!1,null,null,null);e.a=component.exports},64:function(t,e,o){"use strict";o(28);var n={props:{isShowIconBtn:{type:Boolean,default:!0},iconBntWidth:{type:Number,default:40},scrollLeftnum:{type:Number,default:null},scrollChange:{type:Object,default:null},moveLeng:{type:Number,default:600},top:{type:[String,Number],default:"50px"},height:{type:String,default:"initial"},bntTop:{type:String,default:"0"},listAlignItems:{type:String,default:"center"},listGap:{type:String,default:"8px"},contentStyle:{type:Object,default:function(){}}},data:function(){return{isShowLeft:!1,isShowRight:!1,savedScrollLeft:0}},mounted:function(){var t=this;this.$refs.scrollArea.addEventListener("scroll",this.setMoveBtnShow),this.$once("hook:beforeDestroy",(function(){t.$refs.scrollArea.removeEventListener("scroll",t.setMoveBtnShow)})),this.$nextTick((function(){t.setMoveBtnShow()})),this.$refs.scrollArea.scrollLeft=this.savedScrollLeft},updated:function(){var t=this;this.$nextTick((function(){t.setMoveBtnShow()}))},watch:{scrollLeftnum:{handler:function(t){t&&t>0&&(this.$refs.scrollArea.scrollLeft=t-this.$refs.scrollArea.getBoundingClientRect().left-this.$refs.scrollArea.offsetWidth/2+50)}},scrollChange:{handler:function(t){if(t.value){var e=t.value-this.$refs.scrollArea.getBoundingClientRect().left-this.$refs.scrollArea.offsetWidth/2+50;this.tagsMove(e)}}}},activated:function(){var t=this;this.$nextTick((function(){t.setMoveBtnShow()})),this.$refs.scrollArea.scrollLeft=this.savedScrollLeft},methods:{setMoveBtnShow:function(){var t,e=this.$refs.scrollArea||{};0===e.scrollLeft?this.isShowLeft=!1:this.isShowLeft=!0,e.scrollLeft+e.clientWidth===e.scrollWidth?this.isShowRight=!1:this.isShowRight=!0,this.savedScrollLeft=null===(t=this.$refs.scrollArea)||void 0===t?void 0:t.scrollLeft},tagsMove:function(t){this.$refs.scrollArea.scrollBy({left:t,behavior:"smooth"})}}},r=(o(2329),o(0)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{ref:"tags",staticClass:"swipeab-leList",style:{marginTop:t.top,height:t.height}},[t.isShowIconBtn?e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowLeft,expression:"isShowLeft"}],staticClass:"swipeab-icon-box swipeab-icon-box-left",style:{width:t.iconBntWidth+"px"}},[e("div",{staticClass:"icon-bnt",style:{width:t.iconBntWidth+"px",height:t.iconBntWidth+"px",marginTop:t.bntTop},on:{click:function(e){return t.tagsMove("-"+t.moveLeng)}}},[e("i",{staticClass:"el-icon-arrow-left"})])]):t._e(),t._v(" "),e("div",{ref:"scrollArea",staticClass:"scroll-area"},[e("div",{staticClass:"content",style:t.contentStyle},[e("div",{staticClass:"list",style:{alignItems:t.listAlignItems,gap:t.listGap}},[t._t("default")],2)])]),t._v(" "),t.isShowIconBtn?e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowRight,expression:"isShowRight"}],staticClass:"swipeab-icon-box swipeab-icon-box-right",style:{width:t.iconBntWidth+"px"}},[e("div",{staticClass:"icon-bnt",style:{width:t.iconBntWidth+"px",height:t.iconBntWidth+"px",marginTop:t.bntTop},on:{click:function(e){return t.tagsMove(t.moveLeng)}}},[e("i",{staticClass:"el-icon-arrow-right"})])]):t._e()])}),[],!1,null,"546d1fd0",null);e.a=component.exports},82:function(t,e,o){"use strict";o(9),o(7),o(11),o(12),o(8),o(4),o(6);var n=o(2),r=(o(28),o(89),o(1));function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function c(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var d={props:{number:{default:0}},computed:c(c({},Object(r.c)("user",["userInfo","isCompanyAccount"])),{},{text:function(){return this.isCompanyAccount?(2.5*Number(this.number)).toFixed(1)+"s GPU":this.number}}),data:function(){return{}}},h=(o(2353),o(0)),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("computingMode"),placement:"top"}},[e("div",{staticClass:"modelPayNum",class:{"GPU-bg":t.isCompanyAccount}},[t._v("\n    "+t._s(t.text)+"\n  ")])])}),[],!1,null,"07f08919",null);e.a=component.exports},911:function(t,e,o){t.exports={}},912:function(t,e,o){t.exports={}},913:function(t,e,o){t.exports={}},914:function(t,e,o){t.exports={}},915:function(t,e,o){t.exports={}},92:function(t,e,o){"use strict";o(9),o(7),o(11),o(12),o(8),o(4),o(6);var n=o(2);o(14);function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function l(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}o(10),o(28),o(89),o(29);var c=o(5),d={props:{isLazyload:{type:Boolean,default:!0},item:{type:Object,default:function(){}},Radius:{type:String,default:"16px"},isHeight:{type:Boolean,default:!0},rotateProp:{type:Boolean,default:!1},widthSize:{type:Number,default:0}},data:function(){return{show:!1}},computed:{imgUrl:function(){var t,e,o,n,r,l=(null===(t=this.item)||void 0===t?void 0:t.replaceUrl)||(null===(e=this.item)||void 0===e||null===(e=e.banner)||void 0===e?void 0:e.replaceUrl),d=(null==this||null===(o=this.item)||void 0===o||null===(o=o.banner)||void 0===o?void 0:o.url)||(null==this||null===(n=this.item)||void 0===n?void 0:n.cover)||(null==this||null===(r=this.item)||void 0===r?void 0:r.url)||"";return l=l||Object(c.x)(d,"low")},height:function(){var t=this.item||{},e=t.cover_width,o=t.cover_height,n=t.banner||{},r=n.width,l=n.height,c=Number(((e||r)/(o||l)).toFixed(2));return parseInt(234/c)},isRotate:function(){var t,e,o;return((null===(t=this.item)||void 0===t?void 0:t.needRotate)||this.rotateProp)&&(null===(e=this.item)||void 0===e?void 0:e.cover_width)<(null===(o=this.item)||void 0===o?void 0:o.cover_height)},fianlSize:function(){return this.isRotate?this.widthSize?{width:this.widthSize+"px"}:this.item.waterHeight&&this.item.waterWidth?{width:this.item.waterHeight+"px",height:this.item.waterWidth+"px"}:null:{width:"100%"}},isImg:function(t){return function(t){if(!t)return"";var e=t.split(".").pop();return["jpg","jpeg","png","webp","gif"].includes(e)}}},mounted:function(){var t=this;setTimeout((function(){t.show=!0}),200)},methods:{imgErrfn:function(){this.imgUrl&&(Object(c.a)(this.imgUrl),Object(c.m)().length>=10&&(Object(c.C)("imgerr",Object(c.m)()||[]),Object(c.g)()))}},beforeDestroy:function(){}},h=(o(2305),o(0)),component=Object(h.a)(d,(function(){var t,e,o,n,r=this,c=r._self._c;return c("div",{staticClass:"ImgWaterFallBox"},[r.isLazyload?c("div",{directives:[{name:"lazyload",rawName:"v-lazyload"}],staticClass:"ImgWaterFall"},[r.isImg(r.imgUrl)?c("img",{staticClass:"cntImg",class:{rotate:r.isRotate},style:l({opacity:r.imgUrl&&r.show?1:0,borderRadius:r.Radius},r.fianlSize),attrs:{"data-src":r.imgUrl,alt:(null===(t=r.item)||void 0===t?void 0:t.prompt)||(null===(e=r.item)||void 0===e||null===(e=e.character)||void 0===e?void 0:e.name),width:"234",height:r.isHeight?r.height:null},on:{error:r.imgErrfn}}):c("video",{attrs:{src:r.item.cover,autoplay:"",width:"100%",height:"100%",loop:"",muted:""},domProps:{muted:!0}})]):c("div",{staticClass:"ImgWaterFall"},[r.isImg(r.imgUrl)?c("img",{staticClass:"cntImg",class:{rotate:r.isRotate},style:l({opacity:r.imgUrl&&r.show?1:0,borderRadius:r.Radius},r.fianlSize),attrs:{src:r.imgUrl,alt:(null===(o=r.item)||void 0===o?void 0:o.prompt)||(null===(n=r.item)||void 0===n||null===(n=n.character)||void 0===n?void 0:n.name),width:"234",height:r.isHeight?r.height:null},on:{error:r.imgErrfn}}):c("video",{attrs:{src:r.item.cover,autoplay:"",width:"100%",height:"100%",loop:"",muted:""},domProps:{muted:!0}})])])}),[],!1,null,"4a64bb92",null);e.a=component.exports},924:function(t,e,o){t.exports={}},963:function(t,e,o){t.exports={}},972:function(t,e,o){t.exports={}},974:function(t,e,o){t.exports={}},98:function(t,e,o){"use strict";o(9),o(7),o(11),o(12),o(8),o(4),o(6);var n=o(2),r=o(1),l=o(86);function c(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function d(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var h={data:function(){return{trailBtnLoading:!1,hasAccelerated:!1}},props:{quickOptions:{type:Object,default:function(){return{}}},quickStyle:{type:Object,default:function(){return{}}}},computed:d(d(d({isShow:function(){var t=this.quickOptions,e=1==t.status,o=1===t.speed_type;return!this.isVip&&e&&o&&!this.hasAccelerated}},Object(r.e)("payment",["paymentInfo"])),Object(r.c)("user",["isCompanyAccount"])),{},{isVip:function(){var t,e;return(null===(t=this.paymentInfo)||void 0===t?void 0:t.activeState)||(null===(e=this.paymentInfo)||void 0===e?void 0:e.liteActiveState)||this.isCompanyAccount}}),methods:{handleTrialFastQueue:function(){var t=this,e=this.quickOptions,o=e.id,n=void 0===o?"":o,r=e.task_id,c=void 0===r?"":r;this.trailBtnLoading=!0,Object(l.c)({id:c||n}).then((function(e){var o,code=null==e||null===(o=e.status)||void 0===o?void 0:o.code;70010===code?t.$EventBus.$emit("showBreakDialog","FastQueueTipWeb","basic"):1e4===code&&(t.hasAccelerated=!0,t.$message.success(t.$t("AccelerateSuccess"))),t.trailBtnLoading=!1}))}}},f=(o(2344),o(0)),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;return t.isShow?e("el-button",{staticClass:"message-process-operate-btn-common fast-queue",style:t.quickStyle,attrs:{size:"mini",loading:t.trailBtnLoading},on:{click:t.handleTrialFastQueue}},[e("i",{staticClass:"iconfont icon-trail-fast-queue"}),t._v(" "),e("span",{staticClass:"words"},[t._v(t._s(t.$t("TrialFastQueue")))])]):t._e()}),[],!1,null,"21085cc5",null);e.a=component.exports},982:function(t,e,o){t.exports={}},99:function(t,e,o){"use strict";o(28);var n={props:{customClass:{type:String,default:""},count:{type:Number,default:5}},computed:{loopCount:function(){return this.count}}},r=(o(2622),o(0)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"line-scale",class:t.customClass},t._l(t.loopCount,(function(t){return e("div",{key:t})})),0)}),[],!1,null,"9b03ebd0",null);e.a=component.exports},996:function(t,e,o){t.exports={}}}]);